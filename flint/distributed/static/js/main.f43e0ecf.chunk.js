(this.webpackJsonpflint=this.webpackJsonpflint||[]).push([[0],{59:function(e,t,n){},61:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),r=n.n(a),i=n(25),o=n.n(i),c=(n(59),n(7)),l=n(8),d=n(15),h=n(14),u=n(52),j=n(9),p=(n(60),n(61),n(70)),b=n(71),m=n(72),O=n(49),x=n(77),v=n(80),y=n(73),f=n(50),g=n(74),I=n(76),w=n(75),k=n(78),N=n(79),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[{name:"Dashboard",link:"#dashboard"},{name:"Investments",link:"#investments"},{name:"My Data",link:"#mydata"},{name:"About",link:"#about"}].map((function(t){return t.name===e.props.activeMenuName?Object(s.jsx)(k.a.Link,{href:t.link,active:!0,eventKey:t.name,children:t.name},t.name):Object(s.jsx)(k.a.Link,{href:t.link,eventKey:t.name,children:t.name},t.name)}));return Object(s.jsxs)(N.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"md",fixed:"top",children:[Object(s.jsxs)(N.a.Brand,{href:"/",children:[Object(s.jsx)("strong",{children:"Flint Portfolio"}),Object(s.jsx)("sup",{children:"0.1.0"})]}),Object(s.jsx)(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsx)(N.a.Collapse,{id:"basic-navbar-nav",children:Object(s.jsx)(k.a,{className:"mr-auto",children:t})})]})}}]),n}(r.a.Component),C=function(){function e(t,n,s){if(Object(c.a)(this,e),this.properties={year:t,month:n,day:s},isNaN(t)||isNaN(n)||isNaN(s))throw new Error("Year, month, and/or day should be a number.");if(t<1900)throw new Error("Year cannot go below 1900.");if(n<1||n>12)throw new Error("Month should be 1 to 12");var a=[31,28,31,30,31,30,31,31,30,31,30,31];if(e.isLeapYear(t)&&(a[1]=29),s<1||s>a[n-1])throw new Error("Invalid day in month range.")}return Object(l.a)(e,[{key:"compareTo",value:function(e){return this.properties.year>e.properties.year?1:this.properties.year<e.properties.year?-1:this.properties.month>e.properties.month?1:this.properties.month<e.properties.month?-1:this.properties.day>e.properties.day?1:this.properties.day<e.properties.day?-1:0}},{key:"toString",value:function(){var e=this.properties.month,t=this.properties.day;return e<10&&(e="0"+e),t<10&&(t="0"+t),this.properties.year+"-"+e+"-"+t}},{key:"daysBetween",value:function(t){if(this.compareTo(t)>0)return t.daysBetween(this);var n=[31,28,31,30,31,30,31,31,30,31,30,31],s=this.properties.day,a=this.properties.month,r=this.properties.year,i=0;for(e.isLeapYear(r)&&(n[1]=29);r!==t.properties.year||a!==t.properties.month||s!==t.properties.day;)i++,++s>n[a-1]&&(s=1,++a>12&&(a=1,r++,e.isLeapYear(r)?n[1]=29:n[1]=28));return i}},{key:"subtractMonth",value:function(){var t=this.properties.year,n=this.properties.month-1;return n<1&&(n=12,t--),new e(t,n,this.properties.day)}},{key:"addMonth",value:function(){var t=this.properties.year,n=this.properties.month+1;return n>12&&(t++,n=1),new e(t,n,this.properties.day)}},{key:"toJson",value:function(){return{year:this.properties.year,month:this.properties.month,day:this.properties.day}}}],[{key:"now",value:function(){var t=new Date;return new e(t.getFullYear(),t.getMonth()+1,t.getDate())}},{key:"copy",value:function(t){return new e(t.properties.year,t.properties.month,t.properties.day)}},{key:"toMyDate",value:function(t){if(this.tokens=t.split("-"),3!==this.tokens.length)return null;for(var n=0;n<this.tokens.length;n++)if(isNaN(this.tokens[n]))return null;var s=parseInt(this.tokens[0]),a=parseInt(this.tokens[1]),r=parseInt(this.tokens[2]);if(s<1900||isNaN(s)||isNaN(a)||isNaN(r))return null;if(a<1||a>12)return null;var i=[31,28,31,30,31,30,31,31,30,31,30,31];return(s%100===0?s%400===0:s%4===0)&&(i[1]=29),r<1||r>i[a-1]?null:new e(s,a,r)}},{key:"jsonToObject",value:function(t){return new e(t.year,t.month,t.day)}},{key:"isLeapYear",value:function(e){return e%100===0?e%400===0:e%4===0}}]),e}(),A=function(){function e(t,n,s,a,r,i,o){Object(c.a)(this,e),this.properties={projectId:t,investmentAmount:n,netInterestRate:s,date:a,repaymentMethod:r,tenure:i,status:o}}return Object(l.a)(e,[{key:"toJson",value:function(){return{projectId:this.properties.projectId,investmentAmount:this.properties.investmentAmount,netInterestRate:this.properties.netInterestRate,date:this.properties.date.toJson(),repaymentMethod:this.properties.repaymentMethod,tenure:this.properties.tenure,status:this.properties.status}}},{key:"calculateTenureInterestRate",value:function(){return this.properties.netInterestRate/12*this.properties.tenure}},{key:"calculateNetGainAmount",value:function(){return this.calculateTenureInterestRate()*this.properties.investmentAmount}},{key:"calculateMonthlyNetInterestPayoutAmount",value:function(){var e=this.properties.netInterestRate/12;return this.properties.investmentAmount*e}},{key:"calculateMonthlyCapitalPayoutAmount",value:function(){return"Equal"===this.properties.repaymentMethod?this.properties.investmentAmount/this.properties.tenure:0}},{key:"calculateNextPayDate",value:function(){var e=C.now(),t=this.generateRepaymentSchedule();if(e.compareTo(t[t.length-1].date)>0)return null;for(var n=0;n<t.length;n++)if(e.compareTo(t[n].date)<=0)return t[n].date;return null}},{key:"calculateMaturityDate",value:function(){var e=this.generateRepaymentSchedule();return e[e.length-1].date}},{key:"calculateNextPayAndMaturityDate",value:function(){if("On Hold"===this.properties.status)return{maturityDate:"On Hold",nextPayDate:"On Hold",nextPayAmount:0};var e=C.now(),t=this.generateRepaymentSchedule(),n={maturityDate:t[t.length-1].date,nextPayDate:"Completed",nextPayAmount:0};if(e.compareTo(t[t.length-1].date)<=0)for(var s=0;s<t.length;s++)if(e.compareTo(t[s].date)<=0){n.nextPayDate=t[s].date,n.nextPayAmount=t[s].netPayout;break}return n}},{key:"generateRepaymentSchedule",value:function(){var e=[],t=this.calculateMonthlyNetInterestPayoutAmount(),n=this.calculateMonthlyCapitalPayoutAmount(),s=C.copy(this.properties.date);"On Hold"===this.properties.status&&(s.properties.day=1);for(var a=0;a<this.properties.tenure;a++){var r=t+n;a+1===this.properties.tenure&&"Balloon"===this.properties.repaymentMethod&&(r+=this.properties.investmentAmount);var i={date:s,netInterestPayout:t,netPayout:r};e.push(i),s=s.addMonth()}return e}}],[{key:"validateProjectId",value:function(e){return this.validationResult={status:!0},""===e&&(this.validationResult.status=!1,this.validationResult.message="Project ID is required."),this.validationResult}},{key:"validateInvestedAmount",value:function(e){return this.validationResult={status:!0},""===e?(this.validationResult.status=!1,this.validationResult.message="Invested amount is required."):isNaN(e)?(this.validationResult.status=!1,this.validationResult.message="Amount should be a numeric value."):e<=0&&(this.validationResult.status=!1,this.validationResult.message="Amount should be a non-zero positive value."),this.validationResult}},{key:"validateNetInterestRate",value:function(e){return this.validationResult={status:!0},""===e?(this.validationResult.status=!1,this.validationResult.message="Net interest rate amount is required."):isNaN(e)?(this.validationResult.status=!1,this.validationResult.message="Net interest rate should be a numeric value."):e<1&&(this.validationResult.status=!1,this.validationResult.message="Net interest rate should at least be 1%."),this.validationResult}},{key:"validateDate",value:function(e){return e=C.toMyDate(e),this.validationResult={status:!0},null===e&&(this.validationResult.status=!1,this.validationResult.message="Invalid date."),this.validationResult}},{key:"validateTenure",value:function(e){return this.validationResult={status:!0},""===e?(this.validationResult.status=!1,this.validationResult.message="Tenure is required."):isNaN(e)?(this.validationResult.status=!1,this.validationResult.message="Tenure should be a numeric value."):e<1&&(this.validationResult.status=!1,this.validationResult.message="Tenure should be at least 1 month."),this.validationResult}},{key:"jsonToObject",value:function(t){return new e(t.projectId,t.investmentAmount,t.netInterestRate,C.jsonToObject(t.date),t.repaymentMethod,t.tenure,t.status)}},{key:"filterInvestmentsByRepaymentMethod",value:function(e,t){return e.filter((function(e){return"All"===t||t===e.properties.repaymentMethod}))}}]),e}(),S=function(){function e(){Object(c.a)(this,e),this.databaseName="flint",this.databaseName in localStorage||(localStorage.setItem(this.databaseName,JSON.stringify({})),console.log("New investments storage created."));var t=JSON.parse(localStorage.getItem(this.databaseName));this.investments={};for(var n=0;n<t.length;n++){var s=A.jsonToObject(t[n]);this.investments[s.properties.projectId]=s}}return Object(l.a)(e,[{key:"exportAsJson",value:function(){var e=[];for(var t in this.investments)e.push(this.investments[t].toJson());return localStorage.setItem(this.databaseName,JSON.stringify(e)),{investments:e}}},{key:"importJson",value:function(e){if(!("investments"in e))return!1;for(var t={},n=e.investments,s=0;s<n.length;s++)try{var a=A.jsonToObject(n[s]);t[a.properties.projectId]=a}catch(r){return console.log(r),!1}return this.investments=t,this.persist(),!0}},{key:"findInvestment",value:function(e){return e in this.investments?this.investments[e]:null}},{key:"deleteInvestment",value:function(e){delete this.investments[e],this.persist()}},{key:"addInvestment",value:function(e){this.investments[e.properties.projectId]=e,this.persist()}},{key:"getInvestments",value:function(){var e=[];for(var t in this.investments)e.push(this.investments[t]);return e}},{key:"persist",value:function(){var e=[];for(var t in this.investments)e.push(this.investments[t].toJson());localStorage.setItem(this.databaseName,JSON.stringify(e))}},{key:"clear",value:function(){this.investments={},this.persist()}}]),e}(),D=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"formatCurrency",value:function(e){return"\u20b1"+e.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]),e}(),P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).database=new S,s.investments=s.database.getInvestments(),s.state={repaymentMethod:"All",issuer:"All",showInterestRateDistribution:!1,showTenureDistribution:!1,showInterestRateByTenureDistribution:!1},s}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=C.now(),n=0,a=0,r=0,i=0,o=0;this.amountInvested=0,this.completedNetEarnings=0,this.netEarnings=0,this.projectedNetAmount=0,this.completedNetPayoutAmount=0,this.completedProjects=0,this.gainPercent=0,this.numOngoingProjects=0,this.netInterestRateStats={avg:0,low:0,high:0},this.tenureStats={avg:0,low:0,high:0},this.netInterestRateAfterTenureStats={avg:0,low:0,high:0},this.interestRateDistribution={},this.tenureDistribution={},this.interestRateTenureDistribution={};var c=A.filterInvestmentsByRepaymentMethod(this.investments,this.state.repaymentMethod);console.log(c),c.length>0&&c.sort((function(e,t){return e.properties.projectId-t.properties.projectId}));for(var l=0,d=0,h=0;h<c.length;h++){var u=c[h];if("On Hold"!==u.properties.status){u.properties.netInterestRate in this.interestRateDistribution||(this.interestRateDistribution[u.properties.netInterestRate]={netInterestRate:u.properties.netInterestRate,frequency:0}),this.interestRateDistribution[u.properties.netInterestRate].frequency++,u.properties.tenure in this.tenureDistribution?this.tenureDistribution[u.properties.tenure]++:this.tenureDistribution[u.properties.tenure]=1;var j=(100*u.properties.netInterestRate).toFixed(2)+"% @ "+u.properties.tenure+" month(s)";j in this.interestRateTenureDistribution?this.interestRateTenureDistribution[j]++:this.interestRateTenureDistribution[j]=1;var k=u.properties.netInterestRate;(0===h||k>this.netInterestRateStats.high)&&(this.netInterestRateStats.high=k),(0===h||k<this.netInterestRateStats.low)&&(this.netInterestRateStats.low=k);var N=u.properties.tenure;(0===h||N>this.tenureStats.high)&&(this.tenureStats.high=N),(0===h||N<this.tenureStats.low)&&(this.tenureStats.low=N),l+=k,d+=N;var S=u.generateRepaymentSchedule();0===S[S.length-1].date.compareTo(t)&&n++,S[S.length-1].date.compareTo(t)<=0&&this.completedProjects++,"Balloon"===u.properties.repaymentMethod&&(this.amountInvested+=u.properties.investmentAmount);for(var P=0;P<S.length;P++){var T=S[P];0===T.date.compareTo(t)&&(i++,o+=T.netPayout),this.projectedNetAmount+=T.netPayout,"Equal"===u.properties.repaymentMethod&&(this.amountInvested+=T.netPayout-T.netInterestPayout),this.netEarnings+=T.netInterestPayout,T.date.compareTo(t)<=0&&(this.completedNetEarnings+=T.netInterestPayout,this.completedNetPayoutAmount+=T.netPayout)}}else a++,r+=u.properties.investmentAmount}this.numOngoingProjects=c.length-a,this.gainPercent=((this.projectedNetAmount-this.amountInvested)/this.amountInvested*100).toFixed(2),isNaN(this.gainPercent)&&(this.gainPercent=0),this.numOngoingProjects>0&&(this.netInterestRateStats.avg=l/this.numOngoingProjects,this.tenureStats.avg=d/this.numOngoingProjects,this.netInterestRateAfterTenureStats.avg=this.netInterestRateStats.avg/12*this.tenureStats.avg,this.netInterestRateAfterTenureStats.high=this.netInterestRateStats.high/12*this.tenureStats.high,this.netInterestRateAfterTenureStats.low=this.netInterestRateStats.low/12*this.tenureStats.low);var M=Object(s.jsx)(s.Fragment,{});n>0&&(M=Object(s.jsxs)(p.a,{variant:"success",children:[Object(s.jsx)("strong",{children:"Congratulations!"})," You have ",Object(s.jsxs)("strong",{children:[n," project(s)"]})," that reached the maturity date today."]}));var F=Object(s.jsx)(s.Fragment,{});a>0&&(F=Object(s.jsxs)(p.a,{variant:"warning",children:["You have ",Object(s.jsxs)("strong",{children:[a," on hold project(s)"]})," with a total amount of ",Object(s.jsx)("strong",{children:D.formatCurrency(r)})]}));var B=Object(s.jsx)(s.Fragment,{});return i>0&&(B=Object(s.jsxs)(p.a,{variant:"success",children:["You have ",Object(s.jsxs)("strong",{children:[i," payout(s)"]})," today with a total amount of ",Object(s.jsx)("strong",{children:D.formatCurrency(o)})]})),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R,{activeMenuName:"Dashboard"}),Object(s.jsxs)(b.a,{fluid:!0,children:[Object(s.jsx)(m.a,{children:Object(s.jsx)(O.a,{md:"12",children:Object(s.jsx)("h2",{children:"Dashboard"})})}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(O.a,{md:"12",children:M}),Object(s.jsx)(O.a,{md:"12",children:F}),Object(s.jsx)(O.a,{md:"12",children:B})]}),Object(s.jsx)(m.a,{children:Object(s.jsx)(O.a,{md:"6",children:Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Text,{className:"text-muted",children:"Repayment Method"}),Object(s.jsxs)(x.a.Control,{as:"select",custom:!0,value:this.state.repaymentMethod,onChange:function(t){e.setState({repaymentMethod:t.target.value})},children:[Object(s.jsx)("option",{children:"All"}),Object(s.jsx)("option",{children:"Balloon"}),Object(s.jsx)("option",{children:"Equal"})]})]})})}),Object(s.jsxs)(m.a,{children:[Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Amount Invested / Projected Net"}),Object(s.jsx)(v.a,{className:"progress",now:this.gainPercent>0?this.gainPercent:0,max:"20"}),Object(s.jsxs)(y.a,{className:"mb-3",children:[Object(s.jsx)(f.a,{readOnly:!0,value:D.formatCurrency(this.amountInvested)+" / "+D.formatCurrency(this.projectedNetAmount)}),Object(s.jsx)(y.a.Append,{children:Object(s.jsxs)(y.a.Text,{children:[this.gainPercent,"%"]})})]})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Net Payout"}),Object(s.jsx)(v.a,{className:"progress",now:this.completedNetPayoutAmount,max:this.projectedNetAmount>0?this.projectedNetAmount:100}),Object(s.jsx)(f.a,{readOnly:!0,value:D.formatCurrency(this.completedNetPayoutAmount)+" out of "+D.formatCurrency(this.projectedNetAmount)})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Net Earnings"}),Object(s.jsx)(v.a,{className:"progress",now:this.completedNetEarnings,max:this.netEarnings>0?this.netEarnings:100}),Object(s.jsx)(f.a,{readOnly:!0,value:D.formatCurrency(this.completedNetEarnings)+" out of "+D.formatCurrency(this.netEarnings)})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Completed Projects"}),Object(s.jsx)(v.a,{className:"progress",now:this.completedProjects,max:this.numOngoingProjects>0?this.numOngoingProjects:100}),Object(s.jsx)(f.a,{readOnly:!0,value:this.completedProjects+" out of "+this.numOngoingProjects})]})]}),Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(g.a,{onClick:function(){e.setState({showInterestRateDistribution:!0})},variant:"link",style:{padding:0,margin:0},className:"float-right",children:Object(s.jsx)("small",{children:"Distribution"})}),Object(s.jsx)(x.a.Label,{children:"Net Interest Rate per annum"}),Object(s.jsx)(v.a,{className:"progress",now:100*this.netInterestRateStats.avg,max:"20"}),Object(s.jsxs)(y.a,{className:"mb-3",children:[Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"Avg"})}),Object(s.jsx)(f.a,{readOnly:!0,value:(100*this.netInterestRateStats.avg).toFixed(2)+"%"}),Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"High"})}),Object(s.jsx)(f.a,{readOnly:!0,value:(100*this.netInterestRateStats.high).toFixed(2)+"%"}),Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"Low"})}),Object(s.jsx)(f.a,{readOnly:!0,value:(100*this.netInterestRateStats.low).toFixed(2)+"%"})]})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(g.a,{onClick:function(){e.setState({showTenureDistribution:!0})},variant:"link",style:{padding:0,margin:0},className:"float-right",children:Object(s.jsx)("small",{children:"Distribution"})}),Object(s.jsx)(x.a.Label,{children:"Project Tenure (months)"}),Object(s.jsx)(v.a,{className:"progress",now:this.tenureStats.avg,max:"12"}),Object(s.jsxs)(y.a,{className:"mb-3",children:[Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"Avg"})}),Object(s.jsx)(f.a,{readOnly:!0,value:parseInt(this.tenureStats.avg)}),Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"High"})}),Object(s.jsx)(f.a,{readOnly:!0,value:this.tenureStats.high}),Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"Low"})}),Object(s.jsx)(f.a,{readOnly:!0,value:this.tenureStats.low})]})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(g.a,{onClick:function(){e.setState({showInterestRateByTenureDistribution:!0})},variant:"link",style:{padding:0,margin:0},className:"float-right",children:Object(s.jsx)("small",{children:"Distribution"})}),Object(s.jsx)(x.a.Label,{children:"Net Interest Rate after Tenure"}),Object(s.jsx)(v.a,{className:"progress",now:100*this.netInterestRateAfterTenureStats.avg,max:"20"}),Object(s.jsxs)(y.a,{className:"mb-3",children:[Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"Avg"})}),Object(s.jsx)(f.a,{readOnly:!0,value:(100*this.netInterestRateAfterTenureStats.avg).toFixed(2)+"%"}),Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"High"})}),Object(s.jsx)(f.a,{readOnly:!0,value:(100*this.netInterestRateAfterTenureStats.high).toFixed(2)+"%"}),Object(s.jsx)(y.a.Prepend,{children:Object(s.jsx)(y.a.Text,{children:"Low"})}),Object(s.jsx)(f.a,{readOnly:!0,value:(100*this.netInterestRateAfterTenureStats.low).toFixed(2)+"%"})]})]})]})]}),Object(s.jsxs)(I.a,{show:this.state.showInterestRateDistribution,onHide:function(t){e.setState({showInterestRateDistribution:!1})},children:[Object(s.jsx)(I.a.Header,{closeButton:!0,children:Object(s.jsx)(I.a.Title,{children:"Interest Rate Distribution"})}),Object(s.jsx)(I.a.Body,{children:Object(s.jsxs)(w.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"align-middle",children:"Net % p.a."}),Object(s.jsx)("th",{className:"align-middle",children:"Frequency"})]})}),Object(s.jsx)("tbody",{children:Object.keys(this.interestRateDistribution).sort().map((function(t){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[(100*e.interestRateDistribution[t].netInterestRate).toFixed(2),"%"]}),Object(s.jsx)("td",{children:e.interestRateDistribution[t].frequency})]})}))})]})})]}),Object(s.jsxs)(I.a,{show:this.state.showTenureDistribution,onHide:function(t){e.setState({showTenureDistribution:!1})},children:[Object(s.jsx)(I.a.Header,{closeButton:!0,children:Object(s.jsx)(I.a.Title,{children:"Tenure Distribution"})}),Object(s.jsx)(I.a.Body,{children:Object(s.jsxs)(w.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"align-middle",children:"Tenure"}),Object(s.jsx)("th",{className:"align-middle",children:"Frequency"})]})}),Object(s.jsx)("tbody",{children:Object.keys(this.tenureDistribution).sort((function(e,t){return e-t})).map((function(t){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[t," month(s)"]}),Object(s.jsx)("td",{children:e.tenureDistribution[t]})]})}))})]})})]}),Object(s.jsxs)(I.a,{show:this.state.showInterestRateByTenureDistribution,onHide:function(t){e.setState({showInterestRateByTenureDistribution:!1})},children:[Object(s.jsx)(I.a.Header,{closeButton:!0,children:Object(s.jsx)(I.a.Title,{children:"Interest Rate x Tenure Distribution"})}),Object(s.jsx)(I.a.Body,{children:Object(s.jsxs)(w.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"align-middle",children:"Net Interest Rate"}),Object(s.jsx)("th",{className:"align-middle",children:"Frequency"})]})}),Object(s.jsx)("tbody",{children:Object.keys(this.interestRateTenureDistribution).sort((function(e,t){return e.localeCompare(t)})).map((function(t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t}),Object(s.jsx)("td",{children:e.interestRateTenureDistribution[t]})]})}))})]})})]})]})]})}}]),n}(r.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).investments=(new S).getInvestments(),s.state={sortedBy:"Project ID",sortOrder:"Ascending",repaymentMethod:"All"},"flintInvestments.state"in localStorage&&(s.state=JSON.parse(window.localStorage.getItem("flintInvestments.state"))),s}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."})]});if(this.investments.length>0){var n=A.filterInvestmentsByRepaymentMethod(this.investments,this.state.repaymentMethod),a=this.state.sortedBy;n.sort((function(e,t){if("Project Name"===a)return e.properties.projectId.localeCompare(t.properties.projectId);if("Investment Amount"===a)return e.properties.investmentAmount-t.properties.investmentAmount;if("Interest Rate"===a)return e.properties.netInterestRate-t.properties.netInterestRate;if("Next Pay Date"===a){var n=e.calculateNextPayDate(),s=t.calculateNextPayDate();return"On Hold"===e.properties.status&&"On Hold"===t.properties.status?0:"On Hold"===e.properties.status&&"Invested"===t.properties.status?1:"Invested"===e.properties.status&&"On Hold"===t.properties.status?-1:null===n&&null===s?0:null===n?1:null===s?-1:n.compareTo(s)}return"Maturity Date"===a?"On Hold"===e.properties.status&&"On Hold"===t.properties.status?0:"On Hold"===e.properties.status&&"Invested"===t.properties.status?1:"Invested"===e.properties.status&&"On Hold"===t.properties.status?-1:e.calculateMaturityDate().compareTo(t.calculateMaturityDate()):0})),"Descending"===this.state.sortOrder&&n.reverse(),t=n.map((function(e){var t=e.calculateNextPayAndMaturityDate();return Object(s.jsxs)("tr",{onClick:function(t){window.location.href="#/investment/"+e.properties.projectId},children:[Object(s.jsx)("td",{children:Object(s.jsx)("strong",{children:e.properties.projectId})}),Object(s.jsx)("td",{children:D.formatCurrency(e.properties.investmentAmount)}),Object(s.jsxs)("td",{children:[(100*e.properties.netInterestRate).toFixed(2),"% p.a. "," ",e.properties.repaymentMethod]}),Object(s.jsx)("td",{children:D.formatCurrency(e.properties.investmentAmount+e.calculateNetGainAmount())}),Object(s.jsx)("td",{children:t.nextPayDate.toString()}),Object(s.jsx)("td",{children:D.formatCurrency(t.nextPayAmount)}),Object(s.jsx)("td",{children:t.maturityDate.toString()})]},e.properties.projectId)}))}return window.localStorage.setItem("flintInvestments.state",JSON.stringify(this.state)),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R,{activeMenuName:"Investments"}),Object(s.jsxs)(b.a,{fluid:!0,children:[Object(s.jsx)(m.a,{children:Object(s.jsxs)(O.a,{md:"12",children:[Object(s.jsx)("h2",{children:"Investments"}),Object(s.jsx)("p",{children:Object(s.jsx)(g.a,{variant:"primary",href:"#/investment",children:"Add Investment"})})]})}),Object(s.jsxs)(m.a,{children:[Object(s.jsx)(O.a,{md:"4",children:Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Text,{className:"text-muted",children:"Sorted By"}),Object(s.jsxs)(x.a.Control,{as:"select",custom:!0,value:this.state.sortedBy,onChange:function(t){e.setState({sortedBy:t.target.value})},children:[Object(s.jsx)("option",{children:"Project Name"}),Object(s.jsx)("option",{children:"Investment Amount"}),Object(s.jsx)("option",{children:"Interest Rate"}),Object(s.jsx)("option",{children:"Next Pay Date"}),Object(s.jsx)("option",{children:"Maturity Date"})]})]})}),Object(s.jsx)(O.a,{md:"4",children:Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Text,{className:"text-muted",children:"Sort Order"}),Object(s.jsxs)(x.a.Control,{as:"select",custom:!0,value:this.state.sortOrder,onChange:function(t){e.setState({sortOrder:t.target.value})},children:[Object(s.jsx)("option",{children:"Ascending"}),Object(s.jsx)("option",{children:"Descending"})]})]})}),Object(s.jsx)(O.a,{md:"4",children:Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Text,{className:"text-muted",children:"Repayment Method"}),Object(s.jsxs)(x.a.Control,{as:"select",custom:!0,value:this.state.repaymentMethod,onChange:function(t){e.setState({repaymentMethod:t.target.value})},children:[Object(s.jsx)("option",{children:"All"}),Object(s.jsx)("option",{children:"Balloon"}),Object(s.jsx)("option",{children:"Equal"})]})]})})]}),Object(s.jsx)(m.a,{children:Object(s.jsx)(O.a,{md:"12",children:Object(s.jsxs)(w.a,{id:"investmentsTable",responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"align-middle",children:"Project"}),Object(s.jsx)("th",{className:"align-middle",children:"Investment Amount"}),Object(s.jsx)("th",{className:"align-middle",children:"Net %"}),Object(s.jsx)("th",{className:"align-middle",children:"Net Payout"}),Object(s.jsx)("th",{className:"align-middle",children:"Next Pay Date"}),Object(s.jsx)("th",{className:"align-middle",children:"Next Pay Amount"}),Object(s.jsx)("th",{className:"align-middle",children:"Maturity Date"})]})}),Object(s.jsx)("tbody",{children:t})]})})})]})]})}}]),n}(r.a.Component),M=n(41),F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;if(Object(c.a)(this,n),(s=t.call(this,e)).database=new S,s.state={projectId:"",investedAmount:"",netInterestRate:"",status:"Invested",tenure:"",repaymentMethod:"Equal",date:"",investment:null},"id"in e.match.params){var a=s.database.findInvestment(e.match.params.id);if(null===a)return Object(M.a)(s);s.state.projectId=a.properties.projectId,s.state.investedAmount=a.properties.investmentAmount.toFixed(2),s.state.netInterestRate=(100*a.properties.netInterestRate).toFixed(2),s.state.status=a.properties.status,s.state.tenure=a.properties.tenure,s.state.repaymentMethod=a.properties.repaymentMethod,s.state.date=a.properties.date.toString(),s.state.investment=a}return s}return Object(l.a)(n,[{key:"createInvestmentObject",value:function(){var e=A.validateProjectId(this.state.projectId);if(!e.status)return alert(e.message),null;if("add"===this.props.formMode&&null!=this.database.findInvestment(this.state.projectId))return alert("Another project has this name already."),null;if(!(e=A.validateInvestedAmount(this.state.investedAmount)).status)return alert(e.message),null;if(!(e=A.validateNetInterestRate(this.state.netInterestRate)).status)return alert(e.message),null;var t=this.state.date;if("Invested"===this.state.status){if(!(e=A.validateDate(t)).status)return alert(e.message),null}else"On Hold"===this.state.status&&(t=C.now().toString(),this.setState({date:t}));if(!(e=A.validateTenure(this.state.tenure)).status)return alert(e.message),null;try{return new A(this.state.projectId,parseFloat(this.state.investedAmount),parseFloat(this.state.netInterestRate)/100,C.toMyDate(t),this.state.repaymentMethod,parseInt(this.state.tenure),this.state.status)}catch(n){alert("The project ID is invalid, make sure it follows SeedIn's format because it represents the opening date. If this project is invested, make sure the first pay date is after the opening date."),console.log(n)}return null}},{key:"handleCalculateClick",value:function(){var e=this.createInvestmentObject();null!=e&&this.setState({investment:e})}},{key:"handleAddClick",value:function(){var e=this.createInvestmentObject();null!=e&&(this.database.addInvestment(e),alert("Investment created."),window.location.href="#/investments")}},{key:"handleDeleteClick",value:function(){window.confirm("Are you sure you want to delete this investment?")&&(this.database.deleteInvestment(this.state.investment.properties.projectId),window.location.href="#/investments")}},{key:"handleUpdateClick",value:function(){var e=this.createInvestmentObject();null!=e&&(this.database.addInvestment(e),alert("Investment updated."))}},{key:"render",value:function(){var e,t,n,a=this;"id"in this.props.match.params?(e=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g.a,{variant:"dark",href:"#/investments",children:"Back"})," ",Object(s.jsx)(g.a,{variant:"danger",onClick:function(e){a.handleDeleteClick()},children:"Delete"})," ",Object(s.jsx)(g.a,{variant:"info",onClick:function(e){a.handleCalculateClick()},children:"Calculate"})," ",Object(s.jsx)(g.a,{variant:"primary",onClick:function(e){a.handleUpdateClick()},children:"Update"})]}),t="Update Investment",n=Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Project Name"}),Object(s.jsx)(x.a.Control,{type:"text",readOnly:!0,value:this.state.projectId})]})):(e=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g.a,{variant:"dark",href:"#/investments",children:"Back"})," ",Object(s.jsx)(g.a,{variant:"info",onClick:function(e){a.handleCalculateClick()},children:"Calculate"})," ",Object(s.jsx)(g.a,{variant:"primary",onClick:function(e){a.handleAddClick()},children:"Add"})]}),t="Add Investment",n=Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Project Name"}),Object(s.jsx)(x.a.Control,{type:"text",placeholder:"Project Name given by Flint",value:this.state.projectId,onChange:function(e){a.setState({projectId:e.target.value})}})]}));var r=Object(s.jsx)(s.Fragment,{});"Invested"===this.state.status&&(r=Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"First Date of Payment Schedule"}),Object(s.jsx)(x.a.Control,{type:"date",placeholder:"yyyy-mm-dd",value:this.state.date,onChange:function(e){a.setState({date:e.target.value})}}),Object(s.jsx)(x.a.Text,{className:"text-muted",children:"Please check your Flint account for the date."})]}));var i="...",o="...",c="...",l=Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."}),Object(s.jsx)("td",{children:"..."})]}),d=Object(s.jsx)(s.Fragment,{});return null!==this.state.investment&&(i=(100*this.state.investment.calculateTenureInterestRate()).toFixed(2)+"%",o=this.state.investment.calculateNetGainAmount(),c=this.state.investment.properties.investmentAmount+o,l=this.state.investment.generateRepaymentSchedule(),o=D.formatCurrency(o),c=D.formatCurrency(c),l=l.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.date.toString()}),Object(s.jsx)("td",{children:D.formatCurrency(e.netInterestPayout)}),Object(s.jsx)("td",{children:D.formatCurrency(e.netPayout)})]},e.date.toString())})),"On Hold"===this.state.investment.properties.status&&(d=Object(s.jsxs)(p.a,{variant:"warning",children:["This project is ",Object(s.jsx)("strong",{children:"On Hold"})," and the ",Object(s.jsx)("strong",{children:"repayment dates are just samples dates"}),". "]}))),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R,{activeMenuName:"Investments"}),Object(s.jsx)(b.a,{fluid:!0,children:Object(s.jsxs)(m.a,{children:[Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsx)("h2",{children:t}),Object(s.jsxs)(x.a,{children:[n,Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Invested Amount"}),Object(s.jsx)(x.a.Control,{type:"number",step:"any",placeholder:"\u20b1",value:this.state.investedAmount,onChange:function(e){a.setState({investedAmount:e.target.value})}})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Net Interest Rate per annum"}),Object(s.jsx)(x.a.Control,{type:"number",step:"any",placeholder:"%",value:this.state.netInterestRate,onChange:function(e){a.setState({netInterestRate:e.target.value})}})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Status"}),Object(s.jsxs)(x.a.Control,{as:"select",custom:!0,value:this.state.status,onChange:function(e){a.setState({status:e.target.value})},children:[Object(s.jsx)("option",{children:"Invested"}),Object(s.jsx)("option",{children:"On Hold"})]})]}),r,Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Repayment Method"}),Object(s.jsxs)(x.a.Control,{as:"select",custom:!0,value:this.state.repaymentMethod,onChange:function(e){a.setState({repaymentMethod:e.target.value})},children:[Object(s.jsx)("option",{children:"Equal"}),Object(s.jsx)("option",{children:"Balloon"})]})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Tenure"}),Object(s.jsx)(x.a.Control,{type:"number",placeholder:"Months",value:this.state.tenure,onChange:function(e){a.setState({tenure:e.target.value})}})]})]}),Object(s.jsx)("p",{style:{textAlign:"right"},children:e})]}),Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsx)("h2",{children:"Investment Details"}),Object(s.jsxs)(x.a,{children:[Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Net Gain Rate after Tenure"}),Object(s.jsx)(x.a.Control,{type:"text",readOnly:!0,value:i})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Net Gain Amount after Tenure"}),Object(s.jsx)(x.a.Control,{type:"text",readOnly:!0,value:o})]}),Object(s.jsxs)(x.a.Group,{children:[Object(s.jsx)(x.a.Label,{children:"Total Net Payout after Tenure"}),Object(s.jsx)(x.a.Control,{type:"text",readOnly:!0,value:c})]})]}),d,Object(s.jsxs)(w.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Payment Date"}),Object(s.jsx)("th",{children:"Net Interest"}),Object(s.jsx)("th",{children:"Net Payout"})]})}),Object(s.jsx)("tbody",{children:l})]})]})]})})]})}}]),n}(r.a.Component),B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).database=new S,s}return Object(l.a)(n,[{key:"handleExportClick",value:function(){var e=document.createElement("a");e.download="flint "+C.now().toString()+".data",e.href="data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.database.exportAsJson())),e.click()}},{key:"handleImportClick",value:function(e){if(window.confirm("This will delete your current data, are you sure you want to continue?")){var t=new FileReader,n=this.database;t.onload=function(){try{n.importJson(JSON.parse(t.result))?window.alert("Import successful."):window.alert("Import failed.")}catch(e){console.log(e),window.alert("Invalid file.")}},t.readAsText(e)}}},{key:"handleResetClick",value:function(){window.confirm("Are you sure you want to clear your data?")&&(this.database.clear(),window.alert("Clear successful."))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R,{activeMenuName:"My Data"}),Object(s.jsx)(b.a,{fluid:!0,children:Object(s.jsxs)(m.a,{children:[Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsx)("h2",{children:"My Data"}),Object(s.jsx)("p",{children:"Your data is locally saved on this web browser you are currently using. You can continue working on it anytime. You can export and download your data as a file if you wish to work on your data from another device or web browser."}),Object(s.jsx)("h2",{children:"Export"}),Object(s.jsx)("p",{children:Object(s.jsx)(g.a,{variant:"primary",onClick:function(t){e.handleExportClick()},children:"Download My Data"})}),Object(s.jsx)("h2",{children:"Import"}),Object(s.jsx)("p",{children:"Restore your data from an exported file. This replaces any data that is currently saved."}),Object(s.jsx)(x.a.File,{label:"Browse or drag file to this box",custom:!0,onChange:function(t){e.handleImportClick(t.target.files[0])}}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]}),Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsx)("h2",{children:"Reset"}),Object(s.jsx)("p",{children:"Delete all your saved data from this web browser."}),Object(s.jsx)("p",{children:Object(s.jsx)(g.a,{variant:"danger",onClick:function(t){e.handleResetClick()},children:"Clear My Data"})})]})]})})]})}}]),n}(r.a.Component),L=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"buyMeACoffee",value:function(){var e=document.createElement("a");e.href="https://www.buymeacoffee.com/it2051229",e.target="_blank",e.click()}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R,{activeMenuName:"About"}),Object(s.jsx)(b.a,{fluid:!0,children:Object(s.jsxs)(m.a,{children:[Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsx)("h4",{children:"Are you related to Flint?"}),Object(s.jsx)("p",{children:"No, just like you we are fellow investors in Flint."}),Object(s.jsx)("h4",{children:"Do you keep my data?"}),Object(s.jsx)("p",{children:"No, all your data are private and locally stored on this web browser. We do not keep your data in our servers. You cannot access your data from another computer or web browser."}),Object(s.jsx)("h4",{children:"Can I keep my data?"}),Object(s.jsx)("p",{children:"Yes, you can export your data. It will be extracted from your computer and downloaded as a file. You can then import the file through using this app from another web browser."})]}),Object(s.jsxs)(O.a,{md:"6",children:[Object(s.jsx)("h4",{children:"What else do I need to know before using this app?"}),Object(s.jsx)("p",{children:"This project is a work in progress but you're using a stable version. There might be changes and improvements anytime so you should use it at your own risk. We recommend to backup your data frequently."}),Object(s.jsx)("p",{children:"We're gradually adding features and fixing things so check our change logs from time to time so you can download the latest stable version:"}),Object(s.jsx)(p.a,{variant:"dark",children:Object(s.jsx)(p.a.Link,{href:"https://it2051229.github.io/flint/download.html",target:"_blank",rel:"noopener noreferrer",children:"https://it2051229.github.io/ flint/download.html"})}),Object(s.jsxs)("p",{children:["If you found any issues feel free to shoot us a message at ",Object(s.jsx)("a",{href:"mailto:contact@it2051229.com",children:"contact@it2051229.com"}),"."]}),Object(s.jsx)("p",{children:Object(s.jsx)("center",{children:Object(s.jsx)(g.a,{variant:"primary",onClick:function(t){return e.buyMeACoffee()},children:"Buy me a coffee!"})})})]})]})})]})}}]),n}(r.a.Component),G=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(u.a,{children:Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/",component:P}),Object(s.jsx)(j.a,{exact:!0,path:"/dashboard",component:P}),Object(s.jsx)(j.a,{exact:!0,path:"/investments",component:T}),Object(s.jsx)(j.a,{exact:!0,path:"/investment",component:F}),Object(s.jsx)(j.a,{exact:!0,path:"/investment/:id",component:F}),Object(s.jsx)(j.a,{exact:!0,path:"/mydata",component:B}),Object(s.jsx)(j.a,{exact:!0,path:"/about",component:L})]})})}}]),n}(r.a.Component),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(G,{})}),document.getElementById("root")),E()}},[[68,1,2]]]);
//# sourceMappingURL=main.f43e0ecf.chunk.js.map
{"version":3,"sources":["Entities/NumberUtils.js","Components/InvestmentDetails.js","Entities/MyDate.js","Entities/Investment.js","Entities/Database.js","Components/InvestmentForm.js","Components/InvestmentsTable.js","Components/InvestmentsContainer.js","Components/MyDataContainer.js","Components/DashboardContainer.js","Components/AboutContainer.js","App.js","serviceWorker.js","index.js"],"names":["NumberUtils","x","toFixed","toString","replace","InvestmentDetails","netInterestRate","netGainRate","netGainAmount","paymentSchedules","onHoldNotice","this","props","investment","calculateNetInterestRate","calculateTenureInterestRate","formatCurrency","calculateNetGainAmount","generateRepaymentSchedule","map","schedule","key","properties","Alert","variant","Form","Group","Label","Control","type","readOnly","value","Table","responsive","striped","bordered","hover","React","Component","MyDate","year","month","day","other","jsDate","Date","getFullYear","getMonth","getDate","date","strDate","tokens","split","length","i","isNaN","parseInt","daysInMonths","json","Investment","id","amount","interestRate","repaymentMethod","tenure","status","toJson","monthlyInterestRate","currentDate","now","schedules","compareTo","result","monthlyNetInterestPayoutAmount","calculateMonthlyNetInterestPayoutAmount","monthlyCapitalAmount","calculateMonthlyCapitalPayoutAmount","copy","netPayout","push","addMonth","projectId","validationResult","toMyDate","jsonToObject","investments","earliestDate","latestDate","firstPayDate","lastPayDate","calculateMaturityDate","startDate","endDate","filter","issuer","issuers","indexOf","sort","Database","localStorage","setItem","JSON","stringify","console","log","investmentsJson","parse","getItem","toImportInvestmentsJson","tempInvestments","err","persist","investmentsList","InvestmentForm","database","getIssuers","getInvestments","formMode","state","handleCalculateClick","validateProjectId","alert","findInvestment","validateInvestedAmount","investedAmount","validateGrossInterestRate","grossInterestRate","validateDate","setState","validateTenure","parseFloat","projectUrl","loanee","toUpperCase","createInvestmentObject","addInvestment","backClick","window","confirm","deleteInvestment","controls","formTitle","projectIdInputControl","Button","onClick","e","handleAddClick","placeholder","onChange","target","handleDeleteClick","handleUpdateClick","firstDateOfPaymentInputControl","Text","className","issuersListGroupItems","ListGroup","Item","action","Row","Col","md","InputGroup","FormControl","Append","Modal","show","chooseIssuer","onHide","animation","Header","closeButton","Title","Body","href","rel","step","as","custom","style","textAlign","InvestmentsTable","dates","getEarliestAndLatestInvestmentDates","fromDate","toDate","listRef","createRef","scrollTo","issuerOptions","investmentsTableRows","filteredInvestments","filterInvestmentsByDate","filterInvestmentsByRepaymentMethod","filterInvestmentsByIssuer","sortedBy","investmentA","investmentB","dateA","calculateNextPayDate","dateB","sortOrder","reverse","payDateDetails","calculateNextPayAndMaturityDate","scrollY","openInvestmentClick","ref","addInvestmentClick","InvestmentsContainer","activeComponentName","handleOpenInvestmentClick","bind","clickedInvestment","activeComponent","handleAddInvestmentClick","handleBackClick","MyDataContainer","downloadLink","document","createElement","download","encodeURIComponent","click","file","fileReader","FileReader","onload","importJson","readAsText","clear","handleExportClick","File","label","handleImportClick","files","handleResetClick","DashboardContainer","amountInvested","completedNetEarnings","netEarnings","projectedNetAmount","completedNetPayoutAmount","completedProjects","gainPercent","numMaturedToday","numOnHold","onHoldAmount","netEarningsPercent","netPayoutPercent","completedProjectsPercent","j","negativeGainPercentNotification","maturedProjectsNotification","onHoldProjectsNotification","showNegativeGainExplanation","ProgressBar","size","AboutContainer","link","buyMeACoffee","App","activeMenuName","newActiveMenuName","disableBrowserBackButton","menuNames","menuContainers","menuNavLinks","menuName","Nav","Link","active","handleMenuClick","activeMenuContainer","Navbar","bg","expand","fixed","Brand","Toggle","aria-controls","Collapse","Container","fluid","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.fffadcd2.chunk.js","sourcesContent":["class NumberUtils {\r\n    // Convery a numer with commas and a peso sign\r\n    static formatCurrency(x) {\r\n        return \"â‚±\" + x.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    }\r\n}\r\n\r\nexport default NumberUtils;\r\n","import React from \"react\";\r\nimport { Form, Table, Alert  } from \"react-bootstrap\";\r\nimport NumberUtils from \"../Entities/NumberUtils\";\r\n\r\n// Investment details will show the effective interest rates and repayment schedules\r\nclass InvestmentDetails extends React.Component {\r\n\r\n\t// Display the calculated details of an investment\r\n\trender() {\r\n        let netInterestRate = \"...\";\r\n        let netGainRate = \"...\";\r\n        let netGainAmount = \"...\";\r\n        let paymentSchedules = <tr><td>...</td><td>...</td><td>...</td></tr>\r\n        let onHoldNotice = <></>\r\n\r\n        // If an investment is provided then display the details\r\n        if(this.props.investment !== null) {\r\n            netInterestRate = (this.props.investment.calculateNetInterestRate() * 100).toFixed(2) + \"%\";\r\n            netGainRate = (this.props.investment.calculateTenureInterestRate() * 100).toFixed(2) + \"%\";\r\n            netGainAmount = NumberUtils.formatCurrency(this.props.investment.calculateNetGainAmount());\r\n            paymentSchedules = this.props.investment.generateRepaymentSchedule();\r\n\r\n            paymentSchedules = paymentSchedules.map((schedule) => {\r\n                return <tr key={schedule[\"date\"].toString()}>\r\n                    <td>{ schedule[\"date\"].toString() }</td>\r\n                    <td>{ NumberUtils.formatCurrency(schedule[\"netInterestPayout\"]) }</td>\r\n                    <td>{ NumberUtils.formatCurrency(schedule[\"netPayout\"]) }</td>\r\n                </tr>\r\n            })\r\n\r\n            // Notice for on hold project\r\n            if(this.props.investment.properties[\"status\"] === \"On Hold\") {\r\n                onHoldNotice = <Alert variant=\"warning\">This project is <strong>On Hold</strong> and the <strong>repayment dates are just samples dates</strong>. </Alert>\r\n            }\r\n        }\r\n\r\n\t\treturn(\r\n\t\t\t<>\r\n\t\t\t\t<h2>Investment Details</h2>\r\n                <Form>\r\n                    <Form.Group>\r\n                        <Form.Label>Net Interest Rate per annum</Form.Label>\r\n                        <Form.Control type=\"text\" readOnly value={netInterestRate} />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Net Gain Rate after Tenure</Form.Label>\r\n                        <Form.Control type=\"text\" readOnly value={netGainRate} />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Net Gain Amount after Tenure</Form.Label>\r\n                        <Form.Control type=\"text\" readOnly value={netGainAmount} />\r\n                    </Form.Group>\r\n                </Form>\r\n                { onHoldNotice }\r\n                <Table responsive striped bordered hover variant=\"dark\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Payment Date</th>                        \r\n                            <th>Net Interest</th>\r\n                            <th>Net Payout</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{ paymentSchedules }</tbody>\r\n                </Table>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentDetails;\r\n","// Date library\r\nclass MyDate {\r\n\r\n    // Create a date\r\n    constructor(year, month, day) {\r\n        this.properties = {\r\n            \"year\": year,\r\n            \"month\": month,\r\n            \"day\": day\r\n        };    \r\n    }\r\n\r\n    // Compare if this date goes before, equal or after the other date\r\n    compareTo(other) {\r\n        if(this.properties[\"year\"] > other.properties[\"year\"])\r\n            return 1;\r\n        \r\n        if(this.properties[\"year\"] < other.properties[\"year\"])\r\n            return -1;\r\n\r\n        if(this.properties[\"month\"] > other.properties[\"month\"])\r\n            return 1;\r\n        \r\n        if(this.properties[\"month\"] < other.properties[\"month\"])\r\n            return -1;\r\n\r\n        if(this.properties[\"day\"] > other.properties[\"day\"])\r\n            return 1;\r\n\r\n        if(this.properties[\"day\"] < other.properties[\"day\"])\r\n            return -1;\r\n\r\n        return 0;\r\n    }\r\n\r\n    // Return the date as yyyy-mm-dd format\r\n    toString() {\r\n        var month = this.properties[\"month\"];\r\n        var day = this.properties[\"day\"];\r\n\r\n        if(month < 10)\r\n            month = \"0\" + month;\r\n\r\n        if(day < 10)\r\n            day = \"0\" + day;\r\n\r\n        return this.properties[\"year\"] + \"-\" \r\n            + month + \"-\" \r\n            + day;\r\n    }\r\n\r\n    // Add a month\r\n    addMonth() {\r\n        // Set the days for each month    \r\n        var year = this.properties[\"year\"];\r\n        var month = this.properties[\"month\"] + 1;\r\n        var day = this.properties[\"day\"];\r\n\r\n        if(month > 12) {\r\n            year++;\r\n            month = 1;\r\n        }\r\n\r\n        return new MyDate(year, month, day);\r\n    }\r\n\r\n    // Return the proeprties of the date as a JSON\r\n    toJson() {\r\n        return {\r\n            \"year\": this.properties[\"year\"],\r\n            \"month\": this.properties[\"month\"],\r\n            \"day\": this.properties[\"day\"]\r\n        }\r\n    }\r\n\r\n    // Get the date now\r\n    static now() {\r\n        var jsDate = new Date();\r\n        return new MyDate(jsDate.getFullYear(), jsDate.getMonth() + 1, jsDate.getDate());\r\n    }\r\n\r\n    // Create a copy of the date as a new object\r\n    static copy(date) {\r\n        return new MyDate(date.properties[\"year\"], date.properties[\"month\"], date.properties[\"day\"]);\r\n    }\r\n\r\n    // Attempt to create a date object out of the string date\r\n    // Expects that the date is in yyyy-mm-dd format\r\n    // Returns null if the date is invalid\r\n    static toMyDate(strDate) {\r\n        // Validate the format\r\n        this.tokens = strDate.split(\"-\");\r\n\r\n        if(this.tokens.length !== 3)\r\n            return null;\r\n\r\n        // Check that everything else is a number\r\n        for(var i = 0; i < this.tokens.length; i++)\r\n            if(isNaN(this.tokens[i]))\r\n                return null;\r\n\r\n        var year = parseInt(this.tokens[0]);\r\n        var month = parseInt(this.tokens[1]);\r\n        var day = parseInt(this.tokens[2]);\r\n\r\n        // Validate the year\r\n        if(year < 1900 || isNaN(year) || isNaN(month) || isNaN(day))\r\n            return null;\r\n\r\n        // Validate the month, should be 1 to 12\r\n        if(month < 1 || month > 12)\r\n            return null;\r\n\r\n        // Validate the day, it should be within the month's day\r\n        var daysInMonths = [31,28,31,30,31,30,31,31,30,31,30,31];\r\n\r\n        // February is 29 days during leap year\r\n        if((year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0))\r\n            daysInMonths[1] = 29;\r\n\r\n        if(day < 1 || day > daysInMonths[month - 1])\r\n            return null;\r\n        \r\n        // We're good\r\n        return new MyDate(year, month, day);\r\n    }\r\n\r\n    // Convert the JSON to a date object\r\n    static jsonToObject(json) {\r\n        return new MyDate(\r\n            json[\"year\"],\r\n            json[\"month\"],\r\n            json[\"day\"]\r\n        );\r\n    }\r\n}\r\n\r\nexport default MyDate;\r\n","import MyDate from \"./MyDate\"\r\n\r\nclass Investment {\r\n\r\n    // Create a new investment object\r\n    constructor(id, amount, interestRate, date, repaymentMethod, tenure, status) {\r\n        this.properties = {\r\n            \"projectId\": id,\r\n            \"investmentAmount\": amount,\r\n            \"grossInterestRate\": interestRate,\r\n            \"date\": date,\r\n            \"repaymentMethod\": repaymentMethod,\r\n            \"tenure\": tenure,\r\n            \"projectUrl\": \"\",\r\n            \"issuer\": \"\",\r\n            \"status\": status\r\n        };\r\n    }\r\n\r\n    // Return the proeprties of the date as a JSON\r\n    toJson() {\r\n        return {\r\n            \"projectId\": this.properties[\"projectId\"],\r\n            \"investmentAmount\": this.properties[\"investmentAmount\"],\r\n            \"grossInterestRate\": this.properties[\"grossInterestRate\"],\r\n            \"date\": this.properties[\"date\"].toJson(),\r\n            \"repaymentMethod\": this.properties[\"repaymentMethod\"],\r\n            \"tenure\": this.properties[\"tenure\"],\r\n            \"projectUrl\": this.properties[\"projectUrl\"],\r\n            \"issuer\": this.properties[\"issuer\"],\r\n            \"status\": this.properties[\"status\"]\r\n        };\r\n    }\r\n\r\n    // Calculate the net interest rate per annum\r\n    calculateNetInterestRate() {\r\n        var feeRate = 0.30;\r\n        var netInterestRate = this.properties[\"grossInterestRate\"] * (1 - feeRate);\r\n        return netInterestRate;\r\n    }\r\n\r\n    // Calculate the interest rate within the tenure only\r\n    calculateTenureInterestRate() {\r\n        var netInterestRate = this.calculateNetInterestRate();\r\n        var tenureInterestRate = (netInterestRate / 12.0) * this.properties[\"tenure\"];\r\n        return tenureInterestRate;\r\n    }\r\n\r\n    // Calculate the gain amount within the tenure\r\n    calculateNetGainAmount() {\r\n        var netGainAmount = this.calculateTenureInterestRate() * this.properties[\"investmentAmount\"];\r\n        return netGainAmount;\r\n    }\r\n\r\n    // How much is the interest payout per month\r\n    calculateMonthlyNetInterestPayoutAmount() {\r\n        var monthlyInterestRate = this.calculateNetInterestRate() / 12;\r\n        return this.properties[\"investmentAmount\"] * monthlyInterestRate;\r\n    }\r\n\r\n    // How much of the capital is returned per month\r\n    calculateMonthlyCapitalPayoutAmount() {\r\n        if(this.properties[\"repaymentMethod\"] === \"Equal\")\r\n            return this.properties[\"investmentAmount\"] / this.properties[\"tenure\"];\r\n        \r\n        return 0;\r\n    }\r\n\r\n    // Return the next paydate\r\n    // Function is separated to save power\r\n    calculateNextPayDate() {\r\n        var currentDate = MyDate.now();\r\n        var schedules = this.generateRepaymentSchedule();\r\n\r\n        if(currentDate.compareTo(schedules[schedules.length - 1][\"date\"]) > 0)\r\n            return null;\r\n        \r\n        // Find the month\r\n        for(var i = 0; i < schedules.length; i++)\r\n            if(currentDate.compareTo(schedules[i][\"date\"]) <= 0)\r\n                return schedules[i][\"date\"];\r\n\r\n        return null;\r\n    }\r\n\r\n    // Return the maturity date\r\n    // Function is separated to save power\r\n    calculateMaturityDate() {\r\n        var schedules = this.generateRepaymentSchedule();\r\n        return schedules[schedules.length - 1][\"date\"];\r\n    }\r\n\r\n    // Calculate the next payout date, how much, and when it will mature\r\n    calculateNextPayAndMaturityDate() {        \r\n        if(this.properties[\"status\"] === \"On Hold\") {\r\n            return {\r\n                \"maturityDate\": \"On Hold\",\r\n                \"nextPayDate\": \"On Hold\",\r\n                \"nextPayAmount\": 0\r\n            }            \r\n        }\r\n\r\n        var currentDate = MyDate.now();\r\n        var schedules = this.generateRepaymentSchedule();\r\n\r\n        var result = {\r\n            \"maturityDate\": schedules[schedules.length - 1][\"date\"],\r\n            \"nextPayDate\": \"Completed\",\r\n            \"nextPayAmount\": 0\r\n        };\r\n\r\n        if(currentDate.compareTo(schedules[schedules.length - 1][\"date\"]) <= 0) {\r\n            // Find the month and amount\r\n            for(var i = 0; i < schedules.length; i++) {\r\n                if(currentDate.compareTo(schedules[i][\"date\"]) <= 0) {\r\n                    // Found it\r\n                    result[\"nextPayDate\"] = schedules[i][\"date\"];\r\n                    result[\"nextPayAmount\"] = schedules[i][\"netPayout\"];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    // Generate the repayment schedule based on repayment method\r\n    generateRepaymentSchedule() {\r\n        var schedules = [];\r\n        var monthlyNetInterestPayoutAmount = this.calculateMonthlyNetInterestPayoutAmount();\r\n        var monthlyCapitalAmount = this.calculateMonthlyCapitalPayoutAmount();\r\n\r\n        var currentDate = MyDate.copy(this.properties[\"date\"]);\r\n\r\n        for(var i = 0; i < this.properties[\"tenure\"]; i++) {\r\n            var netPayout =  monthlyNetInterestPayoutAmount + monthlyCapitalAmount;\r\n            \r\n            // Balloon will have all the capital amount on the last month\r\n            if(i + 1 === this.properties[\"tenure\"] && this.properties[\"repaymentMethod\"] === \"Balloon\")                \r\n                netPayout += this.properties[\"investmentAmount\"];\r\n            \r\n            var schedule = {\r\n                \"date\": currentDate,\r\n                \"netInterestPayout\": monthlyNetInterestPayoutAmount,\r\n                \"netPayout\": netPayout\r\n            }\r\n\r\n            schedules.push(schedule);\r\n            currentDate = currentDate.addMonth();\r\n        }\r\n\r\n        return schedules;\r\n    }\r\n\r\n    // Project ID is valid if it is not empty and it is unique\r\n    static validateProjectId(projectId) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(projectId === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Project ID is required.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Amount should be a numeric value greater than 0\r\n    static validateInvestedAmount(amount) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(amount === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Invested amount is required.\";\r\n        } else if(isNaN(amount)) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Amount should be a numeric value.\";\r\n        } else if(amount <= 0) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Amount should be a non-zero positive value.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Interest rate should be numeric between 1 and 20\r\n    static validateGrossInterestRate(interestRate) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(interestRate === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Gross interest rate amount is required.\";\r\n        } else if(isNaN(interestRate)) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Gross interest rate should be a numeric value.\";\r\n        } else if(interestRate < 1 || interestRate > 20) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Gross interest rate should be between 1% and 20% only.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Check that the date is in the format yyyy-mm-dd\r\n    static validateDate(date) {\r\n        date = MyDate.toMyDate(date);\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(date === null) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Invalid date.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Check that tenure is a number between 1 and 12\r\n    static validateTenure(tenure) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(tenure === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Tenure is required.\";\r\n        } else if(isNaN(tenure)) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Tenure should be a numeric value.\";\r\n        } else if(tenure < 1 || tenure > 12) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Tenure should be between 1 and 12 months only.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Convert the Json as an investment object\r\n    static jsonToObject(json) {\r\n        // Migratory code because we just added status\r\n        if(!(\"status\" in json))\r\n            json[\"status\"] = \"Invested\";\r\n        \r\n        var investment = new Investment(\r\n            json[\"projectId\"],\r\n            json[\"investmentAmount\"],\r\n            json[\"grossInterestRate\"],\r\n            MyDate.jsonToObject(json[\"date\"]),\r\n            json[\"repaymentMethod\"],\r\n            json[\"tenure\"],\r\n            json[\"status\"]\r\n        );\r\n\r\n        investment.properties[\"projectUrl\"] = json[\"projectUrl\"];\r\n        investment.properties[\"issuer\"] = json[\"issuer\"];\r\n\r\n        return investment;\r\n    }\r\n\r\n    // Find the dates of investment earliest and latest (first payout schedule up to the very last payout schedule)\r\n    static getEarliestAndLatestInvestmentDates(investments) {\r\n        if (investments.length === 0)\r\n            return null;\r\n\r\n        var earliestDate = null;\r\n        var latestDate = null;\r\n\r\n        for(var i = 0; i < investments.length; i++) {\r\n            var investment = investments[i];\r\n            var firstPayDate = investment.properties[\"date\"];\r\n            var lastPayDate = investment.calculateMaturityDate();\r\n            \r\n            if(earliestDate === null || firstPayDate.compareTo(earliestDate) < 0)\r\n                earliestDate = firstPayDate;\r\n\r\n            if(latestDate === null || lastPayDate.compareTo(latestDate) > 0)\r\n                latestDate = lastPayDate;\r\n        }\r\n\r\n        return {\r\n            \"earliest\": earliestDate,\r\n            \"latest\": latestDate\r\n        }\r\n    }\r\n    \r\n    // Return all investments that lies on the given start and end date\r\n    static filterInvestmentsByDate(investments, startDate, endDate) {        \r\n        return investments.filter(function(investment) {\r\n            return investment.calculateMaturityDate().compareTo(startDate) >= 0\r\n                && investment.properties[\"date\"].compareTo(endDate) <= 0;               \r\n        });\r\n    }\r\n\r\n    // Return all investment that matches the repayment method\r\n    static filterInvestmentsByRepaymentMethod(investments, repaymentMethod) {\r\n        return investments.filter(function(investment) {\r\n            return repaymentMethod === \"All\" \r\n                || repaymentMethod === investment.properties[\"repaymentMethod\"];\r\n        });\r\n    }\r\n\r\n    // Return all investment that matches the issuer\r\n    static filterInvestmentsByIssuer(investments, issuer) {\r\n        return investments.filter(function(investment) {\r\n            return issuer === \"All\"\r\n                || issuer === investment.properties[\"issuer\"];\r\n        });\r\n    }\r\n\r\n    // Get all unique issuers from the list of investments\r\n    static getIssuers(investments) {\r\n        var issuers = [];\r\n\r\n        for(var i = 0; i < investments.length; i++) {\r\n            var investment = investments[i];\r\n\r\n            if(\"issuer\" in investment.properties && investment.properties[\"issuer\"] !== \"\") {\r\n                var issuer = investment.properties[\"issuer\"];\r\n                \r\n                if(issuers.indexOf(issuer) <= -1)\r\n                    issuers.push(issuer);\r\n            }\r\n        }\r\n\r\n        issuers.sort();\r\n        return issuers;\r\n    }\r\n}\r\n\r\nexport default Investment;\r\n","import Investment from \"./Investment\";\r\n\r\n// Our database just uses the local storage\r\nclass Database\r\n{\r\n    // Initialize the data\r\n    constructor() {\r\n        if(!(\"investments\" in localStorage)) {\r\n            localStorage.setItem(\"investments\", JSON.stringify({}));\r\n            console.log(\"New investments storage created.\");\r\n        }\r\n\r\n        var investmentsJson = JSON.parse(localStorage.getItem(\"investments\"));\r\n\r\n        // Parse back the investments as an investment object\r\n        this.investments = {};\r\n\r\n        for(var i = 0; i < investmentsJson.length; i++) {\r\n            var investment = Investment.jsonToObject(investmentsJson[i])\r\n            this.investments[investment.properties[\"projectId\"]] = investment;\r\n        }\r\n    }\r\n\r\n    // Convert the JSON to investment objects\r\n    importJson(toImportInvestmentsJson) {\r\n        var tempInvestments = {};\r\n\r\n        for(var i = 0; i < toImportInvestmentsJson.length; i++) {\r\n            try {\r\n                var investment = Investment.jsonToObject(toImportInvestmentsJson[i]);\r\n                tempInvestments[investment.properties[\"projectId\"]] = investment;\r\n            } catch(err) {\r\n                console.log(err);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // If all goes fine, then we replace\r\n        this.investments = tempInvestments;\r\n        this.persist();\r\n        return true;\r\n    }\r\n\r\n    // Find the investment that holds the given ID, return null if none\r\n    findInvestment(projectId) {\r\n        if(!(projectId in this.investments))\r\n            return null;\r\n\r\n        return this.investments[projectId];\r\n    }\r\n\r\n    // Delete an investment\r\n    deleteInvestment(projectId) {\r\n        delete this.investments[projectId];\r\n        this.persist();\r\n    }\r\n\r\n    // Add a new investment, assumes that the investment has been well validated\r\n    addInvestment(investment) {\r\n        this.investments[investment.properties[\"projectId\"]] = investment;        \r\n        this.persist();\r\n    }\r\n\r\n    // Return the investments as a list\r\n    getInvestments() {\r\n        var investmentsList = [];\r\n\r\n        for(var projectId in this.investments)\r\n            investmentsList.push(this.investments[projectId]);\r\n\r\n        return investmentsList;\r\n    }\r\n\r\n    // Write the investments to the local storage\r\n    persist() {        \r\n        var investmentsJson = []\r\n\r\n        // Serialize everything as a json object\r\n        for(var projectId in this.investments)\r\n            investmentsJson.push(this.investments[projectId].toJson());\r\n\r\n        // Write to the storage\r\n        localStorage.setItem(\"investments\", JSON.stringify(investmentsJson));\r\n    }\r\n}\r\n\r\nexport default Database;\r\n","import React from \"react\";\r\nimport { Button,  Row, Col, Form, InputGroup, FormControl, Modal, ListGroup } from \"react-bootstrap\";\r\nimport InvestmentDetails from \"./InvestmentDetails\"\r\nimport Investment from \"../Entities/Investment\"\r\nimport MyDate from \"../Entities/MyDate\"\r\nimport Database from \"../Entities/Database\"\r\n\r\n// Form for adding, calculating, deleting or updating an investment\r\nclass InvestmentForm extends React.Component {\r\n\r\n\t// Initialize the investment form\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n        this.database = new Database();\r\n        this.issuers = Investment.getIssuers(this.database.getInvestments());\r\n\r\n        // Initialize the attributes to be accepted by this form\r\n        if(props.formMode === \"add\") {\r\n            this.state = {\r\n                \"projectId\": \"\",\r\n                \"loanee\": \"\",\r\n                \"projectUrl\": \"\",\r\n                \"investedAmount\": \"\",\r\n                \"grossInterestRate\": \"\",\r\n                \"status\": \"Invested\",\r\n                \"tenure\": \"\",\r\n                \"repaymentMethod\": \"Equal\",\r\n                \"date\": \"\",\r\n                \"investment\": null,\r\n                \"chooseIssuer\": false\r\n            };\r\n        } else {\r\n            // In update mode we pre-populate the fields\r\n            this.state = {\r\n                \"projectId\": props.investment.properties[\"projectId\"],\r\n                \"loanee\": props.investment.properties[\"issuer\"],\r\n                \"projectUrl\": props.investment.properties[\"projectUrl\"],\r\n                \"investedAmount\": props.investment.properties[\"investmentAmount\"].toFixed(2),\r\n                \"grossInterestRate\": (props.investment.properties[\"grossInterestRate\"] * 100).toFixed(2),\r\n                \"status\": props.investment.properties[\"status\"],\r\n                \"tenure\": props.investment.properties[\"tenure\"],\r\n                \"repaymentMethod\": props.investment.properties[\"repaymentMethod\"],\r\n                \"date\": props.investment.properties[\"date\"].toString(),\r\n                \"investment\": props.investment,\r\n                \"chooseIssuer\": false\r\n            }\r\n        }\r\n    }\r\n    \r\n    // Called after the form has been loaded, if the state is in, \"update\" mode\r\n    // we will calculate the investment details\r\n    componentDidMount() {\r\n        if(this.props.formMode === \"update\")\r\n            this.handleCalculateClick();\r\n    }\r\n\r\n\t// Validate and tranform input into an investment object\r\n\tcreateInvestmentObject() {\r\n\t\t// Validate the project ID\r\n        var validationResult = Investment.validateProjectId(this.state.projectId);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n        }\r\n        \r\n        if(this.props.formMode === \"add\") {\r\n            if(this.database.findInvestment(this.state.projectId) != null) {\r\n                alert(\"Another project has this ID already.\");\r\n                return null;\r\n            }\r\n        }\r\n\t\t\r\n\t\t// Validate the invested amount\r\n        validationResult = Investment.validateInvestedAmount(this.state.investedAmount);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n\t\t}\r\n\t\t\r\n\t\t// Validate the gross interest rate\r\n        validationResult = Investment.validateGrossInterestRate(this.state.grossInterestRate);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n\t\t}\r\n\t\t\r\n\t\t// Validate the date only if it is not on hold\r\n        if(this.state.status === \"Invested\") {\r\n            validationResult = Investment.validateDate(this.state.date);\r\n\r\n            if(!validationResult[\"status\"]) {\r\n                alert(validationResult[\"message\"]);\r\n                return null;\r\n            }\r\n        } else if(this.state.status === \"On Hold\") {\r\n            this.setState({ \"date\": MyDate.now().toString() });\r\n\t\t}\r\n\t\t\r\n\t\t// Repayment method needs no validation...\r\n\r\n\t\t// Validate tenure\r\n        validationResult = Investment.validateTenure(this.state.tenure);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n\t\t}\r\n\t\t\r\n\t\t// Calculate the net interest rate\r\n        var investment = new Investment(\r\n\t\t\tthis.state.projectId, \r\n            parseFloat(this.state.investedAmount), \r\n            parseFloat(this.state.grossInterestRate) / 100.0,  \r\n            MyDate.toMyDate(this.state.date), \r\n            this.state.repaymentMethod,\r\n            parseInt(this.state.tenure),\r\n            this.state.status);\r\n\r\n        investment.properties[\"projectUrl\"] = this.state.projectUrl;\r\n\t\tinvestment.properties[\"issuer\"] = this.state.loanee.toUpperCase();\r\n\t\t\r\n        return investment;\r\n\t}\r\n\r\n\t// Validate and add a new investment\r\n\thandleAddClick() {\r\n\t\tvar investment = this.createInvestmentObject();\r\n\r\n\t\tif(investment == null)\r\n            return;\r\n            \r\n        // Do add\r\n        this.database.addInvestment(investment);\r\n        \r\n        // After successful validation and add , we go back to the list of investments\r\n        alert(\"Investment created.\");\r\n\r\n\t\tthis.props.backClick();\r\n    }\r\n    \r\n    // Validate and update an existing invetment\r\n    handleUpdateClick() {\r\n        var investment = this.createInvestmentObject();\r\n\r\n        if(investment == null)\r\n            return;\r\n\r\n        // Do update\r\n        this.database.addInvestment(investment);\r\n        alert(\"Investment updated.\");\r\n    }\r\n\r\n    // Delete an existing investment\r\n    handleDeleteClick() {\r\n        if(!window.confirm(\"Are you sure you want to delete this investment?\"))\r\n            return;\r\n        \r\n        this.database.deleteInvestment(this.state.investment.properties[\"projectId\"]);\r\n        this.props.backClick();\r\n    }\r\n\r\n\t// Calculate the net interest rates and the repayment schedules\r\n\thandleCalculateClick() {\r\n\t\tvar investment = this.createInvestmentObject();\r\n\r\n\t\tif(investment == null)\r\n\t\t\treturn;\r\n\r\n\t\tthis.setState({\"investment\": investment});\r\n    }\r\n    \r\n\t// Render the investment form depending on the mode assigned\r\n\trender() {\r\n\t\tlet controls;\r\n\t\tlet formTitle;\r\n\t\tlet projectIdInputControl;\r\n\r\n\t\tif(this.props.formMode === \"add\") {\r\n\t\t\t// Controls when adding a new investment\r\n\t\t\tcontrols = \r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"dark\" onClick={ this.props.backClick }>Back</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"info\" onClick={(e) => { this.handleCalculateClick() }}>Calculate</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => { this.handleAddClick() }}>Add</Button>\r\n\t\t\t\t</>\r\n\t\t\t\r\n\t\t\tformTitle = \"Add Investment\";\r\n\r\n\t\t\tprojectIdInputControl = \r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label>Project ID</Form.Label>\r\n\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Unique ID given by SeedIn\" \r\n\t\t\t\t\t\tvalue={this.state.projectId} onChange={(e) => { this.setState({\"projectId\": e.target.value}) }} />\r\n\t\t\t\t</Form.Group>\r\n\t\t} else if(this.props.formMode === \"update\") {\r\n\t\t\t// Constrols when updating a form the project ID is unique\r\n\t\t\tcontrols =\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"dark\" onClick={ this.props.backClick }>Back</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"danger\" onClick={(e) => { this.handleDeleteClick() }}>Delete</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"info\" onClick={(e) => { this.handleCalculateClick() }}>Calculate</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => { this.handleUpdateClick() }}>Update</Button>\r\n\t\t\t\t</>\r\n\t\t\t\r\n\t\t\tformTitle = \"Update Investment\";\r\n\r\n\t\t\tprojectIdInputControl = \r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label>Project ID</Form.Label>\r\n\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Unique ID given by SeedIn\" readOnly\r\n\t\t\t\t\t\tvalue={this.state.projectId} />\r\n\t\t\t\t</Form.Group>\r\n\t\t}\r\n\r\n\t\t// First date of repayment appears only when the status of investment is \"invested\"\r\n\t\tlet firstDateOfPaymentInputControl = <></>\r\n\r\n        if(this.state.status === \"Invested\") {\r\n\t\t\tfirstDateOfPaymentInputControl = \r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label>First Date of Payment Schedule</Form.Label>\r\n\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\"\r\n\t\t\t\t\t\tvalue={this.state.date} onChange={(e) => { this.setState({\"date\": e.target.value}) }} />\r\n\t\t\t\t\t<Form.Text className=\"text-muted\">Please check your SeedIn account for the date.</Form.Text>\r\n\t\t\t\t</Form.Group>\r\n        }\r\n\r\n        // Initialize all issuers to the modal\r\n        let issuersListGroupItems = this.issuers.map((issuer) => {\r\n            return <ListGroup.Item key={issuer} action onClick={(e) => this.setState({ \"loanee\": issuer, \"chooseIssuer\": false })}>{issuer}</ListGroup.Item>\r\n        });\r\n\r\n\t\treturn (\r\n            <Row>\r\n                <Col md=\"6\">\r\n                    <h2>{formTitle}</h2>\r\n                    <Form>\r\n                        {projectIdInputControl}\r\n                        <Form.Group>\r\n                            <Form.Label>Borrower Name</Form.Label>\r\n                            <InputGroup className=\"mb-3\">\r\n                                <FormControl placeholder=\"Issuer\" \r\n                                    value={this.state.loanee} onChange={(e) => { this.setState({\"loanee\": e.target.value}) }} />\r\n                                <InputGroup.Append>\r\n                                    <Button variant=\"outline-dark\" onClick={(e) => { this.setState({\"chooseIssuer\": true }) }}>Choose</Button>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </Form.Group>\r\n                        <Modal show={this.state.chooseIssuer} onHide={(e) => { this.setState({\"chooseIssuer\": false }) }} animation={false}>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Choose Issuer</Modal.Title>                                \r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <ListGroup>\r\n                                    { issuersListGroupItems }\r\n                                </ListGroup>\r\n                            </Modal.Body>\r\n                        </Modal>\r\n                        <Form.Group>\r\n                            <Form.Label>Project URL (optional)</Form.Label>\r\n                            <InputGroup className=\"mb-3\">\r\n                                <Form.Control type=\"text\" placeholder=\"Go to SeedIn, open the project, copy URL and paste it here.\" \r\n                                    value={this.state.projectUrl} onChange={(e) => { this.setState({\"projectUrl\": e.target.value}) }} />\r\n                                <InputGroup.Append>\r\n                                    <a href={this.state.projectUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn btn-outline-dark\">View</a>\r\n                                </InputGroup.Append>                                \r\n                            </InputGroup>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Invested Amount</Form.Label>\r\n                            <Form.Control type=\"number\" step=\"any\" placeholder=\"â‚±\"\r\n                                value={this.state.investedAmount} onChange={(e) => { this.setState({\"investedAmount\": e.target.value}) }} />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Gross Interest Rate per annum</Form.Label>\r\n                            <Form.Control type=\"number\" step=\"any\" placeholder=\"1% to 20%\"\r\n                                value={this.state.grossInterestRate} onChange={(e) => { this.setState({\"grossInterestRate\": e.target.value}) }} />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Status</Form.Label>\r\n                            <Form.Control as=\"select\" custom\r\n                                value={this.state.status} onChange={(e) => { this.setState({\"status\": e.target.value}) }}>\r\n                                <option>Invested</option>\r\n                                <option>On Hold</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        { firstDateOfPaymentInputControl }\r\n                        <Form.Group>\r\n                            <Form.Label>Repayment Method</Form.Label>\r\n                            <Form.Control as=\"select\" custom\r\n                                value={this.state.repaymentMethod} onChange={(e) => { this.setState({\"repaymentMethod\": e.target.value}) }}>\r\n                                <option>Equal</option>\r\n                                <option>Balloon</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Tenure</Form.Label>\r\n                            <Form.Control type=\"number\" placeholder=\"1 to 12 months\" \r\n                                value={this.state.tenure} onChange={(e) => { this.setState({\"tenure\": e.target.value}) }}/>\r\n                        </Form.Group>\r\n                    </Form>\r\n                    <p style={{textAlign: \"right\"}}>\r\n                        {controls}\r\n                    </p>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <InvestmentDetails investment={this.state.investment} />\r\n                </Col>\r\n            </Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentForm;\r\n","import React from \"react\";\r\nimport { Button, Table, Row, Col, Form } from \"react-bootstrap\";\r\nimport Database from \"../Entities/Database\";\r\nimport Investment from \"../Entities/Investment\";\r\nimport MyDate from \"../Entities/MyDate\";\r\nimport NumberUtils from \"../Entities/NumberUtils\";\r\n\r\n// Displays the list of investments and the filtering features\r\nclass InvestmentsTable extends React.Component {\r\n\r\n\t// Initialize the investments list\r\n\tconstructor(props) {\r\n        super(props);\r\n\r\n        // Prepopulate the initial filtering and sorting\r\n        this.investments = new Database().getInvestments();\r\n        this.issuers = Investment.getIssuers(this.investments);\r\n        var dates = Investment.getEarliestAndLatestInvestmentDates(this.investments);\r\n\r\n        // Set the filtering attributes\r\n        if(\"investmentsTable.state\" in localStorage) {\r\n            this.state = JSON.parse(window.localStorage.getItem(\"investmentsTable.state\"));\r\n\r\n            if(dates != null) {\r\n                this.state.fromDate = dates[\"earliest\"].toString();\r\n                this.state.toDate = dates[\"latest\"].toString();\r\n            }\r\n        } else {\r\n            this.state = {\r\n                \"fromDate\": dates !== null ? dates[\"earliest\"].toString() : \"\",\r\n                \"toDate\": dates !== null ? dates[\"latest\"].toString() : \"\",\r\n                \"sortedBy\": \"Project ID\",\r\n                \"sortOrder\": \"Ascending\",\r\n                \"repaymentMethod\": \"All\",\r\n                \"issuer\": \"All\"\r\n            }\r\n        };\r\n\r\n        // Used for restoring scroll\r\n        this.listRef = React.createRef();\r\n    }\r\n\r\n    // Restore the scroll\r\n    componentDidMount() {\r\n        if(\"investmentsTable.scrollY\" in localStorage) {\r\n            window.scrollTo(0, localStorage.getItem(\"investmentsTable.scrollY\"));\r\n        }\r\n    }\r\n\r\n\t// Through the investments list is the only way to trigger an add investment and update investment\r\n\t// however the handling of the changing of component is on the InvestmentsContainer\r\n\trender() {\r\n        // Load the issuers into the drop down\r\n        let issuerOptions = this.issuers.map((issuer) => {\r\n            return <option key={issuer}>{ issuer }</option>\r\n        });\r\n\r\n        let investmentsTableRows = <tr>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n        </tr>;\r\n\r\n        if(this.investments.length > 0) {\r\n            // Filter by date\r\n            var earliestDate = MyDate.toMyDate(this.state.fromDate);\r\n            var latestDate = MyDate.toMyDate(this.state.toDate);            \r\n            var filteredInvestments = Investment.filterInvestmentsByDate(this.investments, earliestDate, latestDate);\r\n\r\n            // Filter by repayment method\r\n            filteredInvestments = Investment.filterInvestmentsByRepaymentMethod(filteredInvestments, this.state.repaymentMethod);\r\n\r\n            // Filter by issuer\r\n            filteredInvestments = Investment.filterInvestmentsByIssuer(filteredInvestments, this.state.issuer);\r\n\r\n            // Do sorting\r\n            var sortedBy = this.state.sortedBy;\r\n            \r\n            filteredInvestments.sort((investmentA, investmentB) => {\r\n                if(sortedBy === \"Project ID\")\r\n                return investmentA.properties[\"propertyId\"] - investmentB.properties[\"propertyId\"];\r\n                \r\n                if(sortedBy === \"Investment Amount\")\r\n                    return investmentA.properties[\"investmentAmount\"] - investmentB.properties[\"investmentAmount\"];\r\n                \r\n                if(sortedBy === \"Interest Rate\")\r\n                    return investmentA.properties[\"grossInterestRate\"] - investmentB.properties[\"grossInterestRate\"];\r\n            \r\n                if(sortedBy === \"Next Pay Date\") {\r\n                    var dateA = investmentA.calculateNextPayDate(); \r\n                    var dateB = investmentB.calculateNextPayDate();\r\n\r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return 0;\r\n                    \r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"Invested\")\r\n                        return 1;\r\n\r\n                    if(investmentA.properties[\"status\"] === \"Invested\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return -1;\r\n\r\n                    if(dateA === null && dateB === null)\r\n                        return 0;\r\n                    \r\n                    if(dateA === null)\r\n                        return 1;\r\n                    \r\n                    if(dateB === null)\r\n                        return -1;\r\n                        \r\n                    return dateA.compareTo(dateB);\r\n                }\r\n\r\n                if(sortedBy === \"Maturity Date\") {\r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return 0;\r\n                    \r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"Invested\")\r\n                        return 1;\r\n\r\n                    if(investmentA.properties[\"status\"] === \"Invested\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return -1;\r\n\r\n                    return investmentA.calculateMaturityDate().compareTo(investmentB.calculateMaturityDate());\r\n                }\r\n\r\n                return 0;\r\n            });\r\n\r\n            // Reverse if descending\r\n            if(this.state.sortOrder === \"Descending\")\r\n                filteredInvestments.reverse();\r\n            \r\n            // Put it as an output\r\n            investmentsTableRows = filteredInvestments.map((investment) => {\r\n                var payDateDetails = investment.calculateNextPayAndMaturityDate();\r\n\r\n                // When a row is clicked, we save the scroll so we can store later on\r\n                return <tr key={investment.properties[\"projectId\"]} onClick={(e) => { \r\n                            localStorage.setItem(\"investmentsTable.scrollY\", window.scrollY);\r\n                            this.props.openInvestmentClick(investment) \r\n                        }}>\r\n                    <td><strong>{ investment.properties[\"projectId\"] }</strong></td>\r\n                    <td>{ NumberUtils.formatCurrency(investment.properties[\"investmentAmount\"]) }</td>\r\n                    <td>\r\n                        { (investment.properties[\"grossInterestRate\"] * 100).toFixed(2) }% p.a. {' '}\r\n                        { investment.properties[\"repaymentMethod\"] }\r\n                    </td>\r\n                    <td>{ NumberUtils.formatCurrency(investment.properties[\"investmentAmount\"] + investment.calculateNetGainAmount()) }</td>\r\n                    <td>{ payDateDetails[\"nextPayDate\"].toString() }</td>\r\n                    <td>{ NumberUtils.formatCurrency(payDateDetails[\"nextPayAmount\"]) }</td>\r\n                    <td>{ payDateDetails[\"maturityDate\"].toString() }</td>\r\n                </tr>\r\n            });\r\n        }\r\n\r\n        // Save the filters\r\n        window.localStorage.setItem(\"investmentsTable.state\", JSON.stringify(this.state));\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={this.listRef}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<h2>Investments</h2>\r\n\t\t\t\t\t\t<p><Button variant=\"primary\" onClick={ this.props.addInvestmentClick }>Add Investment</Button></p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">From Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.fromDate} onChange={(e) => { this.setState({\"fromDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">To Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.toDate} onChange={(e) => { this.setState({\"toDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Sorted By</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.sortedBy} onChange={(e) => { this.setState({\"sortedBy\": e.target.value }) }}>\r\n\t\t\t\t\t\t\t\t<option>Project ID</option>\r\n\t\t\t\t\t\t\t\t<option>Investment Amount</option>\r\n\t\t\t\t\t\t\t\t<option>Interest Rate</option>\r\n\t\t\t\t\t\t\t\t<option>Next Pay Date</option>\r\n\t\t\t\t\t\t\t\t<option>Maturity Date</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Sort Order</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.sortOrder} onChange={(e) => { this.setState({\"sortOrder\": e.target.value }) }}>\r\n\t\t\t\t\t\t\t\t<option>Ascending</option>\r\n\t\t\t\t\t\t\t\t<option>Descending</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Repayment Method</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.repaymentMethod} onChange={(e) => { this.setState({\"repaymentMethod\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n\t\t\t\t\t\t\t\t<option>Balloon</option>\r\n\t\t\t\t\t\t\t\t<option>Equal</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Issuer</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.issuer} onChange={(e) => { this.setState({\"issuer\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n                                { issuerOptions }\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n                    <Col md=\"12\">\r\n                        <Table id=\"investmentsTable\" responsive striped bordered hover variant=\"dark\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th className=\"align-middle\">Project ID</th>\r\n                                    <th className=\"align-middle\">Investment Amount</th>\r\n                                    <th className=\"align-middle\">Gross %</th>\r\n                                    <th className=\"align-middle\">Net Payout</th>\r\n                                    <th className=\"align-middle\">Next Pay Date</th>\r\n                                    <th className=\"align-middle\">Next Pay Amount</th>\r\n                                    <th className=\"align-middle\">Maturity Date</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>{ investmentsTableRows }</tbody>\r\n                        </Table>\r\n                    </Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentsTable;\r\n","import React from \"react\";\r\nimport InvestmentForm from \"./InvestmentForm\";\r\nimport InvestmentsTable from \"./InvestmentsTable\";\r\n\r\n// This holds components for listing investments, adding, viewing, and updating\r\nclass InvestmentsContainer extends React.Component {\r\n\r\n\t// Initialize the investments container\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// Initialize component to show is the investment lists\r\n\t\tthis.state = { \r\n\t\t\tactiveComponentName: \"InvestmentsTable\",\r\n\t\t\tinvestment: null\r\n\t\t};\r\n\r\n\t\t// This function needs binding to this container because when an investment is selected\r\n\t\t// we need to make it executable to sub components\r\n\t\tthis.handleOpenInvestmentClick = this.handleOpenInvestmentClick.bind(this);\r\n\t}\r\n\r\n\t// Make the active component the add investments\r\n\thandleAddInvestmentClick() {\r\n\t\tlocalStorage.setItem(\"investmentsTable.scrollY\", 0);\r\n\t\tthis.setState({ activeComponentName: \"AddInvestmentForm\", investment: null });\r\n\t}\r\n\r\n\t// Make the active component the update/view invsetment\r\n\thandleOpenInvestmentClick(clickedInvestment) {\r\n\t\tthis.setState({ activeComponentName: \"OpenInvestmentForm\", investment: clickedInvestment });\r\n\t}\r\n\r\n\t// Back to the investments list component\r\n\thandleBackClick() {\r\n\t\tthis.setState({ activeComponentName: \"InvestmentsTable\" });\r\n\t}\r\n\r\n\t// Render the appropraite container\r\n\trender() {\r\n\t\t// Component names and mapping component\r\n\t\tconst componentNames = [\"InvestmentsTable\", \"AddInvestmentForm\", \"OpenInvestmentForm\"];\r\n\t\tconst components = [ \r\n\t\t\t<InvestmentsTable addInvestmentClick={(e) => { this.handleAddInvestmentClick() }} openInvestmentClick={ this.handleOpenInvestmentClick } />, \r\n\t\t\t<InvestmentForm formMode=\"add\" backClick={(e) => { this.handleBackClick() }} />,\r\n\t\t\t<InvestmentForm formMode=\"update\" backClick={(e) => { this.handleBackClick() }} investment={this.state.investment} />];\r\n\r\n\t\t// Show the chosen component\r\n\t\tlet activeComponent = components[componentNames.indexOf(this.state.activeComponentName)];\t\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{activeComponent}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentsContainer;\r\n","import React from \"react\";\r\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport Database from \"../Entities/Database\";\r\nimport MyDate from \"../Entities/MyDate\";\r\n\r\n// Container for import and export of data\r\nclass MyDataContainer extends React.Component {\r\n\r\n\t// Initialize stuff\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.database = new Database();\r\n\t}\r\n\r\n\t// Export data and download it\r\n\thandleExportClick() {\r\n\t\tvar investmentsJson = []\r\n\t\tvar investments = this.database.getInvestments();\r\n\t\t\r\n\t\t// Serialize everything as a json object\r\n        for(var i = 0; i < investments.length; i++)\r\n\t\t\tinvestmentsJson.push(investments[i].toJson());\r\n\t\t\r\n\t\tvar downloadLink = document.createElement(\"a\");\r\n\t\tdownloadLink.download = \"seedin \" + MyDate.now().toString() + \".data\";\r\n\t\tdownloadLink.href=\"data:text/plain;charset=utf-8,\" + encodeURIComponent(JSON.stringify(investmentsJson));\r\n\t\tdownloadLink.click();\r\n\t}\r\n\r\n\t// Import from a json file\r\n\thandleImportClick(file) {\r\n\t\tif(!window.confirm(\"This will delete your current data, are you sure you want to continue?\"))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tvar fileReader = new FileReader();\r\n\t\tvar database = this.database;\r\n\r\n\t\tfileReader.onload = () => {\r\n\t\t\ttry {\r\n\t\t\t\tif(database.importJson(JSON.parse(fileReader.result)))\r\n\t\t\t\t\twindow.alert(\"Import successful.\");\r\n\t\t\t\telse\r\n\t\t\t\t\twindow.alert(\"Import failed.\");\r\n\t\t\t} catch(err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\twindow.alert(\"Invalid file.\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfileReader.readAsText(file)\r\n\t}\r\n\r\n\t// Delete all stored data\r\n\thandleResetClick() {\r\n\t\tif(!window.confirm(\"Are you sure you want to clear your data?\"))\r\n\t\t\treturn;\r\n\r\n\t\tlocalStorage.clear();\r\n\t\twindow.alert(\"Clear successful.\");\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t<h2>My Data</h2>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tYour data is locally saved on this web browser you are currently using. \r\n\t\t\t\t\t\tYou can continue working on it anytime. \r\n\t\t\t\t\t\tYou can export and download your data as a file if you wish to work \r\n\t\t\t\t\t\ton your data from another device or web browser.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<h2>Export</h2>\r\n\t\t\t\t\t<p><Button variant=\"primary\" onClick={(e) => { this.handleExportClick() }}>Download My Data</Button></p>\r\n\t\t\t\t\t<h2>Import</h2>\r\n\t\t\t\t\t<p>Restore your data from an exported file. This replaces any data that is currently saved.</p>\r\n\t\t\t\t\t<Form.File label=\"Browse or drag file to this box\" custom\r\n\t\t\t\t\t\tonChange={(e) => { this.handleImportClick(e.target.files[0]) }} />\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t<h2>Reset</h2>\r\n\t\t\t\t\t<p>Delete all your saved data from this web browser.</p>\r\n\t\t\t\t\t<p><Button variant=\"danger\" onClick={(e) => { this.handleResetClick() }}>Clear My Data</Button></p>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MyDataContainer;\r\n","import React from \"react\";\r\nimport { Modal, Alert, Form, FormControl, Row, Col, InputGroup, ProgressBar } from \"react-bootstrap\";\r\nimport Database from \"../Entities/Database\";\r\nimport Investment from \"../Entities/Investment\";\r\nimport MyDate from \"../Entities/MyDate\";\r\nimport NumberUtils from \"../Entities/NumberUtils\";\r\n\r\n// The dashboard contains all summary of projects\r\nclass DashboardContainer extends React.Component {\r\n\r\n\t// Initialize the default stats\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.investments = new Database().getInvestments();\r\n\t\tthis.issuers = Investment.getIssuers(this.investments);\r\n\r\n\t\t// Initialize the earliest and latest dates\r\n\t\tvar dates = Investment.getEarliestAndLatestInvestmentDates(this.investments);\r\n\r\n\t\tthis.state = {\r\n\t\t\t\"fromDate\": dates !== null ? dates[\"earliest\"].toString() : \"\",\r\n\t\t\t\"toDate\": dates !== null ? dates[\"latest\"].toString() : \"\",\r\n\t\t\t\"repaymentMethod\": \"All\",\r\n\t\t\t\"issuer\": \"All\",\r\n\t\t\t\"showNegativeGainExplanation\": false\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\t// Load the issuers\r\n\t\tlet issuerOptions = this.issuers.map((issuer) => {\r\n            return <option key={issuer}>{ issuer }</option>\r\n\t\t});\r\n\t\t\r\n\t\tvar earliestDate = MyDate.toMyDate(this.state.fromDate);\r\n\t\tvar latestDate = MyDate.toMyDate(this.state.toDate);\r\n\r\n\t\t// Dashboard numbers\r\n\t\tvar currentDate = MyDate.now();\r\n\t\tvar amountInvested = 0;\r\n\t\tvar completedNetEarnings = 0;\r\n\t\tvar netEarnings = 0;\r\n\t\tvar projectedNetAmount = 0;\r\n\t\tvar completedNetPayoutAmount = 0;\r\n\t\tvar completedProjects = 0;\r\n\t\tvar gainPercent = 0;\r\n\t\tvar numMaturedToday = 0;\r\n\r\n\t\tvar numOnHold = 0;\r\n\t\tvar onHoldAmount = 0;\r\n\r\n\t\t// Progress bars\r\n        var netEarningsPercent = 0;\r\n        var netPayoutPercent = 0;\r\n\t\tvar completedProjectsPercent = 0;\r\n\t\t\r\n\t\tvar filteredInvestments = [];\r\n\r\n\t\t// Proceed only with the calculation on validate dates\r\n\t\tif(earliestDate != null && latestDate != null) {\r\n\t\t\tfilteredInvestments = Investment.filterInvestmentsByDate(this.investments, earliestDate, latestDate);\r\n\t\t\tfilteredInvestments = Investment.filterInvestmentsByRepaymentMethod(filteredInvestments, this.state.repaymentMethod);\r\n\t\t\tfilteredInvestments = Investment.filterInvestmentsByIssuer(filteredInvestments, this.state.issuer);\r\n\r\n\t\t\tfor(var i = 0; i < filteredInvestments.length; i++) {\r\n\t\t\t\tvar investment = filteredInvestments[i];\r\n\t\r\n\t\t\t\tif(investment.properties[\"status\"] === \"On Hold\") {\r\n\t\t\t\t\tnumOnHold++;\r\n\t\t\t\t\tonHoldAmount += investment.properties[\"investmentAmount\"];\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Break down each investment schedule and include only those schedule that is exactly in the\r\n\t\t\t\t// date range, filters out months that\r\n\t\t\t\tvar schedules = investment.generateRepaymentSchedule();\r\n\t\t\t\t\r\n\t\t\t\tif(schedules[schedules.length - 1][\"date\"].compareTo(currentDate) === 0)\r\n\t\t\t\t\tnumMaturedToday++;\r\n\t\r\n\t\t\t\tif(schedules[schedules.length - 1][\"date\"].compareTo(currentDate) <= 0)\r\n\t\t\t\t\tcompletedProjects++;\r\n\t\t\t\t\r\n\t\t\t\t// If repayment method is balloon, there's no monthly investment.\r\n\t\t\t\t// So we put the whole investment amount.\r\n\t\t\t\tif(investment.properties[\"repaymentMethod\"] === \"Balloon\")\r\n\t\t\t\t\tamountInvested += investment.properties[\"investmentAmount\"];\r\n\t\t\t\t\r\n\t\t\t\tfor(var j = 0; j < schedules.length; j++) {\r\n\t\t\t\t\tvar schedule = schedules[j];\r\n\t\r\n\t\t\t\t\tif(schedule[\"date\"].compareTo(earliestDate) >= 0 && schedule[\"date\"].compareTo(latestDate) <= 0) {\r\n\t\t\t\t\t\tprojectedNetAmount += schedule[\"netPayout\"];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// For equal repayment method, we consider the investment as divided as equal as well.\r\n\t\t\t\t\t\tif(investment.properties[\"repaymentMethod\"] === \"Equal\")\r\n\t\t\t\t\t\t\tamountInvested += schedule[\"netPayout\"] - schedule[\"netInterestPayout\"];\r\n\t\r\n\t\t\t\t\t\tnetEarnings += schedule[\"netInterestPayout\"];\r\n\t\r\n\t\t\t\t\t\tif(schedule[\"date\"].compareTo(currentDate) <= 0) {\t\r\n\t\t\t\t\t\t\tcompletedNetEarnings += schedule[\"netInterestPayout\"];\r\n\t\t\t\t\t\t\tcompletedNetPayoutAmount += schedule[\"netPayout\"];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Progress bar calculation\r\n\t\t\t\tnetEarningsPercent = completedNetEarnings / netEarnings * 100;\r\n\t\t\t\tnetPayoutPercent = completedNetPayoutAmount / projectedNetAmount * 100;\r\n\t\t\t\tcompletedProjectsPercent = completedProjects / filteredInvestments.length * 100;\r\n\r\n\t\t\t\tif(isNaN(netEarningsPercent))\r\n\t\t\t\t\tnetEarningsPercent = 0;\r\n\r\n\t\t\t\tif(isNaN(netPayoutPercent))\r\n\t\t\t\t\tnetPayoutPercent = 0;\r\n\r\n\t\t\t\tif(isNaN(completedProjectsPercent))\r\n\t\t\t\t\tcompletedProjectsPercent = 0;\r\n\t\t\t}\r\n\t\r\n\t\t\tgainPercent = (((projectedNetAmount - amountInvested) / amountInvested) * 100).toFixed(2);\r\n\t\r\n\t\t\tif(isNaN(gainPercent))\r\n\t\t\t\tgainPercent = 0;\r\n\t\t}\r\n\r\n\t\t// Set negative gain notification\r\n\t\tlet negativeGainPercentNotification = <></>\r\n\r\n\t\tif(gainPercent < 0)\r\n\t\t\tnegativeGainPercentNotification = <Alert className=\"clickable-alert\" variant=\"info\" onClick={(e) => { this.setState({\"showNegativeGainExplanation\": true}) }}>You got a <strong><u>negative gain</u></strong>.</Alert>\r\n\r\n\t\t// Set any matured projects notifications\r\n\t\tlet maturedProjectsNotification = <></>\r\n\r\n\t\tif(numMaturedToday > 0)\r\n\t\t\tmaturedProjectsNotification = <Alert variant=\"success\"><strong>Congratulations!</strong> You have <strong>{ numMaturedToday} project(s)</strong> that reached the maturity date today.</Alert>\r\n\r\n\t\t// Set the number of on hold projects notification\r\n\t\tlet onHoldProjectsNotification = <></>\r\n\r\n\t\tif(numOnHold)\r\n\t\t\tonHoldProjectsNotification = <Alert variant=\"warning\">You have <strong>{ numOnHold } on hold project(s)</strong> with a total amount of <strong>{ NumberUtils.formatCurrency(onHoldAmount) }</strong></Alert>\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<h2>Dashboard</h2>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Modal show={this.state.showNegativeGainExplanation} onHide={(e) => { this.setState({\"showNegativeGainExplanation\": false}) }} animation={false}>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t<Modal.Title>Negative Gain</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tYou have a negative gain on the <strong>selected range of date</strong>{' '}\r\n\t\t\t\t\t\t\tbecause you have <strong>more balloon repayment projects than equal repayment projects</strong>.{' '}\r\n\t\t\t\t\t\t\tUnlike equal repayment projects, your invested funds in a balloon repayment project is{' '}\r\n\t\t\t\t\t\t\t<strong>not divided into months but summed as a whole</strong>. Some of the interests might have{' '}\r\n\t\t\t\t\t\t\tbeen paid which already lowered your negative gain. As we move closer to the maturity dates more interest earned will be released and{' '}\r\n                \t\t\tthe negative gain will soon decrease and become positive <strong>once the tenure of the balloon projects have been reached</strong>.{' '}\r\n\t\t\t\t\t\t\tSo within the range of dates you have selected, some of your <strong>balloon projects{' '}\r\n\t\t\t\t\t\t\thave not yet reached their tenure</strong> which resulted to a negative gain.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">{ negativeGainPercentNotification }</Col>\r\n\t\t\t\t\t<Col md=\"12\">{ maturedProjectsNotification }</Col>\r\n\t\t\t\t\t<Col md=\"12\">{ onHoldProjectsNotification }</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">From Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.fromDate} onChange={(e) => { this.setState({\"fromDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">To Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.toDate} onChange={(e) => { this.setState({\"toDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Repayment Method</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.repaymentMethod} onChange={(e) => { this.setState({\"repaymentMethod\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n\t\t\t\t\t\t\t\t<option>Balloon</option>\r\n\t\t\t\t\t\t\t\t<option>Equal</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Issuer</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.issuer} onChange={(e) => { this.setState({\"issuer\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n                                { issuerOptions }\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Amount Invested / Projected Net</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ gainPercent } />\r\n\t\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value= {NumberUtils.formatCurrency(amountInvested) + \" / \" + NumberUtils.formatCurrency(projectedNetAmount) } />\r\n\t\t\t\t\t\t\t\t<InputGroup.Append>\r\n\t\t\t\t\t\t\t\t\t<InputGroup.Text>{ gainPercent }%</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t</InputGroup.Append>\r\n\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Net Payout</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ netPayoutPercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ NumberUtils.formatCurrency(completedNetPayoutAmount) + \" out of \" + NumberUtils.formatCurrency(projectedNetAmount) } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Net Earnings</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ netEarningsPercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ NumberUtils.formatCurrency(completedNetEarnings) + \" out of \" + NumberUtils.formatCurrency(netEarnings) } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Completed Projects</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ completedProjectsPercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ completedProjects + \" out of \" + filteredInvestments.length } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DashboardContainer;\r\n","import React from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\n\r\n// For programmer credits\r\nclass AboutContainer extends React.Component {\r\n\r\n    // Open my BMC page\r\n    buyMeACoffee() {\r\n        var link = document.createElement(\"a\");\r\n        link.href = \"https://www.buymeacoffee.com/it2051229\";\r\n        link.target = \"_blank\";\r\n        link.click();\r\n    }\r\n\r\n    // Display info\r\n\trender() {\r\n\t\treturn (\r\n            <>\r\n                <Row>\r\n                    <Col md=\"6\">\r\n                        <h4>Are you related to SeedIn?</h4>\r\n                        <p>\r\n                            No, just like you we are fellow investors in SeedIn. We are not in any \r\n                            way working for SeedIn nor associated with SeedIn.\r\n                        </p>\r\n                        <h4>Why build this application?</h4>\r\n                        <p>\r\n                            For some, SeedIn's dashboard makes it difficult to keep track and sort investments. \r\n                            Some opted to create their own excel sheets, some used calendar apps, some used \r\n                            their own custom database, and some used reminder apps to keep track of their \r\n                            investments. Each and everyone of us have questions with regards to our investments \r\n                            which SeedIn's dashboard cannot directly answer. We decided to create our \r\n                            personalized way of tracking investment to make things easier and clearer \r\n                            for us. After all, we all need to do due diligence and be in sync with what's \r\n                            going on with our funds.\r\n                        </p>\r\n                        <p>\r\n                            We made it public and share with other SeedIn investors just in case it would be \r\n                            something useful to them.\r\n                        </p>\r\n                    </Col>\r\n                    <Col md=\"6\">\r\n                        <h4>Do you keep my data?</h4>\r\n                        <p>\r\n                            No, all your data are private and locally stored on this web browser. We do not keep your \r\n                            data in our servers. You cannot access your data from another computer or web browser.\r\n                        </p>\r\n                        <h4>Can I keep my data?</h4>\r\n                        <p>\r\n                            Yes, you can export your data. It will be extracted from your computer and downloaded as a file. \r\n                            You can then import the file through using this app from a we browser.\r\n                        </p>\r\n                        <h4>What else do I need to know before using this app?</h4>\r\n                        <p>\r\n                            This project is a work in progress. There might be changes and improvements anytime \r\n                            so you should use it at your own risk. We recommend to backup your data frequently.\r\n                        </p>\r\n                        <p>\r\n                            If you're looking for some feature that this app does not provide, feel free to shoot \r\n                            us a message at <a href=\"mailto:contact@it2051229.com\">contact@it2051229.com</a>.\r\n                        </p>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md=\"12\">\r\n                        <center><Button variant=\"primary\" size=\"lg\" onClick={(e) => this.buyMeACoffee()}>Support this project! Buy me a coffee!</Button></center>\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AboutContainer;\r\n","import React from \"react\";\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\nimport disableBrowserBackButton from \"disable-browser-back-navigation\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport InvestmentsContainer from \"./Components/InvestmentsContainer\";\nimport MyDataContainer from \"./Components/MyDataContainer\";\nimport DashboardContainer from \"./Components/DashboardContainer\";\nimport AboutContainer from \"./Components/AboutContainer\";\n\n// Entry class of the program\nclass App extends React.Component {\n\n\t// Initialize the main container\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\t// The dashboard is the starting container\n\t\tthis.state = { activeMenuName: \"Dashboard\" };\n\t}\n\n\t// Switch to another container\n\thandleMenuClick(newActiveMenuName) {\n\t\tthis.setState({ activeMenuName: newActiveMenuName });\n\t}\n\n\t// Disable the back button of the browser\n\tcomponentDidMount() {\n\t\tdisableBrowserBackButton();\n\t}\n\n\t// Entry point of the program\n\trender() {\n\t\t// Our containers and its mapping\n\t\tconst menuNames = [ \"Dashboard\", \"Investments\", \"My Data\", \"About\" ];\n\t\tconst menuContainers = [ <DashboardContainer />, <InvestmentsContainer />, <MyDataContainer />, <AboutContainer /> ]\n\t\t\n\t\t// Put the nav links in a list, also show an active state on the selected menu\n\t\tconst menuNavLinks = menuNames.map((menuName) => {\n\t\t\tif(menuName === this.state.activeMenuName)\n\t\t\t\treturn <Nav.Link key={menuName} active onClick={(e) => this.handleMenuClick(menuName)}>{menuName}</Nav.Link>\n\t\t\t\n\t\t\treturn <Nav.Link key={menuName} onClick={(e) => this.handleMenuClick(menuName)}>{menuName}</Nav.Link>\n\t\t});\n\n\t\t// Find the active menu and the appropriate container to display\n\t\tlet activeMenuContainer = menuContainers[menuNames.indexOf(this.state.activeMenuName)];\t\n\t\t\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Navbar bg=\"dark\" variant=\"dark\" expand=\"md\" fixed=\"top\">\n\t\t\t\t\t<Navbar.Brand href=\"#home\"><strong>My SeedIn Portfolio</strong></Navbar.Brand>\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t\t{ menuNavLinks }\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</Navbar>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t{activeMenuContainer}\t\t\t\t\n\t\t\t\t</Container>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
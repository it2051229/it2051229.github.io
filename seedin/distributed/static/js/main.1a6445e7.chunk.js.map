{"version":3,"sources":["Entities/NumberUtils.js","Components/InvestmentDetails.js","Entities/MyDate.js","Entities/Investment.js","Entities/Pin.js","Entities/Database.js","Components/InvestmentForm.js","Components/InvestmentsTable.js","Components/InvestmentsContainer.js","Components/MyDataContainer.js","Components/DashboardPin.js","Components/DashboardContainer.js","Components/AboutContainer.js","App.js","serviceWorker.js","index.js"],"names":["NumberUtils","x","toFixed","toString","replace","InvestmentDetails","netInterestRate","netGainRate","netGainAmount","netTotalPayoutAmount","paymentSchedules","onHoldNotice","this","props","investment","calculateNetInterestRate","calculateTenureInterestRate","calculateNetGainAmount","properties","generateRepaymentSchedule","formatCurrency","map","schedule","key","Alert","variant","Form","Group","Label","Control","type","readOnly","value","Table","responsive","striped","bordered","hover","React","Component","MyDate","year","month","day","other","jsDate","Date","getFullYear","getMonth","getDate","date","strDate","tokens","split","length","i","isNaN","parseInt","daysInMonths","json","Investment","id","amount","interestRate","repaymentMethod","tenure","status","toJson","monthlyInterestRate","currentDate","now","schedules","compareTo","result","monthlyNetInterestPayoutAmount","calculateMonthlyNetInterestPayoutAmount","monthlyCapitalAmount","calculateMonthlyCapitalPayoutAmount","copy","netPayout","push","addMonth","projectId","validationResult","toMyDate","jsonToObject","investments","earliestDate","latestDate","firstPayDate","lastPayDate","calculateMaturityDate","startDate","endDate","filter","issuer","issuers","indexOf","sort","Pin","fromDate","toDate","amountInvested","completedNetEarnings","netEarnings","projectedNetAmount","completedNetPayoutAmount","completedProjects","gainPercent","averageGrossInterestRate","averageNetInterestRate","averageTenure","netEarningsPercent","netPayoutPercent","completedProjectsPercent","numOngoingProjects","averageProjectInterestPercent","averageProjectTenurePercent","Database","localStorage","setItem","JSON","stringify","console","log","investmentsJson","parse","getItem","pinsJson","pins","j","pin","version","appVersion","toImportJson","startsWith","importJsonVersion_1_2","importJsonVersion_1_0_0","tempInvestments","err","tempPins","persist","investmentsList","index","splice","slice","InvestmentForm","database","getIssuers","getInvestments","formMode","state","window","scrollTo","handleCalculateClick","validateProjectId","alert","findInvestment","validateInvestedAmount","investedAmount","validateGrossInterestRate","grossInterestRate","validateDate","setState","validateTenure","parseFloat","projectUrl","loanee","toUpperCase","createInvestmentObject","addInvestment","backClick","confirm","deleteInvestment","url","toLowerCase","a","document","createElement","target","rel","href","click","controls","formTitle","projectIdInputControl","Button","onClick","e","handleAddClick","placeholder","onChange","handleDeleteClick","handleUpdateClick","firstDateOfPaymentInputControl","Text","className","issuersListGroupItems","ListGroup","Item","action","Row","Col","md","InputGroup","FormControl","Append","handleShowIssuerClick","Modal","show","chooseIssuer","onHide","Header","closeButton","Title","Body","handleOpenProjectUrlClick","step","as","custom","style","textAlign","InvestmentsTable","dates","getEarliestAndLatestInvestmentDates","listRef","createRef","issuerOptions","investmentsTableRows","filteredInvestments","filterInvestmentsByDate","filterInvestmentsByRepaymentMethod","filterInvestmentsByIssuer","sortedBy","investmentA","investmentB","dateA","calculateNextPayDate","dateB","sortOrder","reverse","payDateDetails","calculateNextPayAndMaturityDate","scrollY","openInvestmentClick","ref","addInvestmentClick","InvestmentsContainer","activeComponentName","handleOpenInvestmentClick","bind","clickedInvestment","activeComponent","handleAddInvestmentClick","handleBackClick","MyDataContainer","major","minor","patch","downloadLink","download","encodeURIComponent","exportAsJson","file","fileReader","FileReader","onload","importJson","readAsText","clear","handleExportClick","File","label","handleImportClick","files","handleResetClick","DashboardPin","Card","bg","text","marginBottom","size","ProgressBar","max","Footer","removePinClick","pinNumber","DashboardContainer","getPins","handleRemovePinClick","numOnGoingProjects","addPin","deletePin","numMaturedToday","numOnHold","onHoldAmount","numPayoutsToday","totalPayoutsToday","totalGrossInterestRate","totalNetInterestRate","totalTenure","negativeGainPercentNotification","maturedProjectsNotification","onHoldProjectsNotification","payoutsTodayNotification","pinId","ButtonGroup","handleCreatePinClick","showNegativeGainExplanation","showPinReportHelp","AboutContainer","link","Link","buyMeACoffee","App","newActiveMenuName","disableBrowserBackButton","menuNames","menuContainers","menuNavLinks","menuName","activeMenuName","Nav","eventKey","active","handleMenuClick","activeMenuContainer","Navbar","collapseOnSelect","expand","fixed","Brand","Toggle","aria-controls","Collapse","Container","fluid","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1a6445e7.chunk.js","sourcesContent":["class NumberUtils {\r\n    // Convery a numer with commas and a peso sign\r\n    static formatCurrency(x) {\r\n        return \"â‚±\" + x.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    }\r\n}\r\n\r\nexport default NumberUtils;\r\n","import React from \"react\";\r\nimport { Form, Table, Alert  } from \"react-bootstrap\";\r\nimport NumberUtils from \"../Entities/NumberUtils\";\r\n\r\n// Investment details will show the effective interest rates and repayment schedules\r\nclass InvestmentDetails extends React.Component {\r\n\r\n\t// Display the calculated details of an investment\r\n\trender() {\r\n        let netInterestRate = \"...\";\r\n        let netGainRate = \"...\";\r\n        let netGainAmount = \"...\";\r\n        let netTotalPayoutAmount = \"...\";\r\n        let paymentSchedules = <tr><td>...</td><td>...</td><td>...</td></tr>\r\n        let onHoldNotice = <></>\r\n\r\n        // If an investment is provided then display the details\r\n        if(this.props.investment !== null) {            \r\n            netInterestRate = (this.props.investment.calculateNetInterestRate() * 100).toFixed(2) + \"%\";\r\n            netGainRate = (this.props.investment.calculateTenureInterestRate() * 100).toFixed(2) + \"%\";\r\n            netGainAmount = this.props.investment.calculateNetGainAmount();\r\n            netTotalPayoutAmount = this.props.investment.properties[\"investmentAmount\"] + netGainAmount;\r\n            paymentSchedules = this.props.investment.generateRepaymentSchedule();\r\n\r\n            netGainAmount = NumberUtils.formatCurrency(netGainAmount);\r\n            netTotalPayoutAmount = NumberUtils.formatCurrency(netTotalPayoutAmount);\r\n\r\n            paymentSchedules = paymentSchedules.map((schedule) => {\r\n                return <tr key={schedule[\"date\"].toString()}>\r\n                    <td>{ schedule[\"date\"].toString() }</td>\r\n                    <td>{ NumberUtils.formatCurrency(schedule[\"netInterestPayout\"]) }</td>\r\n                    <td>{ NumberUtils.formatCurrency(schedule[\"netPayout\"]) }</td>\r\n                </tr>\r\n            })\r\n\r\n            // Notice for on hold project\r\n            if(this.props.investment.properties[\"status\"] === \"On Hold\") {\r\n                onHoldNotice = <Alert variant=\"warning\">This project is <strong>On Hold</strong> and the <strong>repayment dates are just samples dates</strong>. </Alert>\r\n            }\r\n        }\r\n\r\n\t\treturn(\r\n\t\t\t<>\r\n\t\t\t\t<h2>Investment Details</h2>\r\n                <Form>\r\n                    <Form.Group>\r\n                        <Form.Label>Net Interest Rate per annum</Form.Label>\r\n                        <Form.Control type=\"text\" readOnly value={netInterestRate} />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Net Gain Rate after Tenure</Form.Label>\r\n                        <Form.Control type=\"text\" readOnly value={netGainRate} />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Net Gain Amount after Tenure</Form.Label>\r\n                        <Form.Control type=\"text\" readOnly value={netGainAmount} />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Total Net Payout after Tenure</Form.Label>\r\n                        <Form.Control type=\"text\" readOnly value={netTotalPayoutAmount} />\r\n                    </Form.Group>\r\n                </Form>\r\n                { onHoldNotice }\r\n                <Table responsive striped bordered hover variant=\"dark\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Payment Date</th>                        \r\n                            <th>Net Interest</th>\r\n                            <th>Net Payout</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{ paymentSchedules }</tbody>\r\n                </Table>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentDetails;\r\n","// Date library\r\nclass MyDate {\r\n\r\n    // Create a date\r\n    constructor(year, month, day) {\r\n        this.properties = {\r\n            \"year\": year,\r\n            \"month\": month,\r\n            \"day\": day\r\n        };    \r\n    }\r\n\r\n    // Compare if this date goes before, equal or after the other date\r\n    compareTo(other) {\r\n        if(this.properties[\"year\"] > other.properties[\"year\"])\r\n            return 1;\r\n        \r\n        if(this.properties[\"year\"] < other.properties[\"year\"])\r\n            return -1;\r\n\r\n        if(this.properties[\"month\"] > other.properties[\"month\"])\r\n            return 1;\r\n        \r\n        if(this.properties[\"month\"] < other.properties[\"month\"])\r\n            return -1;\r\n\r\n        if(this.properties[\"day\"] > other.properties[\"day\"])\r\n            return 1;\r\n\r\n        if(this.properties[\"day\"] < other.properties[\"day\"])\r\n            return -1;\r\n\r\n        return 0;\r\n    }\r\n\r\n    // Return the date as yyyy-mm-dd format\r\n    toString() {\r\n        var month = this.properties[\"month\"];\r\n        var day = this.properties[\"day\"];\r\n\r\n        if(month < 10)\r\n            month = \"0\" + month;\r\n\r\n        if(day < 10)\r\n            day = \"0\" + day;\r\n\r\n        return this.properties[\"year\"] + \"-\" \r\n            + month + \"-\" \r\n            + day;\r\n    }\r\n\r\n    // Add a month\r\n    addMonth() {\r\n        // Set the days for each month    \r\n        var year = this.properties[\"year\"];\r\n        var month = this.properties[\"month\"] + 1;\r\n        var day = this.properties[\"day\"];\r\n\r\n        if(month > 12) {\r\n            year++;\r\n            month = 1;\r\n        }\r\n\r\n        return new MyDate(year, month, day);\r\n    }\r\n\r\n    // Return the proeprties of the date as a JSON\r\n    toJson() {\r\n        return {\r\n            \"year\": this.properties[\"year\"],\r\n            \"month\": this.properties[\"month\"],\r\n            \"day\": this.properties[\"day\"]\r\n        }\r\n    }\r\n\r\n    // Get the date now\r\n    static now() {\r\n        var jsDate = new Date();\r\n        return new MyDate(jsDate.getFullYear(), jsDate.getMonth() + 1, jsDate.getDate());\r\n    }\r\n\r\n    // Create a copy of the date as a new object\r\n    static copy(date) {\r\n        return new MyDate(date.properties[\"year\"], date.properties[\"month\"], date.properties[\"day\"]);\r\n    }\r\n\r\n    // Attempt to create a date object out of the string date\r\n    // Expects that the date is in yyyy-mm-dd format\r\n    // Returns null if the date is invalid\r\n    static toMyDate(strDate) {\r\n        // Validate the format\r\n        this.tokens = strDate.split(\"-\");\r\n\r\n        if(this.tokens.length !== 3)\r\n            return null;\r\n\r\n        // Check that everything else is a number\r\n        for(var i = 0; i < this.tokens.length; i++)\r\n            if(isNaN(this.tokens[i]))\r\n                return null;\r\n\r\n        var year = parseInt(this.tokens[0]);\r\n        var month = parseInt(this.tokens[1]);\r\n        var day = parseInt(this.tokens[2]);\r\n\r\n        // Validate the year\r\n        if(year < 1900 || isNaN(year) || isNaN(month) || isNaN(day))\r\n            return null;\r\n\r\n        // Validate the month, should be 1 to 12\r\n        if(month < 1 || month > 12)\r\n            return null;\r\n\r\n        // Validate the day, it should be within the month's day\r\n        var daysInMonths = [31,28,31,30,31,30,31,31,30,31,30,31];\r\n\r\n        // February is 29 days during leap year\r\n        if((year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0))\r\n            daysInMonths[1] = 29;\r\n\r\n        if(day < 1 || day > daysInMonths[month - 1])\r\n            return null;\r\n        \r\n        // We're good\r\n        return new MyDate(year, month, day);\r\n    }\r\n\r\n    // Convert the JSON to a date object\r\n    static jsonToObject(json) {\r\n        return new MyDate(\r\n            json[\"year\"],\r\n            json[\"month\"],\r\n            json[\"day\"]\r\n        );\r\n    }\r\n}\r\n\r\nexport default MyDate;\r\n","import MyDate from \"./MyDate\"\r\n\r\nclass Investment {\r\n\r\n    // Create a new investment object\r\n    constructor(id, amount, interestRate, date, repaymentMethod, tenure, status) {\r\n        this.properties = {\r\n            \"projectId\": id,\r\n            \"investmentAmount\": amount,\r\n            \"grossInterestRate\": interestRate,\r\n            \"date\": date,\r\n            \"repaymentMethod\": repaymentMethod,\r\n            \"tenure\": tenure,\r\n            \"projectUrl\": \"\",\r\n            \"issuer\": \"\",\r\n            \"status\": status\r\n        };\r\n    }\r\n\r\n    // Return the proeprties of the date as a JSON\r\n    toJson() {\r\n        return {\r\n            \"projectId\": this.properties[\"projectId\"],\r\n            \"investmentAmount\": this.properties[\"investmentAmount\"],\r\n            \"grossInterestRate\": this.properties[\"grossInterestRate\"],\r\n            \"date\": this.properties[\"date\"].toJson(),\r\n            \"repaymentMethod\": this.properties[\"repaymentMethod\"],\r\n            \"tenure\": this.properties[\"tenure\"],\r\n            \"projectUrl\": this.properties[\"projectUrl\"],\r\n            \"issuer\": this.properties[\"issuer\"],\r\n            \"status\": this.properties[\"status\"]\r\n        };\r\n    }\r\n\r\n    // Calculate the net interest rate per annum\r\n    calculateNetInterestRate() {\r\n        var feeRate = 0.30;\r\n        var netInterestRate = this.properties[\"grossInterestRate\"] * (1 - feeRate);\r\n        return netInterestRate;\r\n    }\r\n\r\n    // Calculate the interest rate within the tenure only\r\n    calculateTenureInterestRate() {\r\n        var netInterestRate = this.calculateNetInterestRate();\r\n        var tenureInterestRate = (netInterestRate / 12.0) * this.properties[\"tenure\"];\r\n        return tenureInterestRate;\r\n    }\r\n\r\n    // Calculate the gain amount within the tenure\r\n    calculateNetGainAmount() {\r\n        var netGainAmount = this.calculateTenureInterestRate() * this.properties[\"investmentAmount\"];\r\n        return netGainAmount;\r\n    }\r\n\r\n    // How much is the interest payout per month\r\n    calculateMonthlyNetInterestPayoutAmount() {\r\n        var monthlyInterestRate = this.calculateNetInterestRate() / 12;\r\n        return this.properties[\"investmentAmount\"] * monthlyInterestRate;\r\n    }\r\n\r\n    // How much of the capital is returned per month\r\n    calculateMonthlyCapitalPayoutAmount() {\r\n        if(this.properties[\"repaymentMethod\"] === \"Equal\")\r\n            return this.properties[\"investmentAmount\"] / this.properties[\"tenure\"];\r\n        \r\n        return 0;\r\n    }\r\n\r\n    // Return the next paydate\r\n    // Function is separated to save power\r\n    calculateNextPayDate() {\r\n        var currentDate = MyDate.now();\r\n        var schedules = this.generateRepaymentSchedule();\r\n\r\n        if(currentDate.compareTo(schedules[schedules.length - 1][\"date\"]) > 0)\r\n            return null;\r\n        \r\n        // Find the month\r\n        for(var i = 0; i < schedules.length; i++)\r\n            if(currentDate.compareTo(schedules[i][\"date\"]) <= 0)\r\n                return schedules[i][\"date\"];\r\n\r\n        return null;\r\n    }\r\n\r\n    // Return the maturity date\r\n    // Function is separated to save power\r\n    calculateMaturityDate() {\r\n        var schedules = this.generateRepaymentSchedule();\r\n        return schedules[schedules.length - 1][\"date\"];\r\n    }\r\n\r\n    // Calculate the next payout date, how much, and when it will mature\r\n    calculateNextPayAndMaturityDate() {        \r\n        if(this.properties[\"status\"] === \"On Hold\") {\r\n            return {\r\n                \"maturityDate\": \"On Hold\",\r\n                \"nextPayDate\": \"On Hold\",\r\n                \"nextPayAmount\": 0\r\n            }            \r\n        }\r\n\r\n        var currentDate = MyDate.now();\r\n        var schedules = this.generateRepaymentSchedule();\r\n\r\n        var result = {\r\n            \"maturityDate\": schedules[schedules.length - 1][\"date\"],\r\n            \"nextPayDate\": \"Completed\",\r\n            \"nextPayAmount\": 0\r\n        };\r\n\r\n        if(currentDate.compareTo(schedules[schedules.length - 1][\"date\"]) <= 0) {\r\n            // Find the month and amount\r\n            for(var i = 0; i < schedules.length; i++) {\r\n                if(currentDate.compareTo(schedules[i][\"date\"]) <= 0) {\r\n                    // Found it\r\n                    result[\"nextPayDate\"] = schedules[i][\"date\"];\r\n                    result[\"nextPayAmount\"] = schedules[i][\"netPayout\"];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    // Generate the repayment schedule based on repayment method\r\n    generateRepaymentSchedule() {\r\n        var schedules = [];\r\n        var monthlyNetInterestPayoutAmount = this.calculateMonthlyNetInterestPayoutAmount();\r\n        var monthlyCapitalAmount = this.calculateMonthlyCapitalPayoutAmount();\r\n        var currentDate = MyDate.copy(this.properties[\"date\"]);\r\n\r\n        for(var i = 0; i < this.properties[\"tenure\"]; i++) {\r\n            var netPayout =  monthlyNetInterestPayoutAmount + monthlyCapitalAmount;\r\n            \r\n            // Balloon will have all the capital amount on the last month\r\n            if(i + 1 === this.properties[\"tenure\"] && this.properties[\"repaymentMethod\"] === \"Balloon\")                \r\n                netPayout += this.properties[\"investmentAmount\"];\r\n            \r\n            var schedule = {\r\n                \"date\": currentDate,\r\n                \"netInterestPayout\": monthlyNetInterestPayoutAmount,\r\n                \"netPayout\": netPayout\r\n            }\r\n\r\n            schedules.push(schedule);\r\n            currentDate = currentDate.addMonth();\r\n        }\r\n\r\n        return schedules;\r\n    }\r\n\r\n    // Project ID is valid if it is not empty and it is unique\r\n    static validateProjectId(projectId) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(projectId === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Project ID is required.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Amount should be a numeric value greater than 0\r\n    static validateInvestedAmount(amount) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(amount === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Invested amount is required.\";\r\n        } else if(isNaN(amount)) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Amount should be a numeric value.\";\r\n        } else if(amount <= 0) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Amount should be a non-zero positive value.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Interest rate should be numeric between 1 and 20\r\n    static validateGrossInterestRate(interestRate) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(interestRate === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Gross interest rate amount is required.\";\r\n        } else if(isNaN(interestRate)) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Gross interest rate should be a numeric value.\";\r\n        } else if(interestRate < 1 || interestRate > 20) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Gross interest rate should be between 1% and 20% only.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Check that the date is in the format yyyy-mm-dd\r\n    static validateDate(date) {\r\n        date = MyDate.toMyDate(date);\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(date === null) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Invalid date.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Check that tenure is a number between 1 and 12\r\n    static validateTenure(tenure) {\r\n        this.validationResult = { \"status\": true };\r\n\r\n        if(tenure === \"\") {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Tenure is required.\";\r\n        } else if(isNaN(tenure)) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Tenure should be a numeric value.\";\r\n        } else if(tenure < 1 || tenure > 12) {\r\n            this.validationResult[\"status\"] = false;\r\n            this.validationResult[\"message\"] = \"Tenure should be between 1 and 12 months only.\";\r\n        }\r\n\r\n        return this.validationResult;\r\n    }\r\n\r\n    // Convert the Json as an investment object\r\n    static jsonToObject(json) {\r\n        // Migratory code because we just added status\r\n        if(!(\"status\" in json))\r\n            json[\"status\"] = \"Invested\";\r\n        \r\n        var investment = new Investment(\r\n            json[\"projectId\"],\r\n            json[\"investmentAmount\"],\r\n            json[\"grossInterestRate\"],\r\n            MyDate.jsonToObject(json[\"date\"]),\r\n            json[\"repaymentMethod\"],\r\n            json[\"tenure\"],\r\n            json[\"status\"]\r\n        );\r\n\r\n        investment.properties[\"projectUrl\"] = json[\"projectUrl\"];\r\n        investment.properties[\"issuer\"] = json[\"issuer\"];\r\n\r\n        return investment;\r\n    }\r\n\r\n    // Find the dates of investment earliest and latest (first payout schedule up to the very last payout schedule)\r\n    static getEarliestAndLatestInvestmentDates(investments) {\r\n        if (investments.length === 0)\r\n            return null;\r\n\r\n        var earliestDate = null;\r\n        var latestDate = null;\r\n\r\n        for(var i = 0; i < investments.length; i++) {\r\n            var investment = investments[i];\r\n            var firstPayDate = investment.properties[\"date\"];\r\n            var lastPayDate = investment.calculateMaturityDate();\r\n            \r\n            if(earliestDate === null || firstPayDate.compareTo(earliestDate) < 0)\r\n                earliestDate = firstPayDate;\r\n\r\n            if(latestDate === null || lastPayDate.compareTo(latestDate) > 0)\r\n                latestDate = lastPayDate;\r\n        }\r\n\r\n        return {\r\n            \"earliest\": earliestDate,\r\n            \"latest\": latestDate\r\n        }\r\n    }\r\n    \r\n    // Return all investments that lies on the given start and end date\r\n    static filterInvestmentsByDate(investments, startDate, endDate) {        \r\n        return investments.filter(function(investment) {\r\n            return investment.calculateMaturityDate().compareTo(startDate) >= 0\r\n                && investment.properties[\"date\"].compareTo(endDate) <= 0;               \r\n        });\r\n    }\r\n\r\n    // Return all investment that matches the repayment method\r\n    static filterInvestmentsByRepaymentMethod(investments, repaymentMethod) {\r\n        return investments.filter(function(investment) {\r\n            return repaymentMethod === \"All\" \r\n                || repaymentMethod === investment.properties[\"repaymentMethod\"];\r\n        });\r\n    }\r\n\r\n    // Return all investment that matches the issuer\r\n    static filterInvestmentsByIssuer(investments, issuer) {\r\n        return investments.filter(function(investment) {\r\n            return issuer === \"All\"\r\n                || issuer === investment.properties[\"issuer\"];\r\n        });\r\n    }\r\n\r\n    // Get all unique issuers from the list of investments\r\n    static getIssuers(investments) {\r\n        var issuers = [];\r\n\r\n        for(var i = 0; i < investments.length; i++) {\r\n            var investment = investments[i];\r\n\r\n            if(\"issuer\" in investment.properties && investment.properties[\"issuer\"] !== \"\") {\r\n                var issuer = investment.properties[\"issuer\"];\r\n                \r\n                if(issuers.indexOf(issuer) <= -1)\r\n                    issuers.push(issuer);\r\n            }\r\n        }\r\n\r\n        issuers.sort();\r\n        return issuers;\r\n    }\r\n}\r\n\r\nexport default Investment;\r\n","class Pin {\r\n\r\n    // Create a new pin\r\n    constructor(fromDate, \r\n        toDate, \r\n        repaymentMethod, \r\n        issuer, \r\n        amountInvested,\r\n        completedNetEarnings, \r\n        netEarnings, \r\n        projectedNetAmount, \r\n        completedNetPayoutAmount,\r\n        completedProjects, \r\n        gainPercent, \r\n        averageGrossInterestRate, \r\n        averageNetInterestRate, \r\n        averageTenure, \r\n        netEarningsPercent,\r\n        netPayoutPercent, \r\n        completedProjectsPercent, \r\n        numOngoingProjects,\r\n        averageProjectInterestPercent, \r\n        averageProjectTenurePercent) {\r\n        \r\n        this.properties = {\r\n            \"fromDate\": fromDate,\r\n\t\t\t\"toDate\": toDate,\r\n\t\t\t\"repaymentMethod\": repaymentMethod,\r\n\t\t\t\"issuer\": issuer,\r\n\t\t\t\"amountInvested\": amountInvested,\r\n\t\t\t\"completedNetEarnings\": completedNetEarnings,\r\n\t\t\t\"netEarnings\": netEarnings,\r\n\t\t\t\"projectedNetAmount\": projectedNetAmount,\r\n\t\t\t\"completedNetPayoutAmount\": completedNetPayoutAmount,\r\n\t\t\t\"completedProjects\": completedProjects,\r\n\t\t\t\"gainPercent\": gainPercent,\r\n\t\t\t\"averageGrossInterestRate\": averageGrossInterestRate,\r\n\t\t\t\"averageNetInterestRate\": averageNetInterestRate,\r\n\t\t\t\"averageTenure\": averageTenure,\r\n\t\t\t\"netEarningsPercent\": netEarningsPercent,\r\n\t\t\t\"netPayoutPercent\": netPayoutPercent,\r\n\t\t\t\"completedProjectsPercent\": completedProjectsPercent,\r\n\t\t\t\"numOngoingProjects\": numOngoingProjects,\r\n\t\t\t\"averageProjectInterestPercent\": averageProjectInterestPercent,\r\n            \"averageProjectTenurePercent\": averageProjectTenurePercent\r\n        }\r\n    }\r\n\r\n    // Return the properties as a JSON\r\n    toJson() {\r\n        return {\r\n            \"fromDate\": this.properties[\"fromDate\"],\r\n\t\t\t\"toDate\": this.properties[\"toDate\"],\r\n\t\t\t\"repaymentMethod\": this.properties[\"repaymentMethod\"],\r\n\t\t\t\"issuer\": this.properties[\"issuer\"],\r\n\t\t\t\"amountInvested\": this.properties[\"amountInvested\"],\r\n\t\t\t\"completedNetEarnings\": this.properties[\"completedNetEarnings\"],\r\n\t\t\t\"netEarnings\": this.properties[\"netEarnings\"],\r\n\t\t\t\"projectedNetAmount\": this.properties[\"projectedNetAmount\"],\r\n\t\t\t\"completedNetPayoutAmount\": this.properties[\"completedNetPayoutAmount\"],\r\n\t\t\t\"completedProjects\": this.properties[\"completedProjects\"],\r\n\t\t\t\"gainPercent\": this.properties[\"gainPercent\"],\r\n\t\t\t\"averageGrossInterestRate\": this.properties[\"averageGrossInterestRate\"],\r\n\t\t\t\"averageNetInterestRate\": this.properties[\"averageNetInterestRate\"],\r\n\t\t\t\"averageTenure\": this.properties[\"averageTenure\"],\r\n\t\t\t\"netEarningsPercent\": this.properties[\"netEarningsPercent\"],\r\n\t\t\t\"netPayoutPercent\": this.properties[\"netPayoutPercent\"],\r\n\t\t\t\"completedProjectsPercent\": this.properties[\"completedProjectsPercent\"],\r\n\t\t\t\"numOngoingProjects\": this.properties[\"numOngoingProjects\"],\r\n\t\t\t\"averageProjectInterestPercent\": this.properties[\"averageProjectInterestPercent\"],\r\n            \"averageProjectTenurePercent\": this.properties[\"averageProjectTenurePercent\"]\r\n        }\r\n    }\r\n\r\n    // Convert the json as a pin object\r\n    static jsonToObject(json) {\r\n        var pin = new Pin(\r\n            json[\"fromDate\"],\r\n\t\t\tjson[\"toDate\"],\r\n\t\t\tjson[\"repaymentMethod\"],\r\n\t\t\tjson[\"issuer\"],\r\n\t\t\tjson[\"amountInvested\"],\r\n\t\t\tjson[\"completedNetEarnings\"],\r\n\t\t\tjson[\"netEarnings\"],\r\n\t\t\tjson[\"projectedNetAmount\"],\r\n\t\t\tjson[\"completedNetPayoutAmount\"],\r\n\t\t\tjson[\"completedProjects\"],\r\n\t\t\tjson[\"gainPercent\"],\r\n\t\t\tjson[\"averageGrossInterestRate\"],\r\n\t\t\tjson[\"averageNetInterestRate\"],\r\n\t\t\tjson[\"averageTenure\"],\r\n\t\t\tjson[\"netEarningsPercent\"],\r\n\t\t\tjson[\"netPayoutPercent\"],\r\n\t\t\tjson[\"completedProjectsPercent\"],\r\n\t\t\tjson[\"numOngoingProjects\"],\r\n\t\t\tjson[\"averageProjectInterestPercent\"],\r\n            json[\"averageProjectTenurePercent\"]\r\n        );\r\n\r\n        return pin;\r\n    }\r\n}\r\n\r\nexport default Pin;\r\n","import Investment from \"./Investment\";\r\nimport Pin from \"./Pin\";\r\n\r\n// Our database just uses the local storage\r\nclass Database\r\n{\r\n    // Initialize the data\r\n    constructor() {\r\n        if(!(\"investments\" in localStorage)) {\r\n            localStorage.setItem(\"investments\", JSON.stringify({}));\r\n            console.log(\"New investments storage created.\");\r\n        }\r\n\r\n        if(!(\"pins\" in localStorage)) {\r\n            localStorage.setItem(\"pins\", JSON.stringify([]));\r\n            console.log(\"New pins storage created.\");\r\n        }\r\n\r\n        // Parse back the investments as an investment object\r\n        var investmentsJson = JSON.parse(localStorage.getItem(\"investments\"));\r\n\r\n        this.investments = {};\r\n\r\n        for(var i = 0; i < investmentsJson.length; i++) {\r\n            var investment = Investment.jsonToObject(investmentsJson[i])\r\n            this.investments[investment.properties[\"projectId\"]] = investment;\r\n        }\r\n\r\n        // Parse the pins back as an object\r\n        var pinsJson = JSON.parse(localStorage.getItem(\"pins\"));\r\n        this.pins = [];\r\n\r\n        for(var j = 0; j < pinsJson.length; j++) {\r\n            var pin = Pin.jsonToObject(pinsJson[j]);\r\n            this.pins.push(pin);\r\n        }\r\n    }\r\n\r\n    // Export it as json\r\n    exportAsJson(version) {\r\n        var investmentsJson = [];\r\n\r\n        // Serialize everything as a json object\r\n        for(var projectId in this.investments)\r\n            investmentsJson.push(this.investments[projectId].toJson());\r\n\r\n        // Write to the storage\r\n        localStorage.setItem(\"investments\", JSON.stringify(investmentsJson));\r\n\r\n        var pinsJson = [];\r\n\r\n        for(var i = 0; i < this.pins.length; i++)\r\n            pinsJson.push(this.pins[i].toJson());\r\n        \r\n        return { \r\n            \"version\": version,\r\n            \"investments\": investmentsJson,\r\n            \"pins\": pinsJson\r\n        };\r\n    }\r\n\r\n    // Convert the JSON to investment objects\r\n    importJson(appVersion, toImportJson) {        \r\n        if(!(\"version\" in toImportJson))\r\n            // Attempt to migrate from 1.0\r\n            return this.importJsonVersion_1_0_0(toImportJson);\r\n\r\n        // For those that has a version, we can start impoort as it is\r\n        if(toImportJson[\"version\"].startsWith(\"1.2.\"))\r\n            return this.importJsonVersion_1_2(toImportJson);\r\n\r\n        return false;\r\n    }\r\n\r\n    // Try to import from version 1.2\r\n    importJsonVersion_1_2(toImportJson) {\r\n        if(!(\"investments\" in toImportJson) || !(\"pins\" in toImportJson))\r\n            return false;\r\n\r\n        // Look for the investments key, put it as investment objects\r\n        var tempInvestments = {};\r\n        var investmentsJson = toImportJson[\"investments\"];\r\n\r\n        for(var i = 0; i < investmentsJson.length; i++) {\r\n            try {\r\n                var investment = Investment.jsonToObject(investmentsJson[i]);\r\n                tempInvestments[investment.properties[\"projectId\"]] = investment;\r\n            } catch(err) {\r\n                console.log(err);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.investments = tempInvestments;\r\n\r\n        // Look for the pins key, they will remain as json object\r\n        var tempPins = [];\r\n        var pinsJson = toImportJson[\"pins\"];\r\n\r\n        for(var j = 0; j < pinsJson.length; j++) {\r\n            try {\r\n                var pin = Pin.jsonToObject(pinsJson[j]);\r\n                tempPins.push(pin);\r\n            } catch(err) {\r\n                console.log(err);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.pins = tempPins;\r\n\r\n        this.persist();\r\n        return true;\r\n    }\r\n\r\n    // Try to import from version 1.0.0\r\n    importJsonVersion_1_0_0(toImportJson) {\r\n        var tempInvestments = {};\r\n\r\n        for(var i = 0; i < toImportJson.length; i++) {\r\n            try {\r\n                var investment = Investment.jsonToObject(toImportJson[i]);\r\n                tempInvestments[investment.properties[\"projectId\"]] = investment;\r\n            } catch(err) {\r\n                console.log(err);\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // If all goes fine we're done\r\n        this.investments = tempInvestments;\r\n        this.persist();\r\n        return true;\r\n    }\r\n\r\n    // Find the investment that holds the given ID, return null if none\r\n    findInvestment(projectId) {\r\n        if(!(projectId in this.investments))\r\n            return null;\r\n\r\n        return this.investments[projectId];\r\n    }\r\n\r\n    // Delete an investment\r\n    deleteInvestment(projectId) {\r\n        delete this.investments[projectId];\r\n        this.persist();\r\n    }\r\n\r\n    // Add a new investment, assumes that the investment has been well validated\r\n    addInvestment(investment) {\r\n        this.investments[investment.properties[\"projectId\"]] = investment;        \r\n        this.persist();\r\n    }\r\n\r\n    // Return the investments as a list\r\n    getInvestments() {\r\n        var investmentsList = [];\r\n\r\n        for(var projectId in this.investments)\r\n            investmentsList.push(this.investments[projectId]);\r\n\r\n        return investmentsList;\r\n    }\r\n\r\n    // Add a new pin\r\n    addPin(pin) {\r\n        this.pins.push(pin);\r\n        this.persist();\r\n    }\r\n\r\n    // Delete a pin\r\n    deletePin(index) {\r\n        this.pins.splice(index, 1);\r\n        this.persist();\r\n    }\r\n\r\n    // Return the pins as a copy of the list\r\n    getPins() {\r\n        return this.pins.slice();\r\n    }\r\n\r\n    // Write the investments to the local storage\r\n    persist() {        \r\n        var investmentsJson = [];\r\n\r\n        // Serialize everything as a json object\r\n        for(var projectId in this.investments)\r\n            investmentsJson.push(this.investments[projectId].toJson());\r\n\r\n        // Write to the storage\r\n        localStorage.setItem(\"investments\", JSON.stringify(investmentsJson));\r\n\r\n        var pinsJson = [];\r\n\r\n        for(var i = 0; i < this.pins.length; i++)\r\n            pinsJson.push(this.pins[i].toJson());\r\n\r\n        localStorage.setItem(\"pins\", JSON.stringify(pinsJson));\r\n    }\r\n\r\n    // Delete everything from the database\r\n    clear() {\r\n        this.investments = {};\r\n        this.pins = [];\r\n        this.persist();\r\n    }\r\n}\r\n\r\nexport default Database;\r\n","import React from \"react\";\r\nimport { Button,  Row, Col, Form, InputGroup, FormControl, Modal, ListGroup } from \"react-bootstrap\";\r\nimport InvestmentDetails from \"./InvestmentDetails\"\r\nimport Investment from \"../Entities/Investment\"\r\nimport MyDate from \"../Entities/MyDate\"\r\nimport Database from \"../Entities/Database\"\r\n\r\n// Form for adding, calculating, deleting or updating an investment\r\nclass InvestmentForm extends React.Component {\r\n\r\n\t// Initialize the investment form\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n        this.database = new Database();\r\n        this.issuers = Investment.getIssuers(this.database.getInvestments());\r\n\r\n        // Initialize the attributes to be accepted by this form\r\n        if(props.formMode === \"add\") {\r\n            this.state = {\r\n                \"projectId\": \"\",\r\n                \"loanee\": \"\",\r\n                \"projectUrl\": \"\",\r\n                \"investedAmount\": \"\",\r\n                \"grossInterestRate\": \"\",\r\n                \"status\": \"Invested\",\r\n                \"tenure\": \"\",\r\n                \"repaymentMethod\": \"Equal\",\r\n                \"date\": \"\",\r\n                \"investment\": null,\r\n                \"chooseIssuer\": false\r\n            };\r\n        } else {\r\n            // In update mode we pre-populate the fields\r\n            this.state = {\r\n                \"projectId\": props.investment.properties[\"projectId\"],\r\n                \"loanee\": props.investment.properties[\"issuer\"],\r\n                \"projectUrl\": props.investment.properties[\"projectUrl\"],\r\n                \"investedAmount\": props.investment.properties[\"investmentAmount\"].toFixed(2),\r\n                \"grossInterestRate\": (props.investment.properties[\"grossInterestRate\"] * 100).toFixed(2),\r\n                \"status\": props.investment.properties[\"status\"],\r\n                \"tenure\": props.investment.properties[\"tenure\"],\r\n                \"repaymentMethod\": props.investment.properties[\"repaymentMethod\"],\r\n                \"date\": props.investment.properties[\"date\"].toString(),\r\n                \"investment\": props.investment,\r\n                \"chooseIssuer\": false\r\n            }\r\n        }\r\n    }\r\n    \r\n    // Called after the form has been loaded, if the state is in, \"update\" mode\r\n    // we will calculate the investment details\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n\r\n        if(this.props.formMode === \"update\")\r\n            this.handleCalculateClick();\r\n    }\r\n\r\n\t// Validate and tranform input into an investment object\r\n\tcreateInvestmentObject() {\r\n\t\t// Validate the project ID\r\n        var validationResult = Investment.validateProjectId(this.state.projectId);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n        }\r\n        \r\n        if(this.props.formMode === \"add\") {\r\n            if(this.database.findInvestment(this.state.projectId) != null) {\r\n                alert(\"Another project has this ID already.\");\r\n                return null;\r\n            }\r\n        }\r\n\t\t\r\n\t\t// Validate the invested amount\r\n        validationResult = Investment.validateInvestedAmount(this.state.investedAmount);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n\t\t}\r\n\t\t\r\n\t\t// Validate the gross interest rate\r\n        validationResult = Investment.validateGrossInterestRate(this.state.grossInterestRate);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n\t\t}\r\n\t\t\r\n        // Validate the date only if it is not on hold\r\n        var date = this.state.date;\r\n\r\n        if(this.state.status === \"Invested\") {\r\n            validationResult = Investment.validateDate(date);\r\n\r\n            if(!validationResult[\"status\"]) {\r\n                alert(validationResult[\"message\"]);\r\n                return null;\r\n            }\r\n        } else if(this.state.status === \"On Hold\") {\r\n            date = MyDate.now().toString()\r\n            this.setState({ \"date\": date });\r\n\t\t}\r\n\t\t\r\n\t\t// Repayment method needs no validation...\r\n\r\n\t\t// Validate tenure\r\n        validationResult = Investment.validateTenure(this.state.tenure);\r\n\r\n        if(!validationResult[\"status\"]) {\r\n            alert(validationResult[\"message\"]);\r\n            return null;\r\n\t\t}\r\n\t\t\r\n\t\t// Calculate the net interest rate\r\n        var investment = new Investment(\r\n\t\t\tthis.state.projectId, \r\n            parseFloat(this.state.investedAmount), \r\n            parseFloat(this.state.grossInterestRate) / 100.0,  \r\n            MyDate.toMyDate(date), \r\n            this.state.repaymentMethod,\r\n            parseInt(this.state.tenure),\r\n            this.state.status);\r\n\r\n        investment.properties[\"projectUrl\"] = this.state.projectUrl;\r\n\t\tinvestment.properties[\"issuer\"] = this.state.loanee.toUpperCase();\r\n\t\t\r\n        return investment;\r\n\t}\r\n\r\n\t// Validate and add a new investment\r\n\thandleAddClick() {\r\n\t\tvar investment = this.createInvestmentObject();\r\n\r\n\t\tif(investment == null)\r\n            return;\r\n            \r\n        // Do add\r\n        this.database.addInvestment(investment);\r\n        \r\n        // After successful validation and add , we go back to the list of investments\r\n        alert(\"Investment created.\");\r\n\r\n\t\tthis.props.backClick();\r\n    }\r\n    \r\n    // Validate and update an existing invetment\r\n    handleUpdateClick() {\r\n        var investment = this.createInvestmentObject();\r\n\r\n        if(investment == null)\r\n            return;\r\n\r\n        // Do update\r\n        this.database.addInvestment(investment);\r\n        alert(\"Investment updated.\");\r\n    }\r\n\r\n    // Delete an existing investment\r\n    handleDeleteClick() {\r\n        if(!window.confirm(\"Are you sure you want to delete this investment?\"))\r\n            return;\r\n        \r\n        this.database.deleteInvestment(this.state.investment.properties[\"projectId\"]);\r\n        this.props.backClick();\r\n    }\r\n\r\n\t// Calculate the net interest rates and the repayment schedules\r\n\thandleCalculateClick() {\r\n\t\tvar investment = this.createInvestmentObject();\r\n\r\n\t\tif(investment == null)\r\n\t\t\treturn;\r\n\r\n\t\tthis.setState({\"investment\": investment});\r\n    }\r\n\r\n    // Show the modal for issuers\r\n    handleShowIssuerClick() {\r\n        if(this.issuers.length <= 0) {\r\n            alert(\"There are no available issuers. Manually enter the issuer name and we'll remember it for you.\");\r\n            return;\r\n        }\r\n\r\n        this.setState({\"chooseIssuer\": true });\r\n    }\r\n\r\n    // Open the link URL web page\r\n    handleOpenProjectUrlClick() {\r\n        if(this.state.projectUrl === \"\")\r\n            return;\r\n\r\n        var url = this.state.projectUrl;\r\n\r\n        if(!url.toLowerCase().startsWith(\"https://\") && !url.toLowerCase().startsWith(\"http://\"))\r\n            url = \"http://\" + url;\r\n            \r\n        var a = document.createElement(\"a\");\r\n        a.target = \"_blank\";\r\n        a.rel = \"noopener noreferrer\";\r\n        a.href = url;\r\n        a.click();\r\n\r\n        this.setState({\"projectUrl\": url});\r\n    }\r\n    \r\n\t// Render the investment form depending on the mode assigned\r\n\trender() {\r\n\t\tlet controls;\r\n\t\tlet formTitle;\r\n\t\tlet projectIdInputControl;\r\n\r\n\t\tif(this.props.formMode === \"add\") {\r\n\t\t\t// Controls when adding a new investment\r\n\t\t\tcontrols = \r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"dark\" onClick={ this.props.backClick }>Back</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"info\" onClick={(e) => { this.handleCalculateClick() }}>Calculate</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => { this.handleAddClick() }}>Add</Button>\r\n\t\t\t\t</>\r\n\t\t\t\r\n\t\t\tformTitle = \"Add Investment\";\r\n\r\n\t\t\tprojectIdInputControl = \r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label>Project ID</Form.Label>\r\n\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Unique ID given by SeedIn\" \r\n\t\t\t\t\t\tvalue={this.state.projectId} onChange={(e) => { this.setState({\"projectId\": e.target.value}) }} />\r\n\t\t\t\t</Form.Group>\r\n\t\t} else if(this.props.formMode === \"update\") {\r\n\t\t\t// Constrols when updating a form the project ID is unique\r\n\t\t\tcontrols =\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Button variant=\"dark\" onClick={ this.props.backClick }>Back</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"danger\" onClick={(e) => { this.handleDeleteClick() }}>Delete</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"info\" onClick={(e) => { this.handleCalculateClick() }}>Calculate</Button>{\" \"}\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => { this.handleUpdateClick() }}>Update</Button>\r\n\t\t\t\t</>\r\n\t\t\t\r\n\t\t\tformTitle = \"Update Investment\";\r\n\r\n\t\t\tprojectIdInputControl = \r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label>Project ID</Form.Label>\r\n\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Unique ID given by SeedIn\" readOnly\r\n\t\t\t\t\t\tvalue={this.state.projectId} />\r\n\t\t\t\t</Form.Group>\r\n\t\t}\r\n\r\n\t\t// First date of repayment appears only when the status of investment is \"invested\"\r\n\t\tlet firstDateOfPaymentInputControl = <></>\r\n\r\n        if(this.state.status === \"Invested\") {\r\n\t\t\tfirstDateOfPaymentInputControl = \r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label>First Date of Payment Schedule</Form.Label>\r\n\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\"\r\n\t\t\t\t\t\tvalue={this.state.date} onChange={(e) => { this.setState({\"date\": e.target.value}) }} />\r\n\t\t\t\t\t<Form.Text className=\"text-muted\">Please check your SeedIn account for the date.</Form.Text>\r\n\t\t\t\t</Form.Group>\r\n        }\r\n\r\n        // Initialize all issuers to the modal\r\n        let issuersListGroupItems = this.issuers.map((issuer) => {\r\n            return <ListGroup.Item key={issuer} action onClick={(e) => this.setState({ \"loanee\": issuer, \"chooseIssuer\": false })}>{issuer}</ListGroup.Item>\r\n        });\r\n\r\n\t\treturn (\r\n            <Row>\r\n                <Col md=\"6\">\r\n                    <h2>{formTitle}</h2>\r\n                    <Form>\r\n                        {projectIdInputControl}\r\n                        <Form.Group>\r\n                            <Form.Label>Borrower Name (optional but recommended)</Form.Label>\r\n                            <InputGroup className=\"mb-3\">\r\n                                <FormControl placeholder=\"Issuer\" \r\n                                    value={this.state.loanee} onChange={(e) => { this.setState({\"loanee\": e.target.value}) }} />\r\n                                <InputGroup.Append>\r\n                                    <Button variant=\"outline-dark\" onClick={(e) => { this.handleShowIssuerClick() }}>Choose</Button>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </Form.Group>\r\n                        <Modal show={this.state.chooseIssuer} onHide={(e) => { this.setState({\"chooseIssuer\": false }) }}>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Choose Issuer</Modal.Title>                                \r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <ListGroup>\r\n                                    { issuersListGroupItems }\r\n                                </ListGroup>\r\n                            </Modal.Body>\r\n                        </Modal>\r\n                        <Form.Group>\r\n                            <Form.Label>Project URL (optional)</Form.Label>\r\n                            <InputGroup className=\"mb-3\">\r\n                                <Form.Control type=\"text\" placeholder=\"Go to SeedIn, open the project, copy URL and paste it here.\" \r\n                                    value={this.state.projectUrl} onChange={(e) => { this.setState({\"projectUrl\": e.target.value}) }} />\r\n                                <InputGroup.Append>\r\n                                    <Button variant=\"outline-dark\" onClick={(e) => { this.handleOpenProjectUrlClick() }}>View</Button>\r\n                                </InputGroup.Append>                                \r\n                            </InputGroup>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Invested Amount</Form.Label>\r\n                            <Form.Control type=\"number\" step=\"any\" placeholder=\"â‚±\"\r\n                                value={this.state.investedAmount} onChange={(e) => { this.setState({\"investedAmount\": e.target.value}) }} />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Gross Interest Rate per annum</Form.Label>\r\n                            <Form.Control type=\"number\" step=\"any\" placeholder=\"1% to 20%\"\r\n                                value={this.state.grossInterestRate} onChange={(e) => { this.setState({\"grossInterestRate\": e.target.value}) }} />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Status</Form.Label>\r\n                            <Form.Control as=\"select\" custom\r\n                                value={this.state.status} onChange={(e) => { this.setState({\"status\": e.target.value}) }}>\r\n                                <option>Invested</option>\r\n                                <option>On Hold</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        { firstDateOfPaymentInputControl }\r\n                        <Form.Group>\r\n                            <Form.Label>Repayment Method</Form.Label>\r\n                            <Form.Control as=\"select\" custom\r\n                                value={this.state.repaymentMethod} onChange={(e) => { this.setState({\"repaymentMethod\": e.target.value}) }}>\r\n                                <option>Equal</option>\r\n                                <option>Balloon</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Tenure</Form.Label>\r\n                            <Form.Control type=\"number\" placeholder=\"1 to 12 months\" \r\n                                value={this.state.tenure} onChange={(e) => { this.setState({\"tenure\": e.target.value}) }}/>\r\n                        </Form.Group>\r\n                    </Form>\r\n                    <p style={{textAlign: \"right\"}}>\r\n                        {controls}\r\n                    </p>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                    <InvestmentDetails investment={this.state.investment} />\r\n                </Col>\r\n            </Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentForm;\r\n","import React from \"react\";\r\nimport { Button, Table, Row, Col, Form } from \"react-bootstrap\";\r\nimport Database from \"../Entities/Database\";\r\nimport Investment from \"../Entities/Investment\";\r\nimport MyDate from \"../Entities/MyDate\";\r\nimport NumberUtils from \"../Entities/NumberUtils\";\r\n\r\n// Displays the list of investments and the filtering features\r\nclass InvestmentsTable extends React.Component {\r\n\r\n\t// Initialize the investments list\r\n\tconstructor(props) {\r\n        super(props);\r\n\r\n        // Prepopulate the initial filtering and sorting\r\n        this.investments = new Database().getInvestments();\r\n        this.issuers = Investment.getIssuers(this.investments);\r\n        var dates = Investment.getEarliestAndLatestInvestmentDates(this.investments);\r\n\r\n        // Set the filtering attributes\r\n        if(\"investmentsTable.state\" in localStorage) {\r\n            this.state = JSON.parse(window.localStorage.getItem(\"investmentsTable.state\"));\r\n\r\n            if(dates != null) {\r\n                this.state.fromDate = dates[\"earliest\"].toString();\r\n                this.state.toDate = dates[\"latest\"].toString();\r\n            }\r\n        } else {\r\n            this.state = {\r\n                \"fromDate\": dates !== null ? dates[\"earliest\"].toString() : \"\",\r\n                \"toDate\": dates !== null ? dates[\"latest\"].toString() : \"\",\r\n                \"sortedBy\": \"Project ID\",\r\n                \"sortOrder\": \"Ascending\",\r\n                \"repaymentMethod\": \"All\",\r\n                \"issuer\": \"All\"\r\n            }\r\n        };\r\n\r\n        // Used for restoring scroll\r\n        this.listRef = React.createRef();\r\n    }\r\n\r\n    // Restore the scroll\r\n    componentDidMount() {\r\n        if(\"investmentsTable.scrollY\" in localStorage) {\r\n            window.scrollTo(0, localStorage.getItem(\"investmentsTable.scrollY\"));\r\n        }\r\n    }\r\n\r\n\t// Through the investments list is the only way to trigger an add investment and update investment\r\n\t// however the handling of the changing of component is on the InvestmentsContainer\r\n\trender() {\r\n        // Load the issuers into the drop down\r\n        let issuerOptions = this.issuers.map((issuer) => {\r\n            return <option key={issuer}>{ issuer }</option>\r\n        });\r\n\r\n        let investmentsTableRows = <tr>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n            <td>...</td>\r\n        </tr>;\r\n\r\n        if(this.investments.length > 0) {\r\n            // Filter by date\r\n            var earliestDate = MyDate.toMyDate(this.state.fromDate);\r\n            var latestDate = MyDate.toMyDate(this.state.toDate);            \r\n            var filteredInvestments = Investment.filterInvestmentsByDate(this.investments, earliestDate, latestDate);\r\n\r\n            // Filter by repayment method\r\n            filteredInvestments = Investment.filterInvestmentsByRepaymentMethod(filteredInvestments, this.state.repaymentMethod);\r\n\r\n            // Filter by issuer\r\n            filteredInvestments = Investment.filterInvestmentsByIssuer(filteredInvestments, this.state.issuer);\r\n\r\n            // Do sorting\r\n            var sortedBy = this.state.sortedBy;\r\n            \r\n            filteredInvestments.sort((investmentA, investmentB) => {\r\n                if(sortedBy === \"Project ID\")\r\n                return investmentA.properties[\"propertyId\"] - investmentB.properties[\"propertyId\"];\r\n                \r\n                if(sortedBy === \"Investment Amount\")\r\n                    return investmentA.properties[\"investmentAmount\"] - investmentB.properties[\"investmentAmount\"];\r\n                \r\n                if(sortedBy === \"Interest Rate\")\r\n                    return investmentA.properties[\"grossInterestRate\"] - investmentB.properties[\"grossInterestRate\"];\r\n            \r\n                if(sortedBy === \"Next Pay Date\") {\r\n                    var dateA = investmentA.calculateNextPayDate(); \r\n                    var dateB = investmentB.calculateNextPayDate();\r\n\r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return 0;\r\n                    \r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"Invested\")\r\n                        return 1;\r\n\r\n                    if(investmentA.properties[\"status\"] === \"Invested\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return -1;\r\n\r\n                    if(dateA === null && dateB === null)\r\n                        return 0;\r\n                    \r\n                    if(dateA === null)\r\n                        return 1;\r\n                    \r\n                    if(dateB === null)\r\n                        return -1;\r\n                        \r\n                    return dateA.compareTo(dateB);\r\n                }\r\n\r\n                if(sortedBy === \"Maturity Date\") {\r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return 0;\r\n                    \r\n                    if(investmentA.properties[\"status\"] === \"On Hold\" && investmentB.properties[\"status\"] === \"Invested\")\r\n                        return 1;\r\n\r\n                    if(investmentA.properties[\"status\"] === \"Invested\" && investmentB.properties[\"status\"] === \"On Hold\")\r\n                        return -1;\r\n\r\n                    return investmentA.calculateMaturityDate().compareTo(investmentB.calculateMaturityDate());\r\n                }\r\n\r\n                return 0;\r\n            });\r\n\r\n            // Reverse if descending\r\n            if(this.state.sortOrder === \"Descending\")\r\n                filteredInvestments.reverse();\r\n            \r\n            // Put it as an output\r\n            investmentsTableRows = filteredInvestments.map((investment) => {\r\n                var payDateDetails = investment.calculateNextPayAndMaturityDate();\r\n\r\n                // When a row is clicked, we save the scroll so we can store later on\r\n                return <tr key={investment.properties[\"projectId\"]} onClick={(e) => { \r\n                            localStorage.setItem(\"investmentsTable.scrollY\", window.scrollY);\r\n                            this.props.openInvestmentClick(investment) \r\n                        }}>\r\n                    <td><strong>{ investment.properties[\"projectId\"] }</strong></td>\r\n                    <td>{ NumberUtils.formatCurrency(investment.properties[\"investmentAmount\"]) }</td>\r\n                    <td>\r\n                        { (investment.properties[\"grossInterestRate\"] * 100).toFixed(2) }% p.a. {' '}\r\n                        { investment.properties[\"repaymentMethod\"] }\r\n                    </td>\r\n                    <td>{ NumberUtils.formatCurrency(investment.properties[\"investmentAmount\"] + investment.calculateNetGainAmount()) }</td>\r\n                    <td>{ payDateDetails[\"nextPayDate\"].toString() }</td>\r\n                    <td>{ NumberUtils.formatCurrency(payDateDetails[\"nextPayAmount\"]) }</td>\r\n                    <td>{ payDateDetails[\"maturityDate\"].toString() }</td>\r\n                </tr>\r\n            });\r\n        }\r\n\r\n        // Save the filters\r\n        window.localStorage.setItem(\"investmentsTable.state\", JSON.stringify(this.state));\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={this.listRef}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<h2>Investments</h2>\r\n\t\t\t\t\t\t<p><Button variant=\"primary\" onClick={ this.props.addInvestmentClick }>Add Investment</Button></p>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">From Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.fromDate} onChange={(e) => { this.setState({\"fromDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">To Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.toDate} onChange={(e) => { this.setState({\"toDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Sorted By</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.sortedBy} onChange={(e) => { this.setState({\"sortedBy\": e.target.value }) }}>\r\n\t\t\t\t\t\t\t\t<option>Project ID</option>\r\n\t\t\t\t\t\t\t\t<option>Investment Amount</option>\r\n\t\t\t\t\t\t\t\t<option>Interest Rate</option>\r\n\t\t\t\t\t\t\t\t<option>Next Pay Date</option>\r\n\t\t\t\t\t\t\t\t<option>Maturity Date</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Sort Order</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.sortOrder} onChange={(e) => { this.setState({\"sortOrder\": e.target.value }) }}>\r\n\t\t\t\t\t\t\t\t<option>Ascending</option>\r\n\t\t\t\t\t\t\t\t<option>Descending</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Repayment Method</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.repaymentMethod} onChange={(e) => { this.setState({\"repaymentMethod\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n\t\t\t\t\t\t\t\t<option>Balloon</option>\r\n\t\t\t\t\t\t\t\t<option>Equal</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Issuer</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.issuer} onChange={(e) => { this.setState({\"issuer\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n                                { issuerOptions }\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n                    <Col md=\"12\">\r\n                        <Table id=\"investmentsTable\" responsive striped bordered hover variant=\"dark\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th className=\"align-middle\">Project ID</th>\r\n                                    <th className=\"align-middle\">Investment Amount</th>\r\n                                    <th className=\"align-middle\">Gross %</th>\r\n                                    <th className=\"align-middle\">Net Payout</th>\r\n                                    <th className=\"align-middle\">Next Pay Date</th>\r\n                                    <th className=\"align-middle\">Next Pay Amount</th>\r\n                                    <th className=\"align-middle\">Maturity Date</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>{ investmentsTableRows }</tbody>\r\n                        </Table>\r\n                    </Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentsTable;\r\n","import React from \"react\";\r\nimport InvestmentForm from \"./InvestmentForm\";\r\nimport InvestmentsTable from \"./InvestmentsTable\";\r\n\r\n// This holds components for listing investments, adding, viewing, and updating\r\nclass InvestmentsContainer extends React.Component {\r\n\r\n\t// Initialize the investments container\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// Initialize component to show is the investment lists\r\n\t\tthis.state = { \r\n\t\t\tactiveComponentName: \"InvestmentsTable\",\r\n\t\t\tinvestment: null\r\n\t\t};\r\n\r\n\t\t// This function needs binding to this container because when an investment is selected\r\n\t\t// we need to make it executable to sub components\r\n\t\tthis.handleOpenInvestmentClick = this.handleOpenInvestmentClick.bind(this);\r\n\t}\r\n\r\n\t// Make the active component the add investments\r\n\thandleAddInvestmentClick() {\r\n\t\tlocalStorage.setItem(\"investmentsTable.scrollY\", 0);\r\n\t\tthis.setState({ activeComponentName: \"AddInvestmentForm\", investment: null });\r\n\t}\r\n\r\n\t// Make the active component the update/view invsetment\r\n\thandleOpenInvestmentClick(clickedInvestment) {\r\n\t\tthis.setState({ activeComponentName: \"OpenInvestmentForm\", investment: clickedInvestment });\r\n\t}\r\n\r\n\t// Back to the investments list component\r\n\thandleBackClick() {\r\n\t\tthis.setState({ activeComponentName: \"InvestmentsTable\" });\r\n\t}\r\n\r\n\t// Render the appropraite container\r\n\trender() {\r\n\t\t// Component names and mapping component\r\n\t\tconst componentNames = [\"InvestmentsTable\", \"AddInvestmentForm\", \"OpenInvestmentForm\"];\r\n\t\tconst components = [ \r\n\t\t\t<InvestmentsTable addInvestmentClick={(e) => { this.handleAddInvestmentClick() }} openInvestmentClick={ this.handleOpenInvestmentClick } />, \r\n\t\t\t<InvestmentForm formMode=\"add\" backClick={(e) => { this.handleBackClick() }} />,\r\n\t\t\t<InvestmentForm formMode=\"update\" backClick={(e) => { this.handleBackClick() }} investment={this.state.investment} />];\r\n\r\n\t\t// Show the chosen component\r\n\t\tlet activeComponent = components[componentNames.indexOf(this.state.activeComponentName)];\t\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{activeComponent}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default InvestmentsContainer;\r\n","import React from \"react\";\r\nimport { Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport Database from \"../Entities/Database\";\r\nimport MyDate from \"../Entities/MyDate\";\r\n\r\n// Container for import and export of data\r\nclass MyDataContainer extends React.Component {\r\n\r\n\t// Initialize stuff\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.database = new Database();\r\n\t}\r\n\r\n\t// Export data and download it\r\n\thandleExportClick() {\t\t\r\n\t\tvar version = this.props.appVersion.major + \".\" + this.props.appVersion.minor + \".\" + this.props.appVersion.patch;\r\n\r\n\t\tvar downloadLink = document.createElement(\"a\");\r\n\t\tdownloadLink.download = \"seedin\" + version + \" \" + MyDate.now().toString() + \".data\";\r\n\t\tdownloadLink.href=\"data:text/plain;charset=utf-8,\" + encodeURIComponent(JSON.stringify(this.database.exportAsJson(version)));\r\n\t\tdownloadLink.click();\r\n\t}\r\n\r\n\t// Import from a json file\r\n\thandleImportClick(file) {\r\n\t\tif(!window.confirm(\"This will delete your current data, are you sure you want to continue?\"))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tvar fileReader = new FileReader();\r\n\t\tvar database = this.database;\r\n\t\tvar appVersion = this.props.appVersion.major + \".\" + this.props.appVersion.minor + \".\" + this.props.appVersion.patch;\r\n\r\n\t\tfileReader.onload = () => {\r\n\t\t\ttry {\r\n\t\t\t\tif(database.importJson(appVersion, JSON.parse(fileReader.result)))\r\n\t\t\t\t\twindow.alert(\"Import successful.\");\r\n\t\t\t\telse\r\n\t\t\t\t\twindow.alert(\"Import failed.\");\r\n\t\t\t} catch(err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\twindow.alert(\"Invalid file.\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfileReader.readAsText(file)\r\n\t}\r\n\r\n\t// Delete all stored data\r\n\thandleResetClick() {\r\n\t\tif(!window.confirm(\"Are you sure you want to clear your data?\"))\r\n\t\t\treturn;\r\n\r\n\t\tthis.database.clear();\r\n\t\tlocalStorage.clear();\r\n\t\twindow.alert(\"Clear successful.\");\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t<h2>My Data</h2>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tYour data is locally saved on this web browser you are currently using. \r\n\t\t\t\t\t\tYou can continue working on it anytime. \r\n\t\t\t\t\t\tYou can export and download your data as a file if you wish to work \r\n\t\t\t\t\t\ton your data from another device or web browser.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<h2>Export</h2>\r\n\t\t\t\t\t<p><Button variant=\"primary\" onClick={(e) => { this.handleExportClick() }}>Download My Data</Button></p>\r\n\t\t\t\t\t<h2>Import</h2>\r\n\t\t\t\t\t<p>Restore your data from an exported file. This replaces any data that is currently saved.</p>\r\n\t\t\t\t\t<Form.File label=\"Browse or drag file to this box\" custom\r\n\t\t\t\t\t\tonChange={(e) => { this.handleImportClick(e.target.files[0]) }} />\r\n\t\t\t\t\t<br /><br />\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t<h2>Reset</h2>\r\n\t\t\t\t\t<p>Delete all your saved data from this web browser.</p>\r\n\t\t\t\t\t<p><Button variant=\"danger\" onClick={(e) => { this.handleResetClick() }}>Clear My Data</Button></p>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MyDataContainer;\r\n","import React from \"react\";\r\nimport { Card, Form, FormControl, ProgressBar, Button } from \"react-bootstrap\";\r\nimport NumberUtils from \"../Entities/NumberUtils\";\r\n\r\n// A dashboard pin is a pinned report\r\nclass DashboardPin extends React.Component {\r\n\r\n    // The values for the dashboard pin will be taken from the props\r\n    render() {\r\n        var pin = this.props.pin;\r\n                        \r\n        return (\r\n            <Card bg=\"dark\" text=\"white\" style={{ marginBottom: \"2rem\" }}>\r\n            <Card.Header><strong>{pin.properties[\"fromDate\"]} to {pin.properties[\"toDate\"]}</strong></Card.Header>\r\n            <Card.Body>\r\n                <Form.Group>\r\n                    <Form.Label>Repayment Method</Form.Label>\r\n                    <FormControl size=\"sm\" readOnly value={pin.properties[\"repaymentMethod\"]} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Issuer</Form.Label>\r\n                    <FormControl size=\"sm\" readOnly value={pin.properties[\"issuer\"]} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Amount Invested / Projected Net ({ pin.properties[\"gainPercent\"] }%)</Form.Label>\r\n                    <ProgressBar className=\"progress\" now={ pin.properties[\"gainPercent\"] } max=\"20\" />\r\n                    <FormControl size=\"sm\" readOnly value= { NumberUtils.formatCurrency(pin.properties[\"amountInvested\"]) + \" / \" + NumberUtils.formatCurrency(pin.properties[\"projectedNetAmount\"]) } />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Net Payout</Form.Label>\r\n                    <ProgressBar className=\"progress\" now={ pin.properties[\"netPayoutPercent\"] } />\r\n                    <FormControl size=\"sm\" readOnly value={ NumberUtils.formatCurrency(pin.properties[\"completedNetPayoutAmount\"]) + \" out of \" + NumberUtils.formatCurrency(pin.properties[\"projectedNetAmount\"]) } />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Average Project Gross / Net Interest Rate per annum</Form.Label>\r\n                    <ProgressBar className=\"progress\" now={ pin.properties[\"averageProjectInterestPercent\"] } />\r\n                    <FormControl size=\"sm\" readOnly\r\n                        value={ (pin.properties[\"averageGrossInterestRate\"] * 100).toFixed(2) + \"% / \" + (pin.properties[\"averageNetInterestRate\"] * 100).toFixed(2) + \"%\" } />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Net Earnings</Form.Label>\r\n                    <ProgressBar className=\"progress\" now={ pin.properties[\"netEarningsPercent\"] } />\r\n                    <FormControl size=\"sm\" readOnly value={ NumberUtils.formatCurrency(pin.properties[\"completedNetEarnings\"]) + \" out of \" + NumberUtils.formatCurrency(pin.properties[\"netEarnings\"]) } />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Completed Projects</Form.Label>\r\n                    <ProgressBar className=\"progress\" now={ pin.properties[\"completedProjectsPercent\"] } />\r\n                    <FormControl size=\"sm\" readOnly value={ pin.properties[\"completedProjects\"] + \" out of \" + pin.properties[\"numOngoingProjects\"] } />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Label>Average Project Tenure</Form.Label>\r\n                    <ProgressBar className=\"progress\" now={ pin.properties[\"averageProjectTenurePercent\"] } />\r\n                    <FormControl size=\"sm\" readOnly value={ parseInt(pin.properties[\"averageTenure\"]) + \" month(s)\" } />\r\n                </Form.Group>\r\n            </Card.Body>\r\n            <Card.Footer style={{ textAlign: \"center\" }}>\r\n                <Button onClick={() => { this.props.removePinClick(this.props.pinNumber) }}>Remove</Button>\r\n            </Card.Footer>\r\n        </Card>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DashboardPin;\r\n","import React from \"react\";\r\nimport { Button, ButtonGroup, Modal, Alert, Form, FormControl, Row, Col, InputGroup, ProgressBar } from \"react-bootstrap\";\r\nimport Database from \"../Entities/Database\";\r\nimport Investment from \"../Entities/Investment\";\r\nimport MyDate from \"../Entities/MyDate\";\r\nimport NumberUtils from \"../Entities/NumberUtils\";\r\nimport DashboardPin from \"./DashboardPin\"\r\nimport Pin from \"../Entities/Pin\";\r\n\r\n// The dashboard contains all summary of projects\r\nclass DashboardContainer extends React.Component {\r\n\r\n\t// Initialize the default stats\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.database = new Database();\r\n\t\t\t\t\r\n\t\tthis.investments = this.database.getInvestments();\r\n\t\tthis.issuers = Investment.getIssuers(this.investments);\r\n\r\n\t\t// Initialize the earliest and latest dates\r\n\t\tvar dates = Investment.getEarliestAndLatestInvestmentDates(this.investments);\r\n\r\n\t\tthis.state = {\r\n\t\t\t\"fromDate\": dates !== null ? dates[\"earliest\"].toString() : \"\",\r\n\t\t\t\"toDate\": dates !== null ? dates[\"latest\"].toString() : \"\",\r\n\t\t\t\"repaymentMethod\": \"All\",\r\n\t\t\t\"issuer\": \"All\",\r\n\t\t\t\"showNegativeGainExplanation\": false,\r\n\t\t\t\"showPinReportHelp\": false,\r\n\t\t\t\"pins\": this.database.getPins()\r\n\t\t};\r\n\r\n\t\tthis.handleRemovePinClick = this.handleRemovePinClick.bind(this);\r\n\t}\r\n\r\n\t// Create a new dashboard pin\r\n\thandleCreatePinClick() {\r\n\t\tvar earliestDate = MyDate.toMyDate(this.state.fromDate);\r\n\t\tvar latestDate = MyDate.toMyDate(this.state.toDate);\r\n\r\n\t\tif(earliestDate == null || latestDate == null || earliestDate.compareTo(latestDate) > 0) {\r\n\t\t\twindow.alert(\"Pick a sensible date.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar pin = new Pin(\r\n\t\t\tthis.state.fromDate,\r\n\t\t\tthis.state.toDate,\r\n\t\t\tthis.state.repaymentMethod,\r\n\t\t\tthis.state.issuer,\r\n\t\t\tthis.amountInvested,\r\n\t\t\tthis.completedNetEarnings,\r\n\t\t\tthis.netEarnings,\r\n\t\t\tthis.projectedNetAmount,\r\n\t\t\tthis.completedNetPayoutAmount,\r\n\t\t\tthis.completedProjects,\r\n\t\t\tthis.gainPercent,\r\n\t\t\tthis.averageGrossInterestRate,\r\n\t\t\tthis.averageNetInterestRate,\r\n\t\t\tthis.averageTenure,\r\n\t\t\tthis.netEarningsPercent,\r\n\t\t\tthis.netPayoutPercent,\r\n\t\t\tthis.completedProjectsPercent,\r\n\t\t\tthis.numOnGoingProjects,\r\n\t\t\tthis.averageProjectInterestPercent,\r\n\t\t\tthis.averageProjectTenurePercent\r\n\t\t);\r\n\t\t\r\n\t\tthis.database.addPin(pin);\r\n\t\tthis.setState({\"pins\": this.database.getPins()});\r\n\t}\r\n\r\n\t// Handle the removal of a pin from the dashboard\r\n\thandleRemovePinClick(pinNumber) {\r\n\t\tthis.database.deletePin(pinNumber - 1);\t\t\r\n\t\tthis.setState({\"pins\": this.database.getPins()});\r\n\t}\r\n\r\n\trender() {\r\n\t\t// Load the issuers\r\n\t\tlet issuerOptions = this.issuers.map((issuer) => {\r\n            return <option key={issuer}>{ issuer }</option>\r\n\t\t});\r\n\t\t\r\n\t\tvar earliestDate = MyDate.toMyDate(this.state.fromDate);\r\n\t\tvar latestDate = MyDate.toMyDate(this.state.toDate);\r\n\r\n\t\t// Dashboard numbers\r\n\t\tvar currentDate = MyDate.now();\r\n\t\tvar numMaturedToday = 0;\r\n\r\n\t\tvar numOnHold = 0;\r\n\t\tvar onHoldAmount = 0;\r\n\r\n\t\tvar numPayoutsToday = 0;\r\n\t\tvar totalPayoutsToday = 0;\r\n\r\n\t\tthis.amountInvested = 0;\r\n\t\tthis.completedNetEarnings = 0;\r\n\t\tthis.netEarnings = 0;\r\n\t\tthis.projectedNetAmount = 0;\r\n\t\tthis.completedNetPayoutAmount = 0;\r\n\t\tthis.completedProjects = 0;\r\n\t\tthis.gainPercent = 0;\r\n\t\tthis.averageGrossInterestRate = 0;\r\n\t\tthis.averageNetInterestRate = 0;\r\n\t\tthis.averageTenure = 0;\r\n\t\tthis.numOnGoingProjects = 0;\r\n\r\n\t\tthis.averageProjectInterestPercent = 0;\r\n\t\tthis.averageProjectTenurePercent = 0;\r\n\r\n\t\t// Progress bars\r\n        this.netEarningsPercent = 0;\r\n        this.netPayoutPercent = 0;\r\n\t\tthis.completedProjectsPercent = 0;\r\n\r\n\t\tvar filteredInvestments = [];\r\n\r\n\t\t// Proceed only with the calculation on validate dates\r\n\t\tif(earliestDate != null && latestDate != null && earliestDate.compareTo(latestDate) <= 0) {\r\n\t\t\tfilteredInvestments = Investment.filterInvestmentsByDate(this.investments, earliestDate, latestDate);\r\n\t\t\tfilteredInvestments = Investment.filterInvestmentsByRepaymentMethod(filteredInvestments, this.state.repaymentMethod);\r\n\t\t\tfilteredInvestments = Investment.filterInvestmentsByIssuer(filteredInvestments, this.state.issuer);\r\n\r\n\t\t\tvar totalGrossInterestRate = 0;\r\n\t\t\tvar totalNetInterestRate = 0;\t\r\n\t\t\tvar totalTenure = 0;\r\n\r\n\t\t\tfor(var i = 0; i < filteredInvestments.length; i++) {\r\n\t\t\t\tvar investment = filteredInvestments[i];\r\n\t\r\n\t\t\t\tif(investment.properties[\"status\"] === \"On Hold\") {\r\n\t\t\t\t\tnumOnHold++;\r\n\t\t\t\t\tonHoldAmount += investment.properties[\"investmentAmount\"];\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotalGrossInterestRate += investment.properties[\"grossInterestRate\"];\r\n\t\t\t\ttotalNetInterestRate += investment.calculateNetInterestRate();\r\n\t\t\t\ttotalTenure += investment.properties[\"tenure\"];\r\n\t\r\n\t\t\t\t// Break down each investment schedule and include only those schedule that is exactly in the\r\n\t\t\t\t// date range, filters out months that\r\n\t\t\t\tvar schedules = investment.generateRepaymentSchedule();\r\n\t\t\t\t\r\n\t\t\t\tif(schedules[schedules.length - 1][\"date\"].compareTo(currentDate) === 0)\r\n\t\t\t\t\tnumMaturedToday++;\r\n\t\r\n\t\t\t\tif(schedules[schedules.length - 1][\"date\"].compareTo(currentDate) <= 0)\r\n\t\t\t\t\tthis.completedProjects++;\r\n\t\t\t\t\r\n\t\t\t\t// If repayment method is balloon, there's no monthly investment.\r\n\t\t\t\t// So we put the whole investment amount.\r\n\t\t\t\tif(investment.properties[\"repaymentMethod\"] === \"Balloon\")\r\n\t\t\t\t\tthis.amountInvested += investment.properties[\"investmentAmount\"];\r\n\t\t\t\t\r\n\t\t\t\tfor(var j = 0; j < schedules.length; j++) {\r\n\t\t\t\t\tvar schedule = schedules[j];\r\n\t\r\n\t\t\t\t\tif(schedule[\"date\"].compareTo(earliestDate) >= 0 && schedule[\"date\"].compareTo(latestDate) <= 0) {\r\n\t\t\t\t\t\tif(schedule[\"date\"].compareTo(currentDate) === 0) {\r\n\t\t\t\t\t\t\tnumPayoutsToday++;\r\n\t\t\t\t\t\t\ttotalPayoutsToday += schedule[\"netPayout\"];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.projectedNetAmount += schedule[\"netPayout\"];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// For equal repayment method, we consider the investment as divided as equal as well.\r\n\t\t\t\t\t\tif(investment.properties[\"repaymentMethod\"] === \"Equal\")\r\n\t\t\t\t\t\t\tthis.amountInvested += schedule[\"netPayout\"] - schedule[\"netInterestPayout\"];\r\n\t\r\n\t\t\t\t\t\tthis.netEarnings += schedule[\"netInterestPayout\"];\r\n\t\r\n\t\t\t\t\t\tif(schedule[\"date\"].compareTo(currentDate) <= 0) {\t\r\n\t\t\t\t\t\t\tthis.completedNetEarnings += schedule[\"netInterestPayout\"];\r\n\t\t\t\t\t\t\tthis.completedNetPayoutAmount += schedule[\"netPayout\"];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// Progress bar calculation\r\n\t\t\tthis.netEarningsPercent = this.completedNetEarnings / this.netEarnings * 100;\r\n\t\t\tthis.netPayoutPercent = this.completedNetPayoutAmount / this.projectedNetAmount * 100;\r\n\t\t\tthis.completedProjectsPercent = this.completedProjects / filteredInvestments.length * 100;\t\t\t\r\n\t\r\n\t\t\tif(isNaN(this.netEarningsPercent))\r\n\t\t\t\tthis.netEarningsPercent = 0;\r\n\r\n\t\t\tif(isNaN(this.netPayoutPercent))\r\n\t\t\t\tthis.netPayoutPercent = 0;\r\n\r\n\t\t\tif(isNaN(this.completedProjectsPercent))\r\n\t\t\t\tthis.completedProjectsPercent = 0;\r\n\t\t\t\r\n\t\t\tthis.gainPercent = (((this.projectedNetAmount - this.amountInvested) / this.amountInvested) * 100).toFixed(2);\r\n\t\r\n\t\t\tif(isNaN(this.gainPercent))\r\n\t\t\t\tthis.gainPercent = 0;\r\n\r\n\t\t\t// Average interest rate calculation\r\n\t\t\tthis.numOnGoingProjects = filteredInvestments.length - numOnHold;\r\n\r\n\t\t\tif(this.numOnGoingProjects > 0) {\r\n\t\t\t\tthis.averageGrossInterestRate = totalGrossInterestRate / this.numOnGoingProjects;\r\n\t\t\t\tthis.averageNetInterestRate = totalNetInterestRate / this.numOnGoingProjects;\r\n\t\t\t\tthis.averageTenure = totalTenure / this.numOnGoingProjects;\r\n\r\n\t\t\t\tthis.averageProjectInterestPercent = this.averageGrossInterestRate / 20 * 100 * 100;\r\n\t\t\t\tthis.averageProjectTenurePercent = this.averageTenure  / 12 * 100;\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set negative gain notification\r\n\t\tlet negativeGainPercentNotification = <></>\r\n\r\n\t\tif(this.gainPercent < 0)\r\n\t\t\tnegativeGainPercentNotification = <Alert className=\"clickable-alert\" variant=\"info\" onClick={(e) => { this.setState({\"showNegativeGainExplanation\": true}) }}>You got a <strong><u>negative gain</u></strong>.</Alert>\r\n\r\n\t\t// Set any matured projects notifications\r\n\t\tlet maturedProjectsNotification = <></>\r\n\r\n\t\tif(numMaturedToday > 0)\r\n\t\t\tmaturedProjectsNotification = <Alert variant=\"success\"><strong>Congratulations!</strong> You have <strong>{ numMaturedToday} project(s)</strong> that reached the maturity date today.</Alert>\r\n\r\n\t\t// Set the number of on hold projects notification\r\n\t\tlet onHoldProjectsNotification = <></>\r\n\r\n\t\tif(numOnHold > 0)\r\n\t\t\tonHoldProjectsNotification = <Alert variant=\"warning\">You have <strong>{ numOnHold } on hold project(s)</strong> with a total amount of <strong>{ NumberUtils.formatCurrency(onHoldAmount) }</strong></Alert>\r\n\r\n\t\tlet payoutsTodayNotification = <></>\r\n\r\n\t\tif(numPayoutsToday > 0)\r\n\t\t\tpayoutsTodayNotification = <Alert variant=\"success\">You have <strong>{ numPayoutsToday } payout(s)</strong> today with a total amount of <strong>{ NumberUtils.formatCurrency(totalPayoutsToday) }</strong></Alert>\r\n\r\n\t\t// Set the pins\r\n\t\tlet pins = <></>\r\n\t\tvar pinId = 0;\r\n\r\n\t\tif(this.state.pins.length > 0) {\r\n\t\t\tpins = this.state.pins.map((pin) => {\r\n\t\t\t\tpinId++;\r\n\r\n\t\t\t\treturn <Col md=\"4\" key={\"pin-\" + pinId}>\r\n\t\t\t\t\t<DashboardPin pinNumber={pinId} pin={pin} removePinClick={this.handleRemovePinClick} />\r\n\t\t\t\t</Col>\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<h2>Dashboard</h2>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">{ negativeGainPercentNotification }</Col>\r\n\t\t\t\t\t<Col md=\"12\">{ maturedProjectsNotification }</Col>\r\n\t\t\t\t\t<Col md=\"12\">{ onHoldProjectsNotification }</Col>\r\n\t\t\t\t\t<Col md=\"12\">{ payoutsTodayNotification }</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">From Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.fromDate} onChange={(e) => { this.setState({\"fromDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">To Date</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control type=\"date\" placeholder=\"yyyy-mm-dd\" \r\n                                value={this.state.toDate} onChange={(e) => { this.setState({\"toDate\": e.target.value }) }}/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Repayment Method</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.repaymentMethod} onChange={(e) => { this.setState({\"repaymentMethod\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n\t\t\t\t\t\t\t\t<option>Balloon</option>\r\n\t\t\t\t\t\t\t\t<option>Equal</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">Issuer</Form.Text>\r\n\t\t\t\t\t\t\t<Form.Control as=\"select\" custom\r\n                                value={this.state.issuer} onChange={(e) => { this.setState({\"issuer\": e.target.value}) }}>\r\n\t\t\t\t\t\t\t\t<option>All</option>\r\n                                { issuerOptions }\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Amount Invested / Projected Net</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ this.gainPercent } max=\"20\" />\r\n\t\t\t\t\t\t\t<InputGroup className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ NumberUtils.formatCurrency(this.amountInvested) + \" / \" + NumberUtils.formatCurrency(this.projectedNetAmount) } />\r\n\t\t\t\t\t\t\t\t<InputGroup.Append>\r\n\t\t\t\t\t\t\t\t\t<InputGroup.Text>{ this.gainPercent }%</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t</InputGroup.Append>\r\n\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Net Payout</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ this.netPayoutPercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ NumberUtils.formatCurrency(this.completedNetPayoutAmount) + \" out of \" + NumberUtils.formatCurrency(this.projectedNetAmount) } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Average Project Gross / Net Interest Rate per annum</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ this.averageProjectInterestPercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly\r\n\t\t\t\t\t\t\t\tvalue={ (this.averageGrossInterestRate * 100).toFixed(2) + \"% / \" + (this.averageNetInterestRate * 100).toFixed(2) + \"%\" } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Net Earnings</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ this.netEarningsPercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ NumberUtils.formatCurrency(this.completedNetEarnings) + \" out of \" + NumberUtils.formatCurrency(this.netEarnings) } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Completed Projects</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ this.completedProjectsPercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ this.completedProjects + \" out of \" + this.numOnGoingProjects } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>Average Project Tenure</Form.Label>\r\n\t\t\t\t\t\t\t<ProgressBar className=\"progress\" now={ this.averageProjectTenurePercent } />\r\n\t\t\t\t\t\t\t<FormControl size=\"lg\" readOnly value={ parseInt(this.averageTenure) + \" month(s)\" } />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\" style={{ textAlign: \"center\", marginBottom: \"1rem\" }}>\r\n\t\t\t\t\t\t<ButtonGroup className=\"mb-2\">\r\n\t\t\t\t\t\t\t<Button onClick={ ()=> { this.handleCreatePinClick(); } }>Pin Report</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"dark\" onClick={ () => { this.setState({\"showPinReportHelp\": true}) } }>?</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\t\t\r\n\t\t\t\t\t{ pins }\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Modal show={this.state.showNegativeGainExplanation} onHide={(e) => { this.setState({\"showNegativeGainExplanation\": false}) }}>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t<Modal.Title>Negative Gain</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tYou have a negative gain on the <strong>selected range of date</strong>{' '}\r\n\t\t\t\t\t\t\tbecause you have <strong>more funds on balloon repayment projects than equal repayment projects</strong>.{' '}\r\n\t\t\t\t\t\t\tUnlike equal repayment projects, your invested funds in a balloon repayment project is{' '}\r\n\t\t\t\t\t\t\t<strong>not divided into months but summed as a whole</strong>. Some of the interests might have{' '}\r\n\t\t\t\t\t\t\tbeen paid which already lowered your negative gain. As we move closer to the maturity dates more interest earned will be released and{' '}\r\n                \t\t\tthe negative gain will soon decrease and become positive <strong>once the tenure of the balloon projects have been reached</strong>.{' '}\r\n\t\t\t\t\t\t\tSo within the range of dates you have selected, some of your <strong>balloon projects{' '}\r\n\t\t\t\t\t\t\thave not yet reached their tenure</strong> which resulted to a negative gain.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Modal show={this.state.showPinReportHelp} onHide={(e) => { this.setState({\"showPinReportHelp\": false}) }}>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t<Modal.Title>Pin Report</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tThis feature allows you to take a snapshot of the calculated values in the dashboard based on the selected filters.\r\n\t\t\t\t\t\t\tThis is useful if you want to perform an analysis by comparing the performance of your investments from different dates,\r\n\t\t\t\t\t\t\trepayment methods, and/or issuers.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<strong>Note that snapshots does not update. If changes were made on investments, the snapshot will\r\n\t\t\t\t\t\t\tnot reflect those changes.</strong>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t</Modal>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DashboardContainer;\r\n","import React from \"react\";\r\nimport { Alert, Row, Col, Button } from \"react-bootstrap\";\r\n\r\n// For programmer credits\r\nclass AboutContainer extends React.Component {\r\n\r\n    // Open my BMC page\r\n    buyMeACoffee() {\r\n        var link = document.createElement(\"a\");\r\n        link.href = \"https://www.buymeacoffee.com/it2051229\";\r\n        link.target = \"_blank\";\r\n        link.click();\r\n    }\r\n\r\n    // Display info\r\n\trender() {\r\n\t\treturn (\r\n            <>\r\n                <Row>\r\n                    <Col md=\"6\">\r\n                        <h4>Are you related to SeedIn?</h4>\r\n                        <p>\r\n                            No, just like you we are fellow investors in SeedIn.\r\n                        </p>\r\n                        <h4>Why build this application?</h4>\r\n                        <p>\r\n                            For some, SeedIn's dashboard makes it difficult to keep track and sort investments. \r\n                            Some opted to create their own excel sheets, some used calendar apps, some used \r\n                            their own custom database, and some used reminder apps to keep track of their \r\n                            investments. Each and everyone of us have questions with regards to our investments \r\n                            which SeedIn's dashboard cannot directly answer. We decided to create our \r\n                            personalized way of tracking investment to make things easier and clearer \r\n                            for us. After all, we all need to do due diligence and be in sync with what's \r\n                            going on with our funds.\r\n                        </p>\r\n                        <p>\r\n                            We made it public and share with other SeedIn investors just in case it would be \r\n                            something useful to them.\r\n                        </p>\r\n                        <h4>Do you keep my data?</h4>\r\n                        <p>\r\n                            No, all your data are private and locally stored on this web browser. We do not keep your \r\n                            data in our servers. You cannot access your data from another computer or web browser.\r\n                        </p>\r\n                        <h4>Can I keep my data?</h4>\r\n                        <p>\r\n                            Yes, you can export your data. It will be extracted from your computer and downloaded as a file. \r\n                            You can then import the file through using this app from another web browser.\r\n                        </p>\r\n                    </Col>\r\n                    <Col md=\"6\">\r\n                        <h4>What else do I need to know before using this app?</h4>\r\n                        <p>\r\n                            This project is a work in progress but you're using a stable version. \r\n                            There might be changes and improvements anytime so you should use it at your own risk. \r\n                            We recommend to backup your data frequently.\r\n                        </p>\r\n                        <p>\r\n                            We're gradually adding features and fixing things so check our change logs from time to time so you can download\r\n                            the latest stable version:\r\n                        </p>                    \r\n                        <Alert variant=\"dark\">\r\n                            <Alert.Link href=\"https://it2051229.github.io/seedin/download.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://it2051229.github.io/ seedin/download.html</Alert.Link>\r\n                        </Alert>    \r\n                        <p>\r\n                            If you found any issues feel free to shoot \r\n                            us a message at <a href=\"mailto:contact@it2051229.com\">contact@it2051229.com</a>.\r\n                        </p>\r\n                        <p>\r\n                            <center><Button variant=\"primary\" onClick={(e) => this.buyMeACoffee()}>Buy me a coffee!</Button></center>\r\n                        </p>\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AboutContainer;\r\n","import React from \"react\";\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\nimport disableBrowserBackButton from \"disable-browser-back-navigation\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport InvestmentsContainer from \"./Components/InvestmentsContainer\";\nimport MyDataContainer from \"./Components/MyDataContainer\";\nimport DashboardContainer from \"./Components/DashboardContainer\";\nimport AboutContainer from \"./Components/AboutContainer\";\n\n// Entry class of the program\nclass App extends React.Component {\n\n\t// Initialize the main container\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\t// The dashboard is the starting container\n\t\tthis.state = { \n\t\t\t\"activeMenuName\": \"Dashboard\",\n\t\t\t\"version\": { \"major\": 1, \"minor\": 2, \"patch\": 2 }\n\t\t};\n\t}\n\n\t// Switch to another container\n\thandleMenuClick(newActiveMenuName) {\n\t\twindow.scrollTo(0, 0);\n\t\tlocalStorage.setItem(\"investmentsTable.scrollY\", 0);\n\t\tthis.setState({ \"activeMenuName\": newActiveMenuName });\n\t}\n\n\t// Disable the back button of the browser\n\tcomponentDidMount() {\n\t\tdisableBrowserBackButton();\n\t}\n\n\t// Entry point of the program\n\trender() {\n\t\t// Our containers and its mapping\n\t\tconst menuNames = [ \"Dashboard\", \"Investments\", \"My Data\", \"About\" ];\n\t\tconst menuContainers = [ <DashboardContainer />, <InvestmentsContainer />, <MyDataContainer appVersion={this.state.version} />, <AboutContainer /> ]\n\t\t\n\t\t// Put the nav links in a list, also show an active state on the selected menu\n\t\tconst menuNavLinks = menuNames.map((menuName) => {\n\t\t\tif(menuName === this.state.activeMenuName)\n\t\t\t\treturn <Nav.Link eventKey={menuName} key={menuName} active onClick={(e) => this.handleMenuClick(menuName)}>{menuName}</Nav.Link>\n\t\t\t\n\t\t\treturn <Nav.Link eventKey={menuName} key={menuName} onClick={(e) => this.handleMenuClick(menuName)}>{menuName}</Nav.Link>\n\t\t});\n\n\t\t// Find the active menu and the appropriate container to display\n\t\tlet activeMenuContainer = menuContainers[menuNames.indexOf(this.state.activeMenuName)];\t\n\t\t\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Navbar collapseOnSelect bg=\"dark\" variant=\"dark\" expand=\"md\" fixed=\"top\">\n\t\t\t\t<Navbar.Brand href=\"#home\"><strong>SeedIn Portfolio</strong><sup>{this.state.version.major}.{this.state.version.minor}.{this.state.version.patch}</sup></Navbar.Brand>\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t\t{ menuNavLinks }\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</Navbar>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t{activeMenuContainer}\t\t\t\t\n\t\t\t\t</Container>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
(this.webpackJsonpseedin=this.webpackJsonpseedin||[]).push([[0],{55:function(e,t,a){e.exports=a(65)},61:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),l=a.n(s),o=a(6),i=a(7),u=a(11),c=a(10),m=a(77),p=a(76),d=a(73),h=a(45),v=a.n(h),E=(a(60),a(61),a(26)),y=a(69),g=a(75),f=a(78),I=a(70),b=a(48),k=a(71),S=a(47),w=a(74),j=a(67),C=a(68),N=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"formatCurrency",value:function(e){return"\u20b1"+e.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]),e}(),O=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e="...",t="...",a="...",n="...",s=r.a.createElement("tr",null,r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"...")),l=r.a.createElement(r.a.Fragment,null);return null!==this.props.investment&&(e=(100*this.props.investment.calculateNetInterestRate()).toFixed(2)+"%",t=(100*this.props.investment.calculateTenureInterestRate()).toFixed(2)+"%",a=this.props.investment.calculateNetGainAmount(),n=this.props.investment.properties.investmentAmount+a,s=this.props.investment.generateRepaymentSchedule(),a=N.formatCurrency(a),n=N.formatCurrency(n),s=s.map((function(e){return r.a.createElement("tr",{key:e.date.toString()},r.a.createElement("td",null,e.date.toString()),r.a.createElement("td",null,N.formatCurrency(e.netInterestPayout)),r.a.createElement("td",null,N.formatCurrency(e.netPayout)))})),"On Hold"===this.props.investment.properties.status&&(l=r.a.createElement(j.a,{variant:"warning"},"This project is ",r.a.createElement("strong",null,"On Hold")," and the ",r.a.createElement("strong",null,"repayment dates are just samples dates"),". "))),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Investment Details"),r.a.createElement(g.a,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Interest Rate per annum"),r.a.createElement(g.a.Control,{type:"text",readOnly:!0,value:e})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Gain Rate after Tenure"),r.a.createElement(g.a.Control,{type:"text",readOnly:!0,value:t})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Gain Amount after Tenure"),r.a.createElement(g.a.Control,{type:"text",readOnly:!0,value:a})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Total Net Payout after Tenure"),r.a.createElement(g.a.Control,{type:"text",readOnly:!0,value:n}))),l,r.a.createElement(C.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Payment Date"),r.a.createElement("th",null,"Net Interest"),r.a.createElement("th",null,"Net Payout"))),r.a.createElement("tbody",null,s)))}}]),a}(r.a.Component),P=function(){function e(t,a,n){Object(o.a)(this,e),this.properties={year:t,month:a,day:n}}return Object(i.a)(e,[{key:"compareTo",value:function(e){return this.properties.year>e.properties.year?1:this.properties.year<e.properties.year?-1:this.properties.month>e.properties.month?1:this.properties.month<e.properties.month?-1:this.properties.day>e.properties.day?1:this.properties.day<e.properties.day?-1:0}},{key:"toString",value:function(){var e=this.properties.month,t=this.properties.day;return e<10&&(e="0"+e),t<10&&(t="0"+t),this.properties.year+"-"+e+"-"+t}},{key:"daysBetween",value:function(t){if(this.compareTo(t)>0)return t.daysBetween(this);var a=[31,28,31,30,31,30,31,31,30,31,30,31],n=this.properties.day,r=this.properties.month,s=this.properties.year,l=0;for(e.isLeapYear(s)&&(a[1]=29);s!==t.properties.year||r!==t.properties.month||n!==t.properties.day;)l++,++n>a[r-1]&&(n=1,++r>12&&(r=1,s++,e.isLeapYear(s)?a[1]=29:a[1]=28));return l}},{key:"subtractMonth",value:function(){var t=this.properties.year,a=this.properties.month-1;return a<1&&(a=12,t--),new e(t,a,this.properties.day)}},{key:"addMonth",value:function(){var t=this.properties.year,a=this.properties.month+1;return a>12&&(t++,a=1),new e(t,a,this.properties.day)}},{key:"toJson",value:function(){return{year:this.properties.year,month:this.properties.month,day:this.properties.day}}}],[{key:"now",value:function(){var t=new Date;return new e(t.getFullYear(),t.getMonth()+1,t.getDate())}},{key:"copy",value:function(t){return new e(t.properties.year,t.properties.month,t.properties.day)}},{key:"toMyDate",value:function(t){if(this.tokens=t.split("-"),3!==this.tokens.length)return null;for(var a=0;a<this.tokens.length;a++)if(isNaN(this.tokens[a]))return null;var n=parseInt(this.tokens[0]),r=parseInt(this.tokens[1]),s=parseInt(this.tokens[2]);if(n<1900||isNaN(n)||isNaN(r)||isNaN(s))return null;if(r<1||r>12)return null;var l=[31,28,31,30,31,30,31,31,30,31,30,31];return(n%100===0?n%400===0:n%4===0)&&(l[1]=29),s<1||s>l[r-1]?null:new e(n,r,s)}},{key:"jsonToObject",value:function(t){return new e(t.year,t.month,t.day)}},{key:"isLeapYear",value:function(e){return e%100===0?e%400===0:e%4===0}}]),e}(),D=function(){function e(t,a,n,r,s,l,i){Object(o.a)(this,e),this.properties={projectId:t,investmentAmount:a,grossInterestRate:n,date:r,repaymentMethod:s,tenure:l,projectUrl:"",issuer:"",status:i}}return Object(i.a)(e,[{key:"toJson",value:function(){return{projectId:this.properties.projectId,investmentAmount:this.properties.investmentAmount,grossInterestRate:this.properties.grossInterestRate,date:this.properties.date.toJson(),repaymentMethod:this.properties.repaymentMethod,tenure:this.properties.tenure,projectUrl:this.properties.projectUrl,issuer:this.properties.issuer,status:this.properties.status}}},{key:"getOpenDate",value:function(){var e=this.properties.projectId,t=parseInt(e[0]+""+e[1]+e[2]+e[3]),a=parseInt(e[4]+""+e[5]),n=parseInt(e[6]+""+e[7]);return new P(t,a,n)}},{key:"calculateSubscriptionDays",value:function(){if("On Hold"===this.properties.status)throw new Error("Project "+this.properties.projectId+" is On Hold");var e=this.properties.date.subtractMonth();return this.getOpenDate().daysBetween(e)}},{key:"calculateNetInterestRate",value:function(){return.7*this.properties.grossInterestRate}},{key:"calculateTenureInterestRate",value:function(){return this.calculateNetInterestRate()/12*this.properties.tenure}},{key:"calculateNetGainAmount",value:function(){return this.calculateTenureInterestRate()*this.properties.investmentAmount}},{key:"calculateMonthlyNetInterestPayoutAmount",value:function(){var e=this.calculateNetInterestRate()/12;return this.properties.investmentAmount*e}},{key:"calculateMonthlyCapitalPayoutAmount",value:function(){return"Equal"===this.properties.repaymentMethod?this.properties.investmentAmount/this.properties.tenure:0}},{key:"calculateNextPayDate",value:function(){var e=P.now(),t=this.generateRepaymentSchedule();if(e.compareTo(t[t.length-1].date)>0)return null;for(var a=0;a<t.length;a++)if(e.compareTo(t[a].date)<=0)return t[a].date;return null}},{key:"calculateMaturityDate",value:function(){var e=this.generateRepaymentSchedule();return e[e.length-1].date}},{key:"calculateNextPayAndMaturityDate",value:function(){if("On Hold"===this.properties.status)return{maturityDate:"On Hold",nextPayDate:"On Hold",nextPayAmount:0};var e=P.now(),t=this.generateRepaymentSchedule(),a={maturityDate:t[t.length-1].date,nextPayDate:"Completed",nextPayAmount:0};if(e.compareTo(t[t.length-1].date)<=0)for(var n=0;n<t.length;n++)if(e.compareTo(t[n].date)<=0){a.nextPayDate=t[n].date,a.nextPayAmount=t[n].netPayout;break}return a}},{key:"generateRepaymentSchedule",value:function(){for(var e=[],t=this.calculateMonthlyNetInterestPayoutAmount(),a=this.calculateMonthlyCapitalPayoutAmount(),n=P.copy(this.properties.date),r=0;r<this.properties.tenure;r++){var s=t+a;r+1===this.properties.tenure&&"Balloon"===this.properties.repaymentMethod&&(s+=this.properties.investmentAmount);var l={date:n,netInterestPayout:t,netPayout:s};e.push(l),n=n.addMonth()}return e}}],[{key:"validateProjectId",value:function(e){return this.validationResult={status:!0},""===e&&(this.validationResult.status=!1,this.validationResult.message="Project ID is required."),this.validationResult}},{key:"validateInvestedAmount",value:function(e){return this.validationResult={status:!0},""===e?(this.validationResult.status=!1,this.validationResult.message="Invested amount is required."):isNaN(e)?(this.validationResult.status=!1,this.validationResult.message="Amount should be a numeric value."):e<=0&&(this.validationResult.status=!1,this.validationResult.message="Amount should be a non-zero positive value."),this.validationResult}},{key:"validateGrossInterestRate",value:function(e){return this.validationResult={status:!0},""===e?(this.validationResult.status=!1,this.validationResult.message="Gross interest rate amount is required."):isNaN(e)?(this.validationResult.status=!1,this.validationResult.message="Gross interest rate should be a numeric value."):(e<1||e>20)&&(this.validationResult.status=!1,this.validationResult.message="Gross interest rate should be between 1% and 20% only."),this.validationResult}},{key:"validateDate",value:function(e){return e=P.toMyDate(e),this.validationResult={status:!0},null===e&&(this.validationResult.status=!1,this.validationResult.message="Invalid date."),this.validationResult}},{key:"validateTenure",value:function(e){return this.validationResult={status:!0},""===e?(this.validationResult.status=!1,this.validationResult.message="Tenure is required."):isNaN(e)?(this.validationResult.status=!1,this.validationResult.message="Tenure should be a numeric value."):(e<1||e>12)&&(this.validationResult.status=!1,this.validationResult.message="Tenure should be between 1 and 12 months only."),this.validationResult}},{key:"jsonToObject",value:function(t){"status"in t||(t.status="Invested");var a=new e(t.projectId,t.investmentAmount,t.grossInterestRate,P.jsonToObject(t.date),t.repaymentMethod,t.tenure,t.status);return a.properties.projectUrl=t.projectUrl,a.properties.issuer=t.issuer,a}},{key:"getEarliestAndLatestInvestmentDates",value:function(e){if(0===e.length)return null;for(var t=null,a=null,n=0;n<e.length;n++){var r=e[n],s=r.getOpenDate(),l=r.calculateMaturityDate();(null===t||s.compareTo(t)<0)&&(t=s),(null===a||l.compareTo(a)>0)&&(a=l)}return{earliest:t,latest:a}}},{key:"filterInvestmentsByDate",value:function(e,t,a){return e.filter((function(e){return e.calculateMaturityDate().compareTo(t)>=0&&e.getOpenDate().compareTo(a)<=0}))}},{key:"filterInvestmentsByRepaymentMethod",value:function(e,t){return e.filter((function(e){return"All"===t||t===e.properties.repaymentMethod}))}},{key:"filterInvestmentsByIssuer",value:function(e,t){return e.filter((function(e){return"All"===t||t===e.properties.issuer}))}},{key:"getIssuers",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];if("issuer"in n.properties&&""!==n.properties.issuer){var r=n.properties.issuer;t.indexOf(r)<=-1&&t.push(r)}}return t.sort(),t}}]),e}(),x=function(){function e(t,a,n,r,s,l,i,u,c,m,p,d,h,v,E,y,g){for(var f in Object(o.a)(this,e),this.properties={fromDate:t,toDate:a,repaymentMethod:n,issuer:r,amountInvested:s,completedNetEarnings:l,netEarnings:i,projectedNetAmount:u,completedNetPayoutAmount:c,completedProjects:m,gainPercent:p,numOngoingProjects:d,netInterestRateStats:h,tenureStats:v,netInterestRateAfterTenureStats:E,subscriptionDaysStats:y,idleDaysStats:g},this.properties)if(void 0===this.properties[f])throw new Error(f+" is undefined")}return Object(i.a)(e,[{key:"toJson",value:function(){return{fromDate:this.properties.fromDate,toDate:this.properties.toDate,repaymentMethod:this.properties.repaymentMethod,issuer:this.properties.issuer,amountInvested:this.properties.amountInvested,completedNetEarnings:this.properties.completedNetEarnings,netEarnings:this.properties.netEarnings,projectedNetAmount:this.properties.projectedNetAmount,completedNetPayoutAmount:this.properties.completedNetPayoutAmount,completedProjects:this.properties.completedProjects,gainPercent:this.properties.gainPercent,numOngoingProjects:this.properties.numOngoingProjects,netInterestRateStats:this.properties.netInterestRateStats,tenureStats:this.properties.tenureStats,netInterestRateAfterTenureStats:this.properties.netInterestRateAfterTenureStats,subscriptionDaysStats:this.properties.subscriptionDaysStats,idleDaysStats:this.properties.idleDaysStats}}}],[{key:"jsonToObject",value:function(t){return new e(t.fromDate,t.toDate,t.repaymentMethod,t.issuer,t.amountInvested,t.completedNetEarnings,t.netEarnings,t.projectedNetAmount,t.completedNetPayoutAmount,t.completedProjects,t.gainPercent,t.numOngoingProjects,t.netInterestRateStats,t.tenureStats,t.netInterestRateAfterTenureStats,t.subscriptionDaysStats,t.idleDaysStats)}}]),e}(),A=function(){function e(){Object(o.a)(this,e),"investments"in localStorage||(localStorage.setItem("investments",JSON.stringify({})),console.log("New investments storage created.")),"pins"in localStorage||(localStorage.setItem("pins",JSON.stringify([])),console.log("New pins storage created."));var t=JSON.parse(localStorage.getItem("investments"));this.investments={};for(var a=0;a<t.length;a++){var n=D.jsonToObject(t[a]);this.investments[n.properties.projectId]=n}var r=JSON.parse(localStorage.getItem("pins"));this.pins=[];for(var s=0;s<r.length;s++)try{var l=x.jsonToObject(r[s]);this.pins.push(l)}catch(i){console.log(i),this.pins=[]}}return Object(i.a)(e,[{key:"exportAsJson",value:function(e){var t=[];for(var a in this.investments)t.push(this.investments[a].toJson());localStorage.setItem("investments",JSON.stringify(t));for(var n=[],r=0;r<this.pins.length;r++)n.push(this.pins[r].toJson());return{version:e,investments:t,pins:n}}},{key:"importJson",value:function(e,t){return"version"in t?!!t.version.startsWith("1.2.")&&this.importJsonVersion_1_2(t):this.importJsonVersion_1_0_0(t)}},{key:"importJsonVersion_1_2",value:function(e){if(!("investments"in e)||!("pins"in e))return!1;for(var t={},a=e.investments,n=0;n<a.length;n++)try{var r=D.jsonToObject(a[n]);t[r.properties.projectId]=r}catch(u){return console.log(u),!1}this.investments=t;for(var s=[],l=e.pins,o=0;o<l.length;o++)try{var i=x.jsonToObject(l[o]);s.push(i)}catch(u){console.log(u)}return this.pins=s,this.persist(),!0}},{key:"importJsonVersion_1_0_0",value:function(e){for(var t={},a=0;a<e.length;a++)try{var n=D.jsonToObject(e[a]);t[n.properties.projectId]=n}catch(r){return console.log(r),!1}return this.investments=t,this.persist(),!0}},{key:"findInvestment",value:function(e){return e in this.investments?this.investments[e]:null}},{key:"deleteInvestment",value:function(e){delete this.investments[e],this.persist()}},{key:"addInvestment",value:function(e){this.investments[e.properties.projectId]=e,this.persist()}},{key:"getInvestments",value:function(){var e=[];for(var t in this.investments)e.push(this.investments[t]);return e}},{key:"addPin",value:function(e){this.pins.push(e),this.persist()}},{key:"deletePin",value:function(e){this.pins.splice(e,1),this.persist()}},{key:"getPins",value:function(){return this.pins.slice()}},{key:"persist",value:function(){var e=[];for(var t in this.investments)e.push(this.investments[t].toJson());localStorage.setItem("investments",JSON.stringify(e));for(var a=[],n=0;n<this.pins.length;n++)a.push(this.pins[n].toJson());localStorage.setItem("pins",JSON.stringify(a))}},{key:"clear",value:function(){this.investments={},this.pins=[],this.persist()}}]),e}(),R=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).database=new A,n.issuers=D.getIssuers(n.database.getInvestments()),"add"===e.formMode?n.state={projectId:"",loanee:"",projectUrl:"",investedAmount:"",grossInterestRate:"",status:"Invested",tenure:"",repaymentMethod:"Equal",date:"",investment:null,chooseIssuer:!1}:n.state={projectId:e.investment.properties.projectId,loanee:e.investment.properties.issuer,projectUrl:e.investment.properties.projectUrl,investedAmount:e.investment.properties.investmentAmount.toFixed(2),grossInterestRate:(100*e.investment.properties.grossInterestRate).toFixed(2),status:e.investment.properties.status,tenure:e.investment.properties.tenure,repaymentMethod:e.investment.properties.repaymentMethod,date:e.investment.properties.date.toString(),investment:e.investment,chooseIssuer:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),"update"===this.props.formMode&&this.handleCalculateClick()}},{key:"createInvestmentObject",value:function(){var e=D.validateProjectId(this.state.projectId);if(!e.status)return alert(e.message),null;if("add"===this.props.formMode&&null!=this.database.findInvestment(this.state.projectId))return alert("Another project has this ID already."),null;if(!(e=D.validateInvestedAmount(this.state.investedAmount)).status)return alert(e.message),null;if(!(e=D.validateGrossInterestRate(this.state.grossInterestRate)).status)return alert(e.message),null;var t=this.state.date;if("Invested"===this.state.status){if(!(e=D.validateDate(t)).status)return alert(e.message),null}else"On Hold"===this.state.status&&(t=P.now().toString(),this.setState({date:t}));if(!(e=D.validateTenure(this.state.tenure)).status)return alert(e.message),null;var a=new D(this.state.projectId,parseFloat(this.state.investedAmount),parseFloat(this.state.grossInterestRate)/100,P.toMyDate(t),this.state.repaymentMethod,parseInt(this.state.tenure),this.state.status);return a.properties.projectUrl=this.state.projectUrl,a.properties.issuer=this.state.loanee.toUpperCase(),a}},{key:"handleAddClick",value:function(){var e=this.createInvestmentObject();null!=e&&(this.database.addInvestment(e),alert("Investment created."),this.props.backClick())}},{key:"handleUpdateClick",value:function(){var e=this.createInvestmentObject();null!=e&&(this.database.addInvestment(e),alert("Investment updated."))}},{key:"handleDeleteClick",value:function(){window.confirm("Are you sure you want to delete this investment?")&&(this.database.deleteInvestment(this.state.investment.properties.projectId),this.props.backClick())}},{key:"handleCalculateClick",value:function(){var e=this.createInvestmentObject();null!=e&&this.setState({investment:e})}},{key:"handleShowIssuerClick",value:function(){this.issuers.length<=0?alert("There are no available issuers. Manually enter the issuer name and we'll remember it for you."):this.setState({chooseIssuer:!0})}},{key:"handleOpenProjectUrlClick",value:function(){if(""!==this.state.projectUrl){var e=this.state.projectUrl;e.toLowerCase().startsWith("https://")||e.toLowerCase().startsWith("http://")||(e="http://"+e);var t=document.createElement("a");t.target="_blank",t.rel="noopener noreferrer",t.href=e,t.click(),this.setState({projectUrl:e})}}},{key:"render",value:function(){var e,t,a,n=this;"add"===this.props.formMode?(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"dark",onClick:this.props.backClick},"Back")," ",r.a.createElement(y.a,{variant:"info",onClick:function(e){n.handleCalculateClick()}},"Calculate")," ",r.a.createElement(y.a,{variant:"primary",onClick:function(e){n.handleAddClick()}},"Add")),t="Add Investment",a=r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Project ID"),r.a.createElement(g.a.Control,{type:"text",placeholder:"Unique ID given by SeedIn",value:this.state.projectId,onChange:function(e){n.setState({projectId:e.target.value})}}))):"update"===this.props.formMode&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"dark",onClick:this.props.backClick},"Back")," ",r.a.createElement(y.a,{variant:"danger",onClick:function(e){n.handleDeleteClick()}},"Delete")," ",r.a.createElement(y.a,{variant:"info",onClick:function(e){n.handleCalculateClick()}},"Calculate")," ",r.a.createElement(y.a,{variant:"primary",onClick:function(e){n.handleUpdateClick()}},"Update")),t="Update Investment",a=r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Project ID"),r.a.createElement(g.a.Control,{type:"text",placeholder:"Unique ID given by SeedIn",readOnly:!0,value:this.state.projectId})));var s=r.a.createElement(r.a.Fragment,null);"Invested"===this.state.status&&(s=r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"First Date of Payment Schedule"),r.a.createElement(g.a.Control,{type:"date",placeholder:"yyyy-mm-dd",value:this.state.date,onChange:function(e){n.setState({date:e.target.value})}}),r.a.createElement(g.a.Text,{className:"text-muted"},"Please check your SeedIn account for the date.")));var l=this.issuers.map((function(e){return r.a.createElement(f.a.Item,{key:e,action:!0,onClick:function(t){return n.setState({loanee:e,chooseIssuer:!1})}},e)}));return r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"6"},r.a.createElement("h2",null,t),r.a.createElement(g.a,null,a,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Borrower Name (optional but recommended)"),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(S.a,{placeholder:"Issuer",value:this.state.loanee,onChange:function(e){n.setState({loanee:e.target.value})}}),r.a.createElement(k.a.Append,null,r.a.createElement(y.a,{variant:"outline-dark",onClick:function(e){n.handleShowIssuerClick()}},"Choose")))),r.a.createElement(w.a,{show:this.state.chooseIssuer,onHide:function(e){n.setState({chooseIssuer:!1})}},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Choose Issuer")),r.a.createElement(w.a.Body,null,r.a.createElement(f.a,null,l))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Project URL (optional)"),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(g.a.Control,{type:"text",placeholder:"Go to SeedIn, open the project, copy URL and paste it here.",value:this.state.projectUrl,onChange:function(e){n.setState({projectUrl:e.target.value})}}),r.a.createElement(k.a.Append,null,r.a.createElement(y.a,{variant:"outline-dark",onClick:function(e){n.handleOpenProjectUrlClick()}},"View")))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Invested Amount"),r.a.createElement(g.a.Control,{type:"number",step:"any",placeholder:"\u20b1",value:this.state.investedAmount,onChange:function(e){n.setState({investedAmount:e.target.value})}})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Gross Interest Rate per annum"),r.a.createElement(g.a.Control,{type:"number",step:"any",placeholder:"1% to 20%",value:this.state.grossInterestRate,onChange:function(e){n.setState({grossInterestRate:e.target.value})}})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Status"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.status,onChange:function(e){n.setState({status:e.target.value})}},r.a.createElement("option",null,"Invested"),r.a.createElement("option",null,"On Hold"))),s,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Repayment Method"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.repaymentMethod,onChange:function(e){n.setState({repaymentMethod:e.target.value})}},r.a.createElement("option",null,"Equal"),r.a.createElement("option",null,"Balloon"))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Tenure"),r.a.createElement(g.a.Control,{type:"number",placeholder:"1 to 12 months",value:this.state.tenure,onChange:function(e){n.setState({tenure:e.target.value})}}))),r.a.createElement("p",{style:{textAlign:"right"}},e)),r.a.createElement(b.a,{md:"6"},r.a.createElement(O,{investment:this.state.investment})))}}]),a}(r.a.Component),T=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).investments=(new A).getInvestments(),n.issuers=D.getIssuers(n.investments);var s=D.getEarliestAndLatestInvestmentDates(n.investments);return"investmentsTable.state"in localStorage?(n.state=JSON.parse(window.localStorage.getItem("investmentsTable.state")),null!=s&&(n.state.fromDate=s.earliest.toString(),n.state.toDate=s.latest.toString())):n.state={fromDate:null!==s?s.earliest.toString():"",toDate:null!==s?s.latest.toString():"",sortedBy:"Project ID",sortOrder:"Ascending",repaymentMethod:"All",issuer:"All"},n.listRef=r.a.createRef(),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){"investmentsTable.scrollY"in localStorage&&window.scrollTo(0,localStorage.getItem("investmentsTable.scrollY"))}},{key:"render",value:function(){var e=this,t=this.issuers.map((function(e){return r.a.createElement("option",{key:e},e)})),a=r.a.createElement("tr",null,r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."));if(this.investments.length>0){var n=P.toMyDate(this.state.fromDate),s=P.toMyDate(this.state.toDate),l=D.filterInvestmentsByDate(this.investments,n,s);l=D.filterInvestmentsByRepaymentMethod(l,this.state.repaymentMethod),l=D.filterInvestmentsByIssuer(l,this.state.issuer);var o=this.state.sortedBy;l.sort((function(e,t){if("Project ID"===o)return e.properties.propertyId-t.properties.propertyId;if("Investment Amount"===o)return e.properties.investmentAmount-t.properties.investmentAmount;if("Interest Rate"===o)return e.properties.grossInterestRate-t.properties.grossInterestRate;if("Next Pay Date"===o){var a=e.calculateNextPayDate(),n=t.calculateNextPayDate();return"On Hold"===e.properties.status&&"On Hold"===t.properties.status?0:"On Hold"===e.properties.status&&"Invested"===t.properties.status?1:"Invested"===e.properties.status&&"On Hold"===t.properties.status?-1:null===a&&null===n?0:null===a?1:null===n?-1:a.compareTo(n)}return"Maturity Date"===o?"On Hold"===e.properties.status&&"On Hold"===t.properties.status?0:"On Hold"===e.properties.status&&"Invested"===t.properties.status?1:"Invested"===e.properties.status&&"On Hold"===t.properties.status?-1:e.calculateMaturityDate().compareTo(t.calculateMaturityDate()):0})),"Descending"===this.state.sortOrder&&l.reverse(),a=l.map((function(t){var a=t.calculateNextPayAndMaturityDate();return r.a.createElement("tr",{key:t.properties.projectId,onClick:function(a){localStorage.setItem("investmentsTable.scrollY",window.scrollY),e.props.openInvestmentClick(t)}},r.a.createElement("td",null,r.a.createElement("strong",null,t.properties.projectId)),r.a.createElement("td",null,N.formatCurrency(t.properties.investmentAmount)),r.a.createElement("td",null,(100*t.properties.grossInterestRate).toFixed(2),"% p.a. "," ",t.properties.repaymentMethod),r.a.createElement("td",null,N.formatCurrency(t.properties.investmentAmount+t.calculateNetGainAmount())),r.a.createElement("td",null,a.nextPayDate.toString()),r.a.createElement("td",null,N.formatCurrency(a.nextPayAmount)),r.a.createElement("td",null,a.maturityDate.toString()))}))}return window.localStorage.setItem("investmentsTable.state",JSON.stringify(this.state)),r.a.createElement("div",{ref:this.listRef},r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"12"},r.a.createElement("h2",null,"Investments"),r.a.createElement("p",null,r.a.createElement(y.a,{variant:"primary",onClick:this.props.addInvestmentClick},"Add Investment")))),r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"From Date"),r.a.createElement(g.a.Control,{type:"date",placeholder:"yyyy-mm-dd",value:this.state.fromDate,onChange:function(t){e.setState({fromDate:t.target.value})}}))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"To Date"),r.a.createElement(g.a.Control,{type:"date",placeholder:"yyyy-mm-dd",value:this.state.toDate,onChange:function(t){e.setState({toDate:t.target.value})}}))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"Sorted By"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.sortedBy,onChange:function(t){e.setState({sortedBy:t.target.value})}},r.a.createElement("option",null,"Project ID"),r.a.createElement("option",null,"Investment Amount"),r.a.createElement("option",null,"Interest Rate"),r.a.createElement("option",null,"Next Pay Date"),r.a.createElement("option",null,"Maturity Date")))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"Sort Order"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.sortOrder,onChange:function(t){e.setState({sortOrder:t.target.value})}},r.a.createElement("option",null,"Ascending"),r.a.createElement("option",null,"Descending")))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"Repayment Method"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.repaymentMethod,onChange:function(t){e.setState({repaymentMethod:t.target.value})}},r.a.createElement("option",null,"All"),r.a.createElement("option",null,"Balloon"),r.a.createElement("option",null,"Equal")))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"Issuer"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.issuer,onChange:function(t){e.setState({issuer:t.target.value})}},r.a.createElement("option",null,"All"),t)))),r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"12"},r.a.createElement(C.a,{id:"investmentsTable",responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"align-middle"},"Project ID"),r.a.createElement("th",{className:"align-middle"},"Investment Amount"),r.a.createElement("th",{className:"align-middle"},"Gross %"),r.a.createElement("th",{className:"align-middle"},"Net Payout"),r.a.createElement("th",{className:"align-middle"},"Next Pay Date"),r.a.createElement("th",{className:"align-middle"},"Next Pay Amount"),r.a.createElement("th",{className:"align-middle"},"Maturity Date"))),r.a.createElement("tbody",null,a)))))}}]),a}(r.a.Component),M=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={activeComponentName:"InvestmentsTable",investment:null},n.handleOpenInvestmentClick=n.handleOpenInvestmentClick.bind(Object(E.a)(n)),n}return Object(i.a)(a,[{key:"handleAddInvestmentClick",value:function(){localStorage.setItem("investmentsTable.scrollY",0),this.setState({activeComponentName:"AddInvestmentForm",investment:null})}},{key:"handleOpenInvestmentClick",value:function(e){this.setState({activeComponentName:"OpenInvestmentForm",investment:e})}},{key:"handleBackClick",value:function(){this.setState({activeComponentName:"InvestmentsTable"})}},{key:"render",value:function(){var e=this,t=[r.a.createElement(T,{addInvestmentClick:function(t){e.handleAddInvestmentClick()},openInvestmentClick:this.handleOpenInvestmentClick}),r.a.createElement(R,{formMode:"add",backClick:function(t){e.handleBackClick()}}),r.a.createElement(R,{formMode:"update",backClick:function(t){e.handleBackClick()},investment:this.state.investment})][["InvestmentsTable","AddInvestmentForm","OpenInvestmentForm"].indexOf(this.state.activeComponentName)];return r.a.createElement(r.a.Fragment,null,t)}}]),a}(r.a.Component),G=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).database=new A,n}return Object(i.a)(a,[{key:"handleExportClick",value:function(){var e=this.props.appVersion.major+"."+this.props.appVersion.minor+"."+this.props.appVersion.patch,t=document.createElement("a");t.download="seedin"+e+" "+P.now().toString()+".data",t.href="data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.database.exportAsJson(e))),t.click()}},{key:"handleImportClick",value:function(e){if(window.confirm("This will delete your current data, are you sure you want to continue?")){var t=new FileReader,a=this.database,n=this.props.appVersion.major+"."+this.props.appVersion.minor+"."+this.props.appVersion.patch;t.onload=function(){try{a.importJson(n,JSON.parse(t.result))?window.alert("Import successful."):window.alert("Import failed.")}catch(e){console.log(e),window.alert("Invalid file.")}},t.readAsText(e)}}},{key:"handleResetClick",value:function(){window.confirm("Are you sure you want to clear your data?")&&(this.database.clear(),localStorage.clear(),window.alert("Clear successful."))}},{key:"render",value:function(){var e=this;return r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"6"},r.a.createElement("h2",null,"My Data"),r.a.createElement("p",null,"Your data is locally saved on this web browser you are currently using. You can continue working on it anytime. You can export and download your data as a file if you wish to work on your data from another device or web browser."),r.a.createElement("h2",null,"Export"),r.a.createElement("p",null,r.a.createElement(y.a,{variant:"primary",onClick:function(t){e.handleExportClick()}},"Download My Data")),r.a.createElement("h2",null,"Import"),r.a.createElement("p",null,"Restore your data from an exported file. This replaces any data that is currently saved."),r.a.createElement(g.a.File,{label:"Browse or drag file to this box",custom:!0,onChange:function(t){e.handleImportClick(t.target.files[0])}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(b.a,{md:"6"},r.a.createElement("h2",null,"Reset"),r.a.createElement("p",null,"Delete all your saved data from this web browser."),r.a.createElement("p",null,r.a.createElement(y.a,{variant:"danger",onClick:function(t){e.handleResetClick()}},"Clear My Data"))))}}]),a}(r.a.Component),L=a(80),F=a(72),B=a(79),H=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.pin.properties;return r.a.createElement(B.a,{bg:"dark",text:"white",style:{marginBottom:"2rem"}},r.a.createElement(B.a.Header,null,r.a.createElement("strong",null,t.fromDate," to ",t.toDate)),r.a.createElement(B.a.Body,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Repayment Method"),r.a.createElement(S.a,{size:"sm",readOnly:!0,value:t.repaymentMethod})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Issuer"),r.a.createElement(S.a,{size:"sm",readOnly:!0,value:t.issuer})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Amount Invested / Projected Net"),r.a.createElement(L.a,{className:"progress",now:t.gainPercent,max:"20"}),r.a.createElement(k.a,{size:"sm",className:"mb-3"},r.a.createElement(S.a,{readOnly:!0,value:N.formatCurrency(t.amountInvested)+" / "+N.formatCurrency(t.projectedNetAmount)}),r.a.createElement(k.a.Append,null,r.a.createElement(k.a.Text,null,t.gainPercent,"%")))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Payout"),r.a.createElement(L.a,{className:"progress",now:t.completedNetPayoutAmount,max:t.projectedNetAmount}),r.a.createElement(S.a,{size:"sm",readOnly:!0,value:N.formatCurrency(t.completedNetPayoutAmount)+" out of "+N.formatCurrency(t.projectedNetAmount)})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Earnings"),r.a.createElement(L.a,{className:"progress",now:t.completedNetEarnings,max:t.netEarnings}),r.a.createElement(S.a,{size:"sm",readOnly:!0,value:N.formatCurrency(t.completedNetEarnings)+" out of "+N.formatCurrency(t.netEarnings)})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Completed Projects"),r.a.createElement(L.a,{className:"progress",now:t.completedProjects,max:t.numOngoingProjects}),r.a.createElement(S.a,{size:"sm",readOnly:!0,value:t.completedProjects+" out of "+t.numOngoingProjects})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Interest Rate per annum"),r.a.createElement(L.a,{className:"progress",now:100*t.netInterestRateStats.avg,max:"20"}),r.a.createElement(k.a,{size:"sm",className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:(100*t.netInterestRateStats.avg).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:(100*t.netInterestRateStats.high).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:(100*t.netInterestRateStats.low).toFixed(2)+"%"}))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Interest Rate after Tenure"),r.a.createElement(L.a,{className:"progress",now:100*t.netInterestRateAfterTenureStats.avg,max:"20"}),r.a.createElement(k.a,{size:"sm",className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:(100*t.netInterestRateAfterTenureStats.avg).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:(100*t.netInterestRateAfterTenureStats.high).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:(100*t.netInterestRateAfterTenureStats.low).toFixed(2)+"%"}))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Project Tenure (months)"),r.a.createElement(L.a,{className:"progress",now:t.tenureStats.avg,max:"12"}),r.a.createElement(k.a,{size:"sm",className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:parseInt(t.tenureStats.avg)}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:t.tenureStats.high}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:t.tenureStats.low}))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Subscription Length (days)"),r.a.createElement(L.a,{className:"progress",now:t.subscriptionDaysStats.avg,max:"30"}),r.a.createElement(k.a,{size:"sm",className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:parseInt(t.subscriptionDaysStats.avg)}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:t.subscriptionDaysStats.high}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:t.subscriptionDaysStats.low}))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Days before participating on another project"),r.a.createElement(L.a,{className:"progress",now:t.idleDaysStats.avg,max:"30"}),r.a.createElement(k.a,{size:"sm",className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:parseInt(t.idleDaysStats.avg)}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:t.idleDaysStats.high}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:t.idleDaysStats.low})))),r.a.createElement(B.a.Footer,{style:{textAlign:"center"}},r.a.createElement(y.a,{onClick:function(){e.props.removePinClick(e.props.pinNumber)}},"Remove")))}}]),a}(r.a.Component),J=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).database=new A,n.investments=n.database.getInvestments(),n.issuers=D.getIssuers(n.investments);var r=D.getEarliestAndLatestInvestmentDates(n.investments);return n.state={fromDate:null!==r?r.earliest.toString():"",toDate:null!==r?r.latest.toString():"",repaymentMethod:"All",issuer:"All",showNegativeGainExplanation:!1,showPinReportHelp:!1,pins:n.database.getPins()},n.handleRemovePinClick=n.handleRemovePinClick.bind(Object(E.a)(n)),n}return Object(i.a)(a,[{key:"handleCreatePinClick",value:function(){var e=P.toMyDate(this.state.fromDate),t=P.toMyDate(this.state.toDate);if(null==e||null==t||e.compareTo(t)>0)window.alert("Pick a sensible date.");else{var a=new x(this.state.fromDate,this.state.toDate,this.state.repaymentMethod,this.state.issuer,this.amountInvested,this.completedNetEarnings,this.netEarnings,this.projectedNetAmount,this.completedNetPayoutAmount,this.completedProjects,this.gainPercent,this.numOngoingProjects,this.netInterestRateStats,this.tenureStats,this.netInterestRateAfterTenureStats,this.subscriptionDaysStats,this.idleDaysStats);this.database.addPin(a),this.setState({pins:this.database.getPins()})}}},{key:"handleRemovePinClick",value:function(e){this.database.deletePin(e-1),this.setState({pins:this.database.getPins()})}},{key:"render",value:function(){var e=this,t=this.issuers.map((function(e){return r.a.createElement("option",{key:e},e)})),a=P.toMyDate(this.state.fromDate),n=P.toMyDate(this.state.toDate),s=P.now(),l=0,o=0,i=0,u=0,c=0,m=0;this.amountInvested=0,this.completedNetEarnings=0,this.netEarnings=0,this.projectedNetAmount=0,this.completedNetPayoutAmount=0,this.completedProjects=0,this.gainPercent=0,this.numOngoingProjects=0,this.netInterestRateStats={avg:0,low:0,high:0},this.tenureStats={avg:0,low:0,high:0},this.netInterestRateAfterTenureStats={avg:0,low:0,high:0},this.subscriptionDaysStats={avg:0,low:0,high:0},this.idleDaysStats={avg:0,low:0,high:0};var p=[];if(null!=a&&null!=n&&a.compareTo(n)<=0){if(p=D.filterInvestmentsByDate(this.investments,a,n),p=D.filterInvestmentsByRepaymentMethod(p,this.state.repaymentMethod),(p=D.filterInvestmentsByIssuer(p,this.state.issuer)).length>0){p.sort((function(e,t){return e.properties.propertyId-t.properties.propertyId})),console.log(p);for(var d=0,h=1;h<p.length;h++){var v=p[h-1].getOpenDate().daysBetween(p[h].getOpenDate());(1===h||v>this.idleDaysStats.high)&&(this.idleDaysStats.high=v,console.log(v+" days === from: "+p[h-1].getOpenDate()+" - to: "+p[h].getOpenDate())),(1===h||v<this.idleDaysStats.low)&&(this.idleDaysStats.low=v),d+=v}this.idleDaysStats.avg=d/p.length}for(var E=0,f=0,C=0;C<p.length;C++){var O=p[C];if("On Hold"!==O.properties.status){var x=O.calculateNetInterestRate();(0===C||x>this.netInterestRateStats.high)&&(this.netInterestRateStats.high=x),(0===C||x<this.netInterestRateStats.low)&&(this.netInterestRateStats.low=x);var A=O.properties.tenure;(0===C||A>this.tenureStats.high)&&(this.tenureStats.high=A),(0===C||A<this.tenureStats.low)&&(this.tenureStats.low=A);var R=O.calculateSubscriptionDays();(0===C||R>this.subscriptionDaysStats.high)&&(this.subscriptionDaysStats.high=R),(0===C||R<this.subscriptionDaysStats.low)&&(this.subscriptionDaysStats.low=R),E+=x,f+=A,m+=R;var T=O.generateRepaymentSchedule();0===T[T.length-1].date.compareTo(s)&&l++,T[T.length-1].date.compareTo(s)<=0&&this.completedProjects++,"Balloon"===O.properties.repaymentMethod&&(this.amountInvested+=O.properties.investmentAmount);for(var M=0;M<T.length;M++){var G=T[M];G.date.compareTo(a)>=0&&G.date.compareTo(n)<=0&&(0===G.date.compareTo(s)&&(u++,c+=G.netPayout),this.projectedNetAmount+=G.netPayout,"Equal"===O.properties.repaymentMethod&&(this.amountInvested+=G.netPayout-G.netInterestPayout),this.netEarnings+=G.netInterestPayout,G.date.compareTo(s)<=0&&(this.completedNetEarnings+=G.netInterestPayout,this.completedNetPayoutAmount+=G.netPayout))}}else o++,i+=O.properties.investmentAmount}this.numOngoingProjects=p.length-o,this.gainPercent=((this.projectedNetAmount-this.amountInvested)/this.amountInvested*100).toFixed(2),isNaN(this.gainPercent)&&(this.gainPercent=0),this.numOngoingProjects>0&&(this.netInterestRateStats.avg=E/this.numOngoingProjects,this.tenureStats.avg=f/this.numOngoingProjects,this.netInterestRateAfterTenureStats.avg=this.netInterestRateStats.avg/12*this.tenureStats.avg,this.netInterestRateAfterTenureStats.high=this.netInterestRateStats.high/12*this.tenureStats.high,this.netInterestRateAfterTenureStats.low=this.netInterestRateStats.low/12*this.tenureStats.low,this.subscriptionDaysStats.avg=this.averageNetInterestRateAfterTenure=m/this.numOngoingProjects)}var B=r.a.createElement(r.a.Fragment,null);this.gainPercent<0&&(B=r.a.createElement(j.a,{className:"clickable-alert",variant:"info",onClick:function(t){e.setState({showNegativeGainExplanation:!0})}},"You got a ",r.a.createElement("strong",null,r.a.createElement("u",null,"negative gain")),"."));var J=r.a.createElement(r.a.Fragment,null);l>0&&(J=r.a.createElement(j.a,{variant:"success"},r.a.createElement("strong",null,"Congratulations!")," You have ",r.a.createElement("strong",null,l," project(s)")," that reached the maturity date today."));var U=r.a.createElement(r.a.Fragment,null);o>0&&(U=r.a.createElement(j.a,{variant:"warning"},"You have ",r.a.createElement("strong",null,o," on hold project(s)")," with a total amount of ",r.a.createElement("strong",null,N.formatCurrency(i))));var Y=r.a.createElement(r.a.Fragment,null);u>0&&(Y=r.a.createElement(j.a,{variant:"success"},"You have ",r.a.createElement("strong",null,u," payout(s)")," today with a total amount of ",r.a.createElement("strong",null,N.formatCurrency(c))));var q=r.a.createElement(r.a.Fragment,null),z=0;return this.state.pins.length>0&&(q=this.state.pins.map((function(t){return z++,r.a.createElement(b.a,{md:"4",key:"pin-"+z},r.a.createElement(H,{pinNumber:z,pin:t,removePinClick:e.handleRemovePinClick}))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"12"},r.a.createElement("h2",null,"Dashboard"))),r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"12"},B),r.a.createElement(b.a,{md:"12"},J),r.a.createElement(b.a,{md:"12"},U),r.a.createElement(b.a,{md:"12"},Y)),r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"From Date"),r.a.createElement(g.a.Control,{type:"date",placeholder:"yyyy-mm-dd",value:this.state.fromDate,onChange:function(t){e.setState({fromDate:t.target.value})}}))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"To Date"),r.a.createElement(g.a.Control,{type:"date",placeholder:"yyyy-mm-dd",value:this.state.toDate,onChange:function(t){e.setState({toDate:t.target.value})}}))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"Repayment Method"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.repaymentMethod,onChange:function(t){e.setState({repaymentMethod:t.target.value})}},r.a.createElement("option",null,"All"),r.a.createElement("option",null,"Balloon"),r.a.createElement("option",null,"Equal")))),r.a.createElement(b.a,{md:"2"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Text,{className:"text-muted"},"Issuer"),r.a.createElement(g.a.Control,{as:"select",custom:!0,value:this.state.issuer,onChange:function(t){e.setState({issuer:t.target.value})}},r.a.createElement("option",null,"All"),t)))),r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"4"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Amount Invested / Projected Net"),r.a.createElement(L.a,{className:"progress",now:this.gainPercent>0?this.gainPercent:0,max:"20"}),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(S.a,{readOnly:!0,value:N.formatCurrency(this.amountInvested)+" / "+N.formatCurrency(this.projectedNetAmount)}),r.a.createElement(k.a.Append,null,r.a.createElement(k.a.Text,null,this.gainPercent,"%")))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Payout"),r.a.createElement(L.a,{className:"progress",now:this.completedNetPayoutAmount,max:this.projectedNetAmount}),r.a.createElement(S.a,{readOnly:!0,value:N.formatCurrency(this.completedNetPayoutAmount)+" out of "+N.formatCurrency(this.projectedNetAmount)})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Earnings"),r.a.createElement(L.a,{className:"progress",now:this.completedNetEarnings,max:this.netEarnings}),r.a.createElement(S.a,{readOnly:!0,value:N.formatCurrency(this.completedNetEarnings)+" out of "+N.formatCurrency(this.netEarnings)})),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Completed Projects"),r.a.createElement(L.a,{className:"progress",now:this.completedProjects,max:this.numOngoingProjects}),r.a.createElement(S.a,{readOnly:!0,value:this.completedProjects+" out of "+this.numOngoingProjects}))),r.a.createElement(b.a,{md:"4"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Interest Rate per annum"),r.a.createElement(L.a,{className:"progress",now:100*this.netInterestRateStats.avg,max:"20"}),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:(100*this.netInterestRateStats.avg).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:(100*this.netInterestRateStats.high).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:(100*this.netInterestRateStats.low).toFixed(2)+"%"}))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Net Interest Rate after Tenure"),r.a.createElement(L.a,{className:"progress",now:100*this.netInterestRateAfterTenureStats.avg,max:"20"}),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:(100*this.netInterestRateAfterTenureStats.avg).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:(100*this.netInterestRateAfterTenureStats.high).toFixed(2)+"%"}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:(100*this.netInterestRateAfterTenureStats.low).toFixed(2)+"%"}))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Project Tenure (months)"),r.a.createElement(L.a,{className:"progress",now:this.tenureStats.avg,max:"12"}),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:parseInt(this.tenureStats.avg)}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:this.tenureStats.high}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:this.tenureStats.low}))),r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Subscription Length (days)"),r.a.createElement(L.a,{className:"progress",now:this.subscriptionDaysStats.avg,max:"30"}),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:parseInt(this.subscriptionDaysStats.avg)}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:this.subscriptionDaysStats.high}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:this.subscriptionDaysStats.low})))),r.a.createElement(b.a,{md:"4"},r.a.createElement(g.a.Group,null,r.a.createElement(g.a.Label,null,"Days before participating on another project"),r.a.createElement(L.a,{className:"progress",now:this.idleDaysStats.avg,max:"30"}),r.a.createElement(k.a,{className:"mb-3"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Avg")),r.a.createElement(S.a,{readOnly:!0,value:parseInt(this.idleDaysStats.avg)}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"High")),r.a.createElement(S.a,{readOnly:!0,value:this.idleDaysStats.high}),r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"Low")),r.a.createElement(S.a,{readOnly:!0,value:this.idleDaysStats.low}))))),r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"12",style:{textAlign:"center",marginBottom:"1rem"}},r.a.createElement(F.a,{size:"lg",className:"mb-2"},r.a.createElement(y.a,{onClick:function(){e.handleCreatePinClick()}},"Pin Report"),r.a.createElement(y.a,{variant:"dark",onClick:function(){e.setState({showPinReportHelp:!0})}},"?")))),r.a.createElement(I.a,null,q),r.a.createElement(w.a,{show:this.state.showNegativeGainExplanation,onHide:function(t){e.setState({showNegativeGainExplanation:!1})}},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Negative Gain")),r.a.createElement(w.a.Body,null,r.a.createElement("p",null,"You have a negative gain on the ",r.a.createElement("strong",null,"selected range of date")," ","because you have ",r.a.createElement("strong",null,"more funds on balloon repayment projects than equal repayment projects"),"."," ","Unlike equal repayment projects, your invested funds in a balloon repayment project is"," ",r.a.createElement("strong",null,"not divided into months but summed as a whole"),". Some of the interests might have"," ","been paid which already lowered your negative gain. As we move closer to the maturity dates more interest earned will be released and"," ","the negative gain will soon decrease and become positive ",r.a.createElement("strong",null,"once the tenure of the balloon projects have been reached"),"."," ","So within the range of dates you have selected, some of your ",r.a.createElement("strong",null,"balloon projects"," ","have not yet reached their tenure")," which resulted to a negative gain."))),r.a.createElement(w.a,{show:this.state.showPinReportHelp,onHide:function(t){e.setState({showPinReportHelp:!1})}},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Pin Report")),r.a.createElement(w.a.Body,null,r.a.createElement("p",null,"This feature allows you to take a snapshot of the calculated values in the dashboard based on the selected filters. This is useful if you want to perform an analysis by comparing the performance of your investments from different dates, repayment methods, and/or issuers."),r.a.createElement("p",null,r.a.createElement("strong",null,"Note that snapshots does not update. If changes were made on investments, the snapshot will not reflect those changes.")))))}}]),a}(r.a.Component),U=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"buyMeACoffee",value:function(){var e=document.createElement("a");e.href="https://www.buymeacoffee.com/it2051229",e.target="_blank",e.click()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(b.a,{md:"6"},r.a.createElement("h4",null,"Are you related to SeedIn?"),r.a.createElement("p",null,"No, just like you we are fellow investors in SeedIn."),r.a.createElement("h4",null,"Why build this application?"),r.a.createElement("p",null,"For some, SeedIn's dashboard makes it difficult to keep track and sort investments. Some opted to create their own excel sheets, some used calendar apps, some used their own custom database, and some used reminder apps to keep track of their investments. Each and everyone of us have questions with regards to our investments which SeedIn's dashboard cannot directly answer. We decided to create our personalized way of tracking investment to make things easier and clearer for us. After all, we all need to do due diligence and be in sync with what's going on with our funds."),r.a.createElement("p",null,"We made it public and share with other SeedIn investors just in case it would be something useful to them."),r.a.createElement("h4",null,"Do you keep my data?"),r.a.createElement("p",null,"No, all your data are private and locally stored on this web browser. We do not keep your data in our servers. You cannot access your data from another computer or web browser."),r.a.createElement("h4",null,"Can I keep my data?"),r.a.createElement("p",null,"Yes, you can export your data. It will be extracted from your computer and downloaded as a file. You can then import the file through using this app from another web browser.")),r.a.createElement(b.a,{md:"6"},r.a.createElement("h4",null,"What else do I need to know before using this app?"),r.a.createElement("p",null,"This project is a work in progress but you're using a stable version. There might be changes and improvements anytime so you should use it at your own risk. We recommend to backup your data frequently."),r.a.createElement("p",null,"We're gradually adding features and fixing things so check our change logs from time to time so you can download the latest stable version:"),r.a.createElement(j.a,{variant:"dark"},r.a.createElement(j.a.Link,{href:"https://it2051229.github.io/seedin/download.html",target:"_blank",rel:"noopener noreferrer"},"https://it2051229.github.io/ seedin/download.html")),r.a.createElement("p",null,"If you found any issues feel free to shoot us a message at ",r.a.createElement("a",{href:"mailto:contact@it2051229.com"},"contact@it2051229.com"),"."),r.a.createElement("p",null,r.a.createElement("center",null,r.a.createElement(y.a,{variant:"primary",onClick:function(t){return e.buyMeACoffee()}},"Buy me a coffee!"))))))}}]),a}(r.a.Component),Y=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={activeMenuName:"Dashboard",version:{major:1,minor:2,patch:9}},n}return Object(i.a)(a,[{key:"handleMenuClick",value:function(e){window.scrollTo(0,0),localStorage.setItem("investmentsTable.scrollY",0),this.setState({activeMenuName:e})}},{key:"componentDidMount",value:function(){v()()}},{key:"render",value:function(){var e=this,t=["Dashboard","Investments","My Data","About"],a=[r.a.createElement(J,null),r.a.createElement(M,null),r.a.createElement(G,{appVersion:this.state.version}),r.a.createElement(U,null)],n=t.map((function(t){return t===e.state.activeMenuName?r.a.createElement(m.a.Link,{eventKey:t,key:t,active:!0,onClick:function(a){return e.handleMenuClick(t)}},t):r.a.createElement(m.a.Link,{eventKey:t,key:t,onClick:function(a){return e.handleMenuClick(t)}},t)})),s=a[t.indexOf(this.state.activeMenuName)];return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"md",fixed:"top"},r.a.createElement(p.a.Brand,{href:"#home"},r.a.createElement("strong",null,"SeedIn Portfolio"),r.a.createElement("sup",null,this.state.version.major,".",this.state.version.minor,".",this.state.version.patch)),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(m.a,{className:"mr-auto"},n))),r.a.createElement(d.a,{fluid:!0},s))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.4d0cf8e5.chunk.js.map